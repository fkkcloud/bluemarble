angular.module("app",["ngRoute"]),angular.module("app").controller("ApplicationCtrl",["$rootScope","$scope","$window",function(e,c,o){c.resetDataViz=function(){FRAME=0,EdgeManager.reset(),NodeManager.reset()}}]),angular.module("app").controller("DataVizCtrl",["$rootScope","$scope","$window",function(e,c,o){function g(){$(".data-visibility").addClass("active")}c.meanAge=48,c.updateMeanAge=function(){if(!(FRAME>400)){var e=mapRange([0,400],[48,78],FRAME);c.meanAge=e,c.$apply(),requestAnimationFrame(c.updateMeanAge)}},c.updateMeanAge(),g(),$("#btn-reset").click(function(){FRAME=0,EdgeManager.reset(),NodeManager.reset()}),$("#checkbox_hide_nodes").change(function(){NodeManager.toggleVisibility($(this).is(":checked")?!0:!1)}),$("#checkbox_c_all").change(function(){var e=$(this).is(":checked");$("#checkbox_c0").prop("checked",e),$("#checkbox_c0").trigger("change"),$("#checkbox_c1").prop("checked",e),$("#checkbox_c1").trigger("change"),$("#checkbox_c2").prop("checked",e),$("#checkbox_c2").trigger("change"),$("#checkbox_c3").prop("checked",e),$("#checkbox_c3").trigger("change"),$("#checkbox_c4").prop("checked",e),$("#checkbox_c4").trigger("change"),$("#checkbox_c5").prop("checked",e),$("#checkbox_c5").trigger("change"),$("#checkbox_c6").prop("checked",e),$("#checkbox_c6").trigger("change"),$("#checkbox_c7").prop("checked",e),$("#checkbox_c7").trigger("change"),$("#checkbox_c8").prop("checked",e),$("#checkbox_c8").trigger("change"),$("#checkbox_c9").prop("checked",e),$("#checkbox_c9").trigger("change"),$("#checkbox_c10").prop("checked",e),$("#checkbox_c10").trigger("change"),$("#checkbox_c11").prop("checked",e),$("#checkbox_c11").trigger("change"),$("#checkbox_c12").prop("checked",e),$("#checkbox_c12").trigger("change"),$("#checkbox_c13").prop("checked",e),$("#checkbox_c13").trigger("change"),$("#checkbox_c14").prop("checked",e),$("#checkbox_c14").trigger("change"),$("#checkbox_c15").prop("checked",e),$("#checkbox_c15").trigger("change"),$("#checkbox_c16").prop("checked",e),$("#checkbox_c16").trigger("change"),$("#checkbox_c17").prop("checked",e),$("#checkbox_c17").trigger("change")}),$("#checkbox_c0").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(0,!0):EdgeManager.toggleShowByCluster(0,!1)}),$("#checkbox_c1").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(1,!0):EdgeManager.toggleShowByCluster(1,!1)}),$("#checkbox_c2").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(2,!0):EdgeManager.toggleShowByCluster(2,!1)}),$("#checkbox_c3").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(3,!0):EdgeManager.toggleShowByCluster(3,!1)}),$("#checkbox_c4").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(4,!0):EdgeManager.toggleShowByCluster(4,!1)}),$("#checkbox_c5").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(5,!0):EdgeManager.toggleShowByCluster(5,!1)}),$("#checkbox_c6").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(6,!0):EdgeManager.toggleShowByCluster(6,!1)}),$("#checkbox_c7").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(7,!0):EdgeManager.toggleShowByCluster(7,!1)}),$("#checkbox_c8").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(8,!0):EdgeManager.toggleShowByCluster(8,!1)}),$("#checkbox_c9").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(9,!0):EdgeManager.toggleShowByCluster(9,!1)}),$("#checkbox_c10").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(10,!0):EdgeManager.toggleShowByCluster(10,!1)}),$("#checkbox_c11").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(11,!0):EdgeManager.toggleShowByCluster(11,!1)}),$("#checkbox_c12").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(12,!0):EdgeManager.toggleShowByCluster(12,!1)}),$("#checkbox_c13").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(13,!0):EdgeManager.toggleShowByCluster(13,!1)}),$("#checkbox_c14").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(14,!0):EdgeManager.toggleShowByCluster(14,!1)}),$("#checkbox_c15").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(15,!0):EdgeManager.toggleShowByCluster(15,!1)}),$("#checkbox_c16").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(16,!0):EdgeManager.toggleShowByCluster(16,!1)}),$("#checkbox_c17").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(17,!0):EdgeManager.toggleShowByCluster(17,!1)})}]),angular.module("app").controller("IntroCtrl",["$rootScope","$scope","$window",function(e,c,o){function g(){$(".data-visibility").removeClass("active")}g();var t=$(".slide"),n=$(".slide-group"),r=$(".bullet"),a=t.length-1,h=0,l=!1;r.first().addClass("current");var s=function(){var e=$(".slide-node").clone();$(".slide-node").html("Loading! If you see this message for a while, please refresh the page"),$(".slide-node").replaceWith(e);var c=$(".slide-lines").clone();$(".slide-lines").html("Loading! If you see this message for a while, please refresh the page"),$(".slide-lines").replaceWith(c)},i=function(){window.clearInterval(k),l=!1;var e=r.index($(this));d(e),s()},d=function(e){l?h===a?h=0:h++:h=e,r.removeClass("current"),r.eq(h).addClass("current"),u(h)},u=function(e){n.animate({top:"-"+e+"00%"}),s()};r.on("click",i);var k=window.setInterval(d,8e4)}]),angular.module("app").controller("NumberCtrl",["$rootScope","$scope","$window",function(e,c,o){function g(e){function c(e,c,o,g,t,n){function r(c){e.html(l(c,u))}function a(e,c){var o=".",g=e+"";if(g.length<c)for(var t=c-g.length,r=0;t>r;r++)g="0"+g;if(3==n){var a=(a=g.length)>3?a%3:0;return(a?g.substr(0,a)+o:"")+g.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+o)}if(4==n){var a=(a=g.length)>4?a%4:0;return(a?g.substr(0,a)+o:"")+g.substr(a).replace(/(\d{4})(?=\d)/g,"$1"+o)}var a=(a=g.length)>2?a%2:0;return(a?g.substr(0,a)+o:"")+g.substr(a).replace(/(\d{2})(?=\d)/g,"$1"+o)}function h(){o++;var e=o/s;e>=1?r(parseInt(c)):(r(parseInt(e*c)),setTimeout(h,d))}function l(e,c){for(var o=a(e,c),g=o.split(""),t=[],n=0;n<g.length;n++)t+="."==g[n]?"<span>.</span>":"<span>"+g[n]+"</span>";return t}var s=100,i=g,o=0,d=i/s,u=(c+"").length;e.html(l(0,u)),setTimeout(h,t)}var o=0,g=parseInt(e.attr("data-num")),t=parseInt(e.attr("time-duration")),n=parseInt(e.attr("time-delay")),r=parseInt(e.attr("format-info"));c(e,g,o,t,n,r)}$("[data-num]").each(function(){g($(this))})}]),angular.module("app").config(["$routeProvider",function(e){e.when("/dataviz",{templateUrl:"/templates/dataviz.html",controller:"DataVizCtrl"}).when("/intro",{templateUrl:"/templates/intro.html",controller:"IntroCtrl"}).otherwise({redirectTo:"/intro"})}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwcGxpY2F0aW9uLmN0cmwuanMiLCJkYXRhdml6LmN0cmwuanMiLCJpbnRyby5jdHJsLmpzIiwibnVtYmVyLmN0cmwuanMiLCJyb3V0ZXMuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCIkcm9vdFNjb3BlIiwiJHNjb3BlIiwiJHdpbmRvdyIsInJlc2V0RGF0YVZpeiIsIkZSQU1FIiwiRWRnZU1hbmFnZXIiLCJyZXNldCIsIk5vZGVNYW5hZ2VyIiwic2V0VmlzaWJpbGl0eSIsIiQiLCJhZGRDbGFzcyIsIm1lYW5BZ2UiLCJ1cGRhdGVNZWFuQWdlIiwibmV3TWVhbkFnZSIsIm1hcFJhbmdlIiwiJGFwcGx5IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2xpY2siLCJjaGFuZ2UiLCJ0b2dnbGVWaXNpYmlsaXR5IiwidGhpcyIsImlzIiwidG9nZ2xlVmFsIiwicHJvcCIsInRyaWdnZXIiLCJjb25zb2xlIiwibG9nIiwidG9nZ2xlU2hvd0J5Q2x1c3RlciIsInJlbW92ZUNsYXNzIiwiJHNsaWRlIiwiJHNsaWRlR3JvdXAiLCIkYnVsbGV0Iiwic2xpZGVzVG90YWwiLCJsZW5ndGgiLCJjdXJyZW50IiwiaXNBdXRvU2xpZGluZyIsImZpcnN0IiwicmVzZXRTbGlkZXMiLCJkaXZDbG9uZV9ub2RlIiwiY2xvbmUiLCJodG1sIiwicmVwbGFjZVdpdGgiLCJkaXZDbG9uZV9saW5lcyIsImNsaWNrU2xpZGUiLCJ3aW5kb3ciLCJjbGVhckludGVydmFsIiwiYXV0b1NsaWRlIiwic2xpZGVJbmRleCIsImluZGV4IiwidXBkYXRlSW5kZXgiLCJjdXJyZW50U2xpZGUiLCJlcSIsInRyYW5zaXRpb24iLCJzbGlkZVBvc2l0aW9uIiwiYW5pbWF0ZSIsInRvcCIsIm9uIiwic2V0SW50ZXJ2YWwiLCJzdGFydExvb3AiLCIkaXQiLCJpbml0X2luY3JlYXNlIiwibnVtIiwiY3VyIiwidGltZV9kdXJhdGlvbiIsInRpbWVfZGVsYXkiLCJmb3JtYXRfaW5mbyIsInNldFZhbHVlIiwidmFsIiwiZ2V0SHRtIiwibnVtbGVuIiwiZ2V0Rm9ybWF0ZWQiLCJuIiwibGVudG90YWwiLCJ0IiwiaSIsInkiLCJ6IiwiaiIsInN1YnN0ciIsInJlcGxhY2UiLCJsb29wIiwicGVyY2VudCIsInN0ZXBzIiwicGFyc2VJbnQiLCJzZXRUaW1lb3V0Iiwic3RlcHRpbWVvdXQiLCJ0YXJnZXRGb3JtYXRlZCIsImNoYXJzIiwic3BsaXQiLCJodG1zIiwidGltZXRvdGFsIiwiYXR0ciIsImVhY2giLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsIm90aGVyd2lzZSIsInJlZGlyZWN0VG8iXSwibWFwcGluZ3MiOiJBQUNBQSxRQUFBQyxPQUFBLE9BQ0EsWUNEQUQsUUFBQUMsT0FBQSxPQUNBQyxXQUFBLG1CQUFBLGFBQUEsU0FBQSxVQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ0FELEVBQUFFLGFBQUEsV0FDQUMsTUFBQSxFQUNBQyxZQUFBQyxRQUNBQyxZQUFBRCxZQ0xBVCxRQUFBQyxPQUFBLE9BQ0FDLFdBQUEsZUFBQSxhQUFBLFNBQUEsVUFBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQWtCQSxRQUFBTSxLQUNBQyxFQUFBLG9CQUFBQyxTQUFBLFVBakJBVCxFQUFBVSxRQUFBLEdBRUFWLEVBQUFXLGNBQUEsV0FDQSxLQUFBUixNQUFBLEtBQUEsQ0FHQSxHQUFBUyxHQUFBQyxVQUFBLEVBQUEsTUFBQSxHQUFBLElBQUFWLE1BQ0FILEdBQUFVLFFBQUFFLEVBQ0FaLEVBQUFjLFNBQ0FDLHNCQUFBZixFQUFBVyxpQkFHQVgsRUFBQVcsZ0JBT0FKLElBV0FDLEVBQUEsY0FBQVEsTUFBQSxXQUNBYixNQUFBLEVBQ0FDLFlBQUFDLFFBQ0FDLFlBQUFELFVBSUFHLEVBQUEsd0JBQUFTLE9BQUEsV0FFQVgsWUFBQVksaUJBREFWLEVBQUFXLE1BQUFDLEdBQUEsYUFDQSxHQUlBLEtBS0FaLEVBQUEsbUJBQUFTLE9BQUEsV0FFQSxHQUFBSSxHQUFBYixFQUFBVyxNQUFBQyxHQUFBLFdBQ0FaLEdBQUEsZ0JBQUFjLEtBQUEsVUFBQUQsR0FDQWIsRUFBQSxnQkFBQWUsUUFBQSxVQUNBZixFQUFBLGdCQUFBYyxLQUFBLFVBQUFELEdBQ0FiLEVBQUEsZ0JBQUFlLFFBQUEsVUFDQWYsRUFBQSxnQkFBQWMsS0FBQSxVQUFBRCxHQUNBYixFQUFBLGdCQUFBZSxRQUFBLFVBQ0FmLEVBQUEsZ0JBQUFjLEtBQUEsVUFBQUQsR0FDQWIsRUFBQSxnQkFBQWUsUUFBQSxVQUNBZixFQUFBLGdCQUFBYyxLQUFBLFVBQUFELEdBQ0FiLEVBQUEsZ0JBQUFlLFFBQUEsVUFDQWYsRUFBQSxnQkFBQWMsS0FBQSxVQUFBRCxHQUNBYixFQUFBLGdCQUFBZSxRQUFBLFVBQ0FmLEVBQUEsZ0JBQUFjLEtBQUEsVUFBQUQsR0FDQWIsRUFBQSxnQkFBQWUsUUFBQSxVQUNBZixFQUFBLGdCQUFBYyxLQUFBLFVBQUFELEdBQ0FiLEVBQUEsZ0JBQUFlLFFBQUEsVUFDQWYsRUFBQSxnQkFBQWMsS0FBQSxVQUFBRCxHQUNBYixFQUFBLGdCQUFBZSxRQUFBLFVBQ0FmLEVBQUEsZ0JBQUFjLEtBQUEsVUFBQUQsR0FDQWIsRUFBQSxnQkFBQWUsUUFBQSxVQUNBZixFQUFBLGlCQUFBYyxLQUFBLFVBQUFELEdBQ0FiLEVBQUEsaUJBQUFlLFFBQUEsVUFDQWYsRUFBQSxpQkFBQWMsS0FBQSxVQUFBRCxHQUNBYixFQUFBLGlCQUFBZSxRQUFBLFVBQ0FmLEVBQUEsaUJBQUFjLEtBQUEsVUFBQUQsR0FDQWIsRUFBQSxpQkFBQWUsUUFBQSxVQUNBZixFQUFBLGlCQUFBYyxLQUFBLFVBQUFELEdBQ0FiLEVBQUEsaUJBQUFlLFFBQUEsVUFDQWYsRUFBQSxpQkFBQWMsS0FBQSxVQUFBRCxHQUNBYixFQUFBLGlCQUFBZSxRQUFBLFVBQ0FmLEVBQUEsaUJBQUFjLEtBQUEsVUFBQUQsR0FDQWIsRUFBQSxpQkFBQWUsUUFBQSxVQUNBZixFQUFBLGlCQUFBYyxLQUFBLFVBQUFELEdBQ0FiLEVB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QUEsY0FFQWtHLFdBRUFDLFdBQUEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5hbmd1bGFyLm1vZHVsZSgnYXBwJywgW1xuXHQnbmdSb3V0ZScsXG5dKTtcbiIsIlxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignQXBwbGljYXRpb25DdHJsJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgJHNjb3BlLCAkd2luZG93KXtcblx0JHNjb3BlLnJlc2V0RGF0YVZpeiA9IGZ1bmN0aW9uKCl7XG5cdFx0RlJBTUUgPSAwO1xuICAgICAgXHRFZGdlTWFuYWdlci5yZXNldCgpO1xuICAgICAgXHROb2RlTWFuYWdlci5yZXNldCgpO1xuXHR9XG59KTsiLCJcbmFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbnRyb2xsZXIoJ0RhdGFWaXpDdHJsJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgJHNjb3BlLCAkd2luZG93KXtcblxuICAkc2NvcGUubWVhbkFnZSA9IDQ4LjA7XG5cbiAgJHNjb3BlLnVwZGF0ZU1lYW5BZ2UgPSBmdW5jdGlvbigpe1xuICAgIGlmIChGUkFNRSA+IDQwMClcbiAgICAgIHJldHVybjtcblxuICAgIHZhciBuZXdNZWFuQWdlID0gbWFwUmFuZ2UoWzAsIDQwMC4wXSwgWzQ4LjAsIDc4LjBdLCBGUkFNRSk7XG4gICAgJHNjb3BlLm1lYW5BZ2UgPSBuZXdNZWFuQWdlO1xuICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoJHNjb3BlLnVwZGF0ZU1lYW5BZ2UpO1xuICB9XG5cbiAgJHNjb3BlLnVwZGF0ZU1lYW5BZ2UoKTtcblxuICAvL3NldEludGVydmFsKCRzY29wZS51cGRhdGVNZWFuQWdlLCAxMDApO1xuXG5cdGZ1bmN0aW9uIHNldFZpc2liaWxpdHkoKXtcblx0XHQkKCcuZGF0YS12aXNpYmlsaXR5JykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXHR9XG5cdHNldFZpc2liaWxpdHkoKTtcblxuLypcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbkNMVVNURVJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiovXG5cbiAgICAvLyByZXNldCBhbmltYXRpb24uXG4gICAgJCgnI2J0bi1yZXNldCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgRlJBTUUgPSAwO1xuICAgICAgRWRnZU1hbmFnZXIucmVzZXQoKTtcbiAgICAgIE5vZGVNYW5hZ2VyLnJlc2V0KCk7XG4gICAgfSk7XG5cbiAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAgICQoJyNjaGVja2JveF9oaWRlX25vZGVzJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgICBOb2RlTWFuYWdlci50b2dnbGVWaXNpYmlsaXR5KHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgIE5vZGVNYW5hZ2VyLnRvZ2dsZVZpc2liaWxpdHkoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgIFx0Ly9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgICAkKCcjY2hlY2tib3hfY19hbGwnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciB0b2dnbGVWYWwgPSAkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIik7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzAnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTtcbiAgXHRcdCQoJyNjaGVja2JveF9jMCcpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICBcdFx0JCgnI2NoZWNrYm94X2MxJykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzEnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgXHRcdCQoJyNjaGVja2JveF9jMicpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpO1xuICBcdFx0JCgnI2NoZWNrYm94X2MyJykudHJpZ2dlcignY2hhbmdlJyk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzMnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTsgXG4gIFx0XHQkKCcjY2hlY2tib3hfYzMnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgXHRcdCQoJyNjaGVja2JveF9jNCcpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpO1xuICBcdFx0JCgnI2NoZWNrYm94X2M0JykudHJpZ2dlcignY2hhbmdlJyk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzUnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTtcbiAgXHRcdCQoJyNjaGVja2JveF9jNScpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICBcdFx0JCgnI2NoZWNrYm94X2M2JykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzYnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgXHRcdCQoJyNjaGVja2JveF9jNycpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpOyBcbiAgXHRcdCQoJyNjaGVja2JveF9jNycpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICBcdFx0JCgnI2NoZWNrYm94X2M4JykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzgnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgXHRcdCQoJyNjaGVja2JveF9jOScpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpO1xuICBcdFx0JCgnI2NoZWNrYm94X2M5JykudHJpZ2dlcignY2hhbmdlJyk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzEwJykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzEwJykudHJpZ2dlcignY2hhbmdlJyk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzExJykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7IFxuICBcdFx0JCgnI2NoZWNrYm94X2MxMScpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICBcdFx0JCgnI2NoZWNrYm94X2MxMicpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpO1xuICBcdFx0JCgnI2NoZWNrYm94X2MxMicpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICBcdFx0JCgnI2NoZWNrYm94X2MxMycpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpO1xuICBcdFx0JCgnI2NoZWNrYm94X2MxMycpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICBcdFx0JCgnI2NoZWNrYm94X2MxNCcpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpO1xuICBcdFx0JCgnI2NoZWNrYm94X2MxNCcpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICBcdFx0JCgnI2NoZWNrYm94X2MxNScpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpOyBcbiAgXHRcdCQoJyNjaGVja2JveF9jMTUnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgXHRcdCQoJyNjaGVja2JveF9jMTYnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTsgXG4gIFx0XHQkKCcjY2hlY2tib3hfYzE2JykudHJpZ2dlcignY2hhbmdlJyk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzE3JykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7IFxuICBcdFx0JCgnI2NoZWNrYm94X2MxNycpLnRyaWdnZXIoJ2NoYW5nZScpOyAgXG5cbiAgICB9KTtcblxuICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICAgJCgnI2NoZWNrYm94X2MwJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMCwgdHJ1ZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigwLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDAsIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDAsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICAgJCgnI2NoZWNrYm94X2MxJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMSwgdHJ1ZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDEsIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDEsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAgICQoJyNjaGVja2JveF9jMicpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiY2hlY2tib3ghXCIpO1xuICAgICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDIsIHRydWUpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMiwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigyLCBmYWxzZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigyLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgICAkKCcjY2hlY2tib3hfYzMnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigzLCB0cnVlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDMsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMywgZmFsc2UpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICAgJCgnI2NoZWNrYm94X2M0JykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNCwgdHJ1ZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig0LCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDQsIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDQsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICAgJCgnI2NoZWNrYm94X2M1JykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNSwgdHJ1ZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig1LCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDUsIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgICAgICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAgICQoJyNjaGVja2JveF9jNicpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiY2hlY2tib3ghXCIpO1xuICAgICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDYsIHRydWUpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNiwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig2LCBmYWxzZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig2LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgICAkKCcjY2hlY2tib3hfYzcnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig3LCB0cnVlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDcsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNywgZmFsc2UpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAgICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICAgJCgnI2NoZWNrYm94X2M4JykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoOCwgdHJ1ZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig4LCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDgsIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDgsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgICAgICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAgICQoJyNjaGVja2JveF9jOScpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiY2hlY2tib3ghXCIpO1xuICAgICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDksIHRydWUpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoOSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig5LCBmYWxzZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig5LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgICAkKCcjY2hlY2tib3hfYzEwJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTAsIHRydWUpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTAsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTAsIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDEwLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgICAkKCcjY2hlY2tib3hfYzExJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTEsIHRydWUpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTEsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTEsIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDExLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgICAkKCcjY2hlY2tib3hfYzEyJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTIsIHRydWUpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTIsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTIsIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDEyLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgICAkKCcjY2hlY2tib3hfYzEzJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTMsIHRydWUpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTMsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTMsIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDEzLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgICAkKCcjY2hlY2tib3hfYzE0JykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTQsIHRydWUpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTQsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTQsIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDE0LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAgICAgICAgICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAgICQoJyNjaGVja2JveF9jMTUnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNSwgdHJ1ZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNSwgZmFsc2UpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICAgJCgnI2NoZWNrYm94X2MxNicpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiY2hlY2tib3ghXCIpO1xuICAgICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDE2LCB0cnVlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDE2LCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDE2LCBmYWxzZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNiwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgICAkKCcjY2hlY2tib3hfYzE3JykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTcsIHRydWUpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTcsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTcsIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDE3LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxufSk7IiwiXG5hbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdJbnRyb0N0cmwnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsICR3aW5kb3cpe1xuXHRmdW5jdGlvbiBzZXRWaXNpYmlsaXR5KCl7XG5cdFx0JCgnLmRhdGEtdmlzaWJpbGl0eScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblx0fVxuXHRzZXRWaXNpYmlsaXR5KCk7XG5cblx0dmFyICRzbGlkZSA9ICQoJy5zbGlkZScpLFxuICAgICRzbGlkZUdyb3VwID0gJCgnLnNsaWRlLWdyb3VwJyksXG4gICAgJGJ1bGxldCA9ICQoJy5idWxsZXQnKTtcblxuXHR2YXIgc2xpZGVzVG90YWwgPSAoJHNsaWRlLmxlbmd0aCAtIDEpLFxuXHQgICAgY3VycmVudCA9IDAsXG5cdCAgICBpc0F1dG9TbGlkaW5nID0gZmFsc2U7XG5cblx0JGJ1bGxldC5maXJzdCgpLmFkZENsYXNzKCdjdXJyZW50Jyk7XG5cblx0LyogcmVzZXQgdGhlIGRpdiBhbmQgYW5pbWF0aW9uICovXG5cdHZhciByZXNldFNsaWRlcyA9IGZ1bmN0aW9uKCkge1xuXHRcdC8vIHJlbG9hZCBub2RlIHNsaWRlIGFuZCBhbmltYXRpb25cblx0XHR2YXIgZGl2Q2xvbmVfbm9kZSA9ICQoXCIuc2xpZGUtbm9kZVwiKS5jbG9uZSgpOyAvLyBEbyB0aGlzIG9uICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkgeyAuLi4gfSlcblx0XHQkKFwiLnNsaWRlLW5vZGVcIikuaHRtbChcIkxvYWRpbmchIElmIHlvdSBzZWUgdGhpcyBtZXNzYWdlIGZvciBhIHdoaWxlLCBwbGVhc2UgcmVmcmVzaCB0aGUgcGFnZVwiKTsgLy8gQ2hhbmdlIHRoZSBjb250ZW50IHRlbXBvcmFyaWx5XG5cblx0XHQvLyBBbnkgY2hhbmdlcyB0byBcIiNzb21lX2RpdlwiIGFmdGVyIHRoaXMgcG9pbnQgd2lsbCBhZmZlY3QgdGhlIHZhbHVlIG9mIGRpdkNsb25lXG5cdFx0JChcIi5zbGlkZS1ub2RlXCIpLnJlcGxhY2VXaXRoKGRpdkNsb25lX25vZGUpOyAvLyBSZXN0b3JlIGVsZW1lbnQgd2l0aCBkaXZDbG9uZSBpdHNlbGZcblx0XG5cdCAgXHQvLyByZWxvYWQgbGluZXMgc2xpZGUgYW5kIGFuaW1hdGlvblxuXHQgIFx0dmFyIGRpdkNsb25lX2xpbmVzID0gJChcIi5zbGlkZS1saW5lc1wiKS5jbG9uZSgpOyAvLyBEbyB0aGlzIG9uICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkgeyAuLi4gfSlcblxuXHRcdCQoXCIuc2xpZGUtbGluZXNcIikuaHRtbChcIkxvYWRpbmchIElmIHlvdSBzZWUgdGhpcyBtZXNzYWdlIGZvciBhIHdoaWxlLCBwbGVhc2UgcmVmcmVzaCB0aGUgcGFnZVwiKTsgLy8gQ2hhbmdlIHRoZSBjb250ZW50IHRlbXBvcmFyaWx5XG5cblx0XHQvLyBBbnkgY2hhbmdlcyB0byBcIiNzb21lX2RpdlwiIGFmdGVyIHRoaXMgcG9pbnQgd2lsbCBhZmZlY3QgdGhlIHZhbHVlIG9mIGRpdkNsb25lXG5cdFx0JChcIi5zbGlkZS1saW5lc1wiKS5yZXBsYWNlV2l0aChkaXZDbG9uZV9saW5lcyk7IC8vIFJlc3RvcmUgZWxlbWVudCB3aXRoIGRpdkNsb25lIGl0c2VsZlxuXHR9XG5cblx0dmFyIGNsaWNrU2xpZGUgPSBmdW5jdGlvbigpIHtcblx0ICAvL3N0b3AgYXV0byBzbGlkaW5nXG5cdCAgd2luZG93LmNsZWFySW50ZXJ2YWwoYXV0b1NsaWRlKTtcblx0ICBpc0F1dG9TbGlkaW5nID0gZmFsc2U7XG5cblx0ICB2YXIgc2xpZGVJbmRleCA9ICRidWxsZXQuaW5kZXgoJCh0aGlzKSk7XG5cblx0ICB1cGRhdGVJbmRleChzbGlkZUluZGV4KTtcblxuXHQgIHJlc2V0U2xpZGVzKCk7XG5cdH07XG5cblx0dmFyIHVwZGF0ZUluZGV4ID0gZnVuY3Rpb24oY3VycmVudFNsaWRlKSB7XG5cdCAgaWYoaXNBdXRvU2xpZGluZykge1xuXHQgICAgaWYoY3VycmVudCA9PT0gc2xpZGVzVG90YWwpIHtcblx0ICAgICAgY3VycmVudCA9IDA7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgICBjdXJyZW50Kys7XG5cdCAgICB9XG5cdCAgfSBlbHNlIHtcblx0ICAgICAgY3VycmVudCA9IGN1cnJlbnRTbGlkZTtcblx0ICB9XG5cblx0ICAkYnVsbGV0LnJlbW92ZUNsYXNzKCdjdXJyZW50Jyk7XG5cdCAgJGJ1bGxldC5lcShjdXJyZW50KS5hZGRDbGFzcygnY3VycmVudCcpO1xuXG5cdCAgdHJhbnNpdGlvbihjdXJyZW50KTtcblx0fTtcblxuXHR2YXIgdHJhbnNpdGlvbiA9IGZ1bmN0aW9uKHNsaWRlUG9zaXRpb24pIHtcblx0ICAgICRzbGlkZUdyb3VwLmFuaW1hdGUoe1xuXHQgICAgICAndG9wJzogJy0nICsgc2xpZGVQb3NpdGlvbiArICcwMCUnXG5cdCAgICB9KTtcblxuXHQgICAgcmVzZXRTbGlkZXMoKTtcblx0fTtcblxuXHQkYnVsbGV0Lm9uKCAnY2xpY2snLCBjbGlja1NsaWRlKTtcblxuXHR2YXIgYXV0b1NsaWRlID0gd2luZG93LnNldEludGVydmFsKHVwZGF0ZUluZGV4LCA4MDAwMCk7XG5cbn0pOyIsIlxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignTnVtYmVyQ3RybCcsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRzY29wZSwgJHdpbmRvdyl7XG4gICAgJCgnW2RhdGEtbnVtXScpLmVhY2goZnVuY3Rpb24oKXtcbiAgICBcdHN0YXJ0TG9vcCgkKHRoaXMpKTtcbiAgXHR9KTtcbiBcbiAgXHRmdW5jdGlvbiBzdGFydExvb3AoJGl0KXtcblx0ICAgIHZhciBjdXIgICAgICAgICAgID0gMDtcblx0ICAgIHZhciBudW0gICAgICAgICAgID0gcGFyc2VJbnQoJGl0LmF0dHIoJ2RhdGEtbnVtJykpO1xuXHQgICAgdmFyIHRpbWVfZHVyYXRpb24gPSBwYXJzZUludCgkaXQuYXR0cigndGltZS1kdXJhdGlvbicpKTtcblx0ICAgIHZhciB0aW1lX2RlbGF5ICAgID0gcGFyc2VJbnQoJGl0LmF0dHIoJ3RpbWUtZGVsYXknKSk7XG5cdCAgICB2YXIgZm9ybWF0X2luZm8gICA9IHBhcnNlSW50KCRpdC5hdHRyKCdmb3JtYXQtaW5mbycpKTtcblxuXHQgICAgaW5pdF9pbmNyZWFzZSgkaXQsIG51bSwgY3VyLCB0aW1lX2R1cmF0aW9uLCB0aW1lX2RlbGF5LCBmb3JtYXRfaW5mbyk7XG5cblx0ICAgIGZ1bmN0aW9uIGluaXRfaW5jcmVhc2UoJGl0LCBudW0sIGN1ciwgdGltZV9kdXJhdGlvbiwgdGltZV9kZWxheSwgZm9ybWF0X2luZm8pXG5cdCAgICB7XG5cdCAgICAgICAgdmFyIHN0ZXBzICAgICAgID0gMTAwO1xuXHQgICAgICAgIHZhciB0aW1ldG90YWwgICA9IHRpbWVfZHVyYXRpb247XG5cdCAgICAgICAgdmFyIGN1ciAgICAgICAgID0gMDtcblx0ICAgICAgICB2YXIgc3RlcHRpbWVvdXQgPSB0aW1ldG90YWwvc3RlcHM7ICAgICAgXG5cdCAgICAgICAgdmFyIG51bWxlbiAgICAgID0gKG51bSsnJykubGVuZ3RoO1xuXG5cdCAgICAgICAgJGl0Lmh0bWwoZ2V0SHRtKDAsbnVtbGVuKSk7XG5cdCAgICAgICAgc2V0VGltZW91dChsb29wLCB0aW1lX2RlbGF5KTtcblxuXHQgICAgICAgIGZ1bmN0aW9uIHNldFZhbHVlKHZhbClcblx0ICAgICAgICB7XG5cdCAgICAgICAgXHQkaXQuaHRtbChnZXRIdG0odmFsLG51bWxlbikpO1xuXHQgICAgICBcdH1cblxuXHQgICAgICBcdGZ1bmN0aW9uIGdldEZvcm1hdGVkKG4sbGVudG90YWwpXG5cdCAgICAgIFx0e1xuXHQgICAgICAgIFx0dmFyIHQgPSAgXCIuXCI7XG5cdCAgICAgICAgXHR2YXIgaSA9IG4gKyBcIlwiO1xuXHQgICAgICAgIFx0XG5cdCAgICAgICAgXHRpZihpLmxlbmd0aDxsZW50b3RhbClcblx0ICAgICAgICBcdHtcblx0ICAgICAgICAgIFx0XHR2YXIgeSA9IGxlbnRvdGFsLWkubGVuZ3RoO1xuXHQgICAgICAgICAgXHRcdGZvcih2YXIgej0wO3o8eTt6KyspXG5cdCAgICAgICAgICBcdFx0e1xuXHQgICAgICAgICAgICBcdFx0aSA9ICcwJytpO1xuXHQgICAgICAgICAgXHRcdH1cblx0ICAgICAgICBcdH0gICAgIFxuXHQgICAgICAgIFx0XG5cdCAgICAgICAgXHRpZiAoZm9ybWF0X2luZm8gPT0gMyl7XG5cdCAgICAgICAgXHRcdHZhciBqID0gKGogPSBpLmxlbmd0aCkgPiAzID8gaiAlIDMgOiAwO1xuXHQgICAgICAgXHRcdFx0cmV0dXJuIChqID8gaS5zdWJzdHIoMCwgaikgKyB0IDogXCJcIikgKyBpLnN1YnN0cihqKS5yZXBsYWNlKC8oXFxkezN9KSg/PVxcZCkvZywgXCIkMVwiICsgdCk7XG5cdCAgICAgICAgXHR9XG5cdCAgICAgICAgXHRpZiAoZm9ybWF0X2luZm8gPT0gNCl7XG5cdCAgICAgICAgXHRcdHZhciBqID0gKGogPSBpLmxlbmd0aCkgPiA0ID8gaiAlIDQgOiAwO1xuXHQgICAgICAgXHRcdFx0cmV0dXJuIChqID8gaS5zdWJzdHIoMCwgaikgKyB0IDogXCJcIikgKyBpLnN1YnN0cihqKS5yZXBsYWNlKC8oXFxkezR9KSg/PVxcZCkvZywgXCIkMVwiICsgdCk7XG5cdCAgICAgICAgXHR9XG5cdCAgICAgICAgXHRlbHNlIHtcblx0ICAgICAgICBcdFx0dmFyIGogPSAoaiA9IGkubGVuZ3RoKSA+IDIgPyBqICUgMiA6IDA7XG5cdCAgICAgICBcdFx0XHRyZXR1cm4gKGogPyBpLnN1YnN0cigwLCBqKSArIHQgOiBcIlwiKSArIGkuc3Vic3RyKGopLnJlcGxhY2UoLyhcXGR7Mn0pKD89XFxkKS9nLCBcIiQxXCIgKyB0KTtcblx0ICAgICAgICBcdH1cblx0ICAgICAgICBcdFxuXHQgICAgICBcdH1cblxuXHQgICAgICBcdGZ1bmN0aW9uIGxvb3AoKVxuXHQgICAgICBcdHtcblx0XHQgICAgICAgIGN1cisrXG5cdFx0ICAgICAgICB2YXIgcGVyY2VudCA9IGN1ci9zdGVwcztcblx0XHQgICAgICAgIGlmIChwZXJjZW50Pj0xKVxuXHRcdCAgICAgICAgeyAgICAgICAgICBcblx0XHQgICAgICAgIFx0c2V0VmFsdWUocGFyc2VJbnQobnVtKSk7XG5cdFx0ICAgICAgICB9IFxuXHRcdCAgICAgICAgZWxzZSBcblx0XHQgICAgICAgIHtcblx0XHQgICAgICAgICAgXHRzZXRWYWx1ZShwYXJzZUludChwZXJjZW50Km51bSkpO1xuXHRcdCAgICAgICAgICBcdHNldFRpbWVvdXQobG9vcCxzdGVwdGltZW91dCk7ICAgICAgICAgIFxuXHQgICAgICAgIFx0fVxuXHQgICAgICBcdH1cblxuXHQgICAgICBcdGZ1bmN0aW9uIGdldEh0bShudW0sbGVudG90YWwpeyAgICAgICAgXG5cdCAgICAgICAgXHR2YXIgdGFyZ2V0Rm9ybWF0ZWQgPSBnZXRGb3JtYXRlZChudW0sbGVudG90YWwpO1xuXHQgICAgICAgIFx0dmFyIGNoYXJzID0gdGFyZ2V0Rm9ybWF0ZWQuc3BsaXQoJycpO1xuXHQgICAgICAgIFx0dmFyIGh0bXMgPSBbXTtcblx0ICAgICAgICBcdGZvciAodmFyIGk9MDtpPGNoYXJzLmxlbmd0aDtpKyspXG5cdCAgICAgICAgXHR7XG5cdCAgICAgICAgICBcdFx0aWYgKGNoYXJzW2ldID09ICcuJylcblx0ICAgICAgICAgIFx0XHR7XG5cdCAgICAgICAgICAgIFx0XHRodG1zKz0nPHNwYW4+Ljwvc3Bhbj4nO1xuXHQgICAgICAgICAgXHRcdH0gXG5cdCAgICAgICAgICBcdFx0ZWxzZSBcblx0ICAgICAgICAgIFx0XHR7ICAgICAgICAgIFxuXHQgICAgICAgICAgICBcdFx0aHRtcys9JzxzcGFuPicrY2hhcnNbaV0rJzwvc3Bhbj4nO1xuXHQgICAgICAgICAgXHRcdH1cblx0ICAgICAgICBcdH1cblx0ICAgICAgICBcdHJldHVybiBodG1zO1xuXHQgICAgICBcdH1cblx0ICAgIH1cblx0fVxufSk7IiwiXG5hbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb25maWcoZnVuY3Rpb24gKCRyb3V0ZVByb3ZpZGVyKXtcblx0JHJvdXRlUHJvdmlkZXJcblx0LndoZW4oJy9kYXRhdml6JywgXG5cdFx0e1xuXHRcdFx0dGVtcGxhdGVVcmw6ICcvdGVtcGxhdGVzL2RhdGF2aXouaHRtbCcsXG5cdFx0XHRjb250cm9sbGVyOiAnRGF0YVZpekN0cmwnXG5cdFx0fSlcblx0LndoZW4oJy9pbnRybycsIFxuXHRcdHtcblx0XHRcdHRlbXBsYXRlVXJsOiAnL3RlbXBsYXRlcy9pbnRyby5odG1sJyxcblx0XHRcdGNvbnRyb2xsZXI6ICdJbnRyb0N0cmwnXG5cdFx0fSlcblx0Lm90aGVyd2lzZShcblx0XHR7XG4gICBcdFx0XHRyZWRpcmVjdFRvOiAnL2ludHJvJ1xuXHRcdH0pO1xuXG59KTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==