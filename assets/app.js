angular.module("app",["ngRoute"]),angular.module("app").controller("ApplicationCtrl",["$rootScope","$scope","$window",function(e,c,o){function t(){var e=function(){this.AdditiveColor=!0,this.Restart=function(){location.reload()},this.HideNodes=!1,this.HideNames=!1};RENDEROPTIONS=new e;var c=new dat.GUI,o=c.addFolder("Clusters"),t=o.add(RENDEROPTIONS,"HideNodes"),g=c.addFolder("MergePaths"),r=g.add(RENDEROPTIONS,"HideNodes"),a=g.add(RENDEROPTIONS,"HideNames"),n=c.add(RENDEROPTIONS,"AdditiveColor");n.onFinishChange(function(e){}),t.onFinishChange(function(e){NodeManagerCluster.toggleNodeVisibility(1==e?!1:!0)}),r.onFinishChange(function(e){if(1==e)for(var c=0;c<NodeManagerMergePaths.length;c++)for(var o=0;o<SELECTED_MERGEPATHIDS.length;o++)SELECTED_MERGEPATHIDS[o]===c&&NodeManagerMergePaths[c].toggleNodeVisibility(!1);else for(var c=0;c<NodeManagerMergePaths.length;c++)for(var o=0;o<SELECTED_MERGEPATHIDS.length;o++)SELECTED_MERGEPATHIDS[o]===c&&NodeManagerMergePaths[c].toggleNodeVisibility(!0)}),a.onFinishChange(function(e){if(1==e)for(var c=0;c<NodeManagerMergePaths.length;c++)for(var o=0;o<SELECTED_MERGEPATHIDS.length;o++)SELECTED_MERGEPATHIDS[o]===c&&NodeManagerMergePaths[c].toggleNodeTextVisibility(!1);else for(var c=0;c<NodeManagerMergePaths.length;c++)for(var o=0;o<SELECTED_MERGEPATHIDS.length;o++)SELECTED_MERGEPATHIDS[o]===c&&NodeManagerMergePaths[c].toggleNodeTextVisibility(!0)}),c.add(RENDEROPTIONS,"Restart")}c.meanAge={value:0},c.mergePathIds={value:[0]},$(window).resize(function(){this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){$(this).trigger("resizeEnd")},200)}),$(window).bind("resizeEnd",function(){location.reload()}),c.resetClusters=function(){FRAME.value=0,PAGE_NUM.value=1,c.meanAge=48,TWEEN.removeAll(),EdgeManagerCluster.reset(),NodeManagerCluster.reset()},c.resetMergePaths=function(){FRAME.value=0,PAGE_NUM.value=2,TWEEN.removeAll();for(var e=0;e<NodeManagerMergePaths.length;e++)for(var c=0;c<SELECTED_MERGEPATHIDS.length;c++)SELECTED_MERGEPATHIDS[c]==e&&(NodeManagerMergePaths[e].reset(),EdgeManagerMergePaths[e].reset())},t()}]),angular.module("app").config(["$routeProvider",function(e){e.when("/mergepaths",{templateUrl:"/templates/mergepaths.html",controller:"MergePathCtrl"}).when("/clusters",{templateUrl:"/templates/clusters.html",controller:"ClusterCtrl"}).when("/intro",{templateUrl:"/templates/intro.html",controller:"IntroCtrl"}).otherwise({redirectTo:"/intro"})}]),angular.module("app").controller("ClusterCtrl",["$rootScope","$scope","$window",function(e,c,o){function t(){PAGE_NUM.value=1}function g(){$(".data-visibility").addClass("active")}t(),g(),c.updateMeanAge=function(){if(!(FRAME.value>400||1!=PAGE_NUM.value)){var e=mapRange([0,400],[48,78],FRAME.value);c.meanAge.value=e,c.$apply(),requestAnimationFrame(c.updateMeanAge)}},c.updateMeanAge(),$("#btn-reset-clusters").click(function(){c.resetClusters()}),$("#checkbox_c_all").change(function(){var e=$(this).is(":checked");$("#checkbox_c0").prop("checked",e),$("#checkbox_c0").trigger("change"),$("#checkbox_c1").prop("checked",e),$("#checkbox_c1").trigger("change"),$("#checkbox_c2").prop("checked",e),$("#checkbox_c2").trigger("change"),$("#checkbox_c3").prop("checked",e),$("#checkbox_c3").trigger("change"),$("#checkbox_c4").prop("checked",e),$("#checkbox_c4").trigger("change"),$("#checkbox_c5").prop("checked",e),$("#checkbox_c5").trigger("change"),$("#checkbox_c6").prop("checked",e),$("#checkbox_c6").trigger("change"),$("#checkbox_c7").prop("checked",e),$("#checkbox_c7").trigger("change"),$("#checkbox_c8").prop("checked",e),$("#checkbox_c8").trigger("change"),$("#checkbox_c9").prop("checked",e),$("#checkbox_c9").trigger("change"),$("#checkbox_c10").prop("checked",e),$("#checkbox_c10").trigger("change"),$("#checkbox_c11").prop("checked",e),$("#checkbox_c11").trigger("change"),$("#checkbox_c12").prop("checked",e),$("#checkbox_c12").trigger("change"),$("#checkbox_c13").prop("checked",e),$("#checkbox_c13").trigger("change"),$("#checkbox_c14").prop("checked",e),$("#checkbox_c14").trigger("change"),$("#checkbox_c15").prop("checked",e),$("#checkbox_c15").trigger("change"),$("#checkbox_c16").prop("checked",e),$("#checkbox_c16").trigger("change"),$("#checkbox_c17").prop("checked",e),$("#checkbox_c17").trigger("change")}),$("#checkbox_c0").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(0,!0):EdgeManagerCluster.toggleShowByCluster(0,!1)}),$("#checkbox_c1").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(1,!0):EdgeManagerCluster.toggleShowByCluster(1,!1)}),$("#checkbox_c2").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(2,!0):EdgeManagerCluster.toggleShowByCluster(2,!1)}),$("#checkbox_c3").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(3,!0):EdgeManagerCluster.toggleShowByCluster(3,!1)}),$("#checkbox_c4").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(4,!0):EdgeManagerCluster.toggleShowByCluster(4,!1)}),$("#checkbox_c5").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(5,!0):EdgeManagerCluster.toggleShowByCluster(5,!1)}),$("#checkbox_c6").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(6,!0):EdgeManagerCluster.toggleShowByCluster(6,!1)}),$("#checkbox_c7").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(7,!0):EdgeManagerCluster.toggleShowByCluster(7,!1)}),$("#checkbox_c8").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(8,!0):EdgeManagerCluster.toggleShowByCluster(8,!1)}),$("#checkbox_c9").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(9,!0):EdgeManagerCluster.toggleShowByCluster(9,!1)}),$("#checkbox_c10").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(10,!0):EdgeManagerCluster.toggleShowByCluster(10,!1)}),$("#checkbox_c11").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(11,!0):EdgeManagerCluster.toggleShowByCluster(11,!1)}),$("#checkbox_c12").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(12,!0):EdgeManagerCluster.toggleShowByCluster(12,!1)}),$("#checkbox_c13").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(13,!0):EdgeManagerCluster.toggleShowByCluster(13,!1)}),$("#checkbox_c14").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(14,!0):EdgeManagerCluster.toggleShowByCluster(14,!1)}),$("#checkbox_c15").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(15,!0):EdgeManagerCluster.toggleShowByCluster(15,!1)}),$("#checkbox_c16").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(16,!0):EdgeManagerCluster.toggleShowByCluster(16,!1)}),$("#checkbox_c17").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(17,!0):EdgeManagerCluster.toggleShowByCluster(17,!1)})}]),angular.module("app").controller("IntroCtrl",["$rootScope","$scope","$window",function(e,c,o){function t(){PAGE_NUM.value=0}function g(){$(".data-visibility").removeClass("active")}t(),g()}]),angular.module("app").controller("MergePathCtrl",["$rootScope","$scope","$window",function(e,c,o){function t(){PAGE_NUM.value=2}function g(){$(".data-visibility").addClass("active")}t(),g(),c.updateMeanAge=function(){if(!(FRAME.value>400||1!=PAGE_NUM.value)){var e=mapRange([0,400],[48,78],FRAME.value);c.meanAge.value=e,c.$apply(),requestAnimationFrame(c.updateMeanAge)}},c.updateMeanAge(),$("#btn-reset-mergepaths").click(function(){c.resetMergePaths()}),$("#btn-run-mergepaths").click(function(){for(var e=document.getElementById("textinfo-mergepathids").value,o=e.split(" "),t=0;t<o.length;t++)try{var g=parseInt(o[t]);isNaN(g)?delete o[t]:o[t]=g}catch(r){return void console.log(r)}console.log("Show mergepathids : ",o),SELECTED_MERGEPATHIDS=o,c.mergePathIds.value=o,c.$apply(),c.resetMergePaths()}),$("#checkbox-hide-names-mergepaths").change(function(){if($(this).is(":checked"))for(var e=0;e<NodeManagerMergePaths.length;e++)for(var c=0;c<SELECTED_MERGEPATHIDS.length;c++)SELECTED_MERGEPATHIDS[c]===e&&NodeManagerMergePaths[e].toggleNodeTextVisibility(!0);else for(var e=0;e<NodeManagerMergePaths.length;e++)for(var c=0;c<SELECTED_MERGEPATHIDS.length;c++)SELECTED_MERGEPATHIDS[c]===e&&NodeManagerMergePaths[e].toggleNodeTextVisibility(!1)})}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwcGxpY2F0aW9uLmN0cmwuanMiLCJyb3V0ZXMuanMiLCJDb250cm9sbGVycy9jbHVzdGVyLmN0cmwuanMiLCJDb250cm9sbGVycy9pbnRyby5jdHJsLmpzIiwiQ29udHJvbGxlcnMvbWVyZ2VwYXRoLmN0cmwuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCIkcm9vdFNjb3BlIiwiJHNjb3BlIiwiJHdpbmRvdyIsInNldERhdGFHdWlJbml0aWFsaXplIiwicmVuZGVyT3B0aW9uc1VJIiwidGhpcyIsIkFkZGl0aXZlQ29sb3IiLCJSZXN0YXJ0IiwibG9jYXRpb24iLCJyZWxvYWQiLCJIaWRlTm9kZXMiLCJIaWRlTmFtZXMiLCJSRU5ERVJPUFRJT05TIiwiZ3VpIiwiZGF0IiwiR1VJIiwiQ2x1c3RlcnNHcnAiLCJhZGRGb2xkZXIiLCJDbHVzdGVySGlkZU5vZGVzIiwiYWRkIiwiTWVyZ2VQYXRoR3JwIiwiTWVyZ2VQYXRoSGlkZU5vZGVzIiwiTWVyZ2VQYXRoSGlkZU5hbWVzIiwiZ3VpX2FkZGl0aXZlQ29sb3IiLCJvbkZpbmlzaENoYW5nZSIsInZhbCIsIk5vZGVNYW5hZ2VyQ2x1c3RlciIsInRvZ2dsZU5vZGVWaXNpYmlsaXR5IiwiaSIsIk5vZGVNYW5hZ2VyTWVyZ2VQYXRocyIsImxlbmd0aCIsImoiLCJTRUxFQ1RFRF9NRVJHRVBBVEhJRFMiLCJ0b2dnbGVOb2RlVGV4dFZpc2liaWxpdHkiLCJtZWFuQWdlIiwidmFsdWUiLCJtZXJnZVBhdGhJZHMiLCIkIiwid2luZG93IiwicmVzaXplIiwicmVzaXplVE8iLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwidHJpZ2dlciIsImJpbmQiLCJyZXNldENsdXN0ZXJzIiwiRlJBTUUiLCJQQUdFX05VTSIsIlRXRUVOIiwicmVtb3ZlQWxsIiwiRWRnZU1hbmFnZXJDbHVzdGVyIiwicmVzZXQiLCJyZXNldE1lcmdlUGF0aHMiLCJFZGdlTWFuYWdlck1lcmdlUGF0aHMiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsIm90aGVyd2lzZSIsInJlZGlyZWN0VG8iLCJzZXRQYWdlTnVtIiwic2V0VmlzaWJpbGl0eSIsImFkZENsYXNzIiwidXBkYXRlTWVhbkFnZSIsIm5ld01lYW5BZ2UiLCJtYXBSYW5nZSIsIiRhcHBseSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNsaWNrIiwiY2hhbmdlIiwidG9nZ2xlVmFsIiwiaXMiLCJwcm9wIiwiY29uc29sZSIsImxvZyIsInRvZ2dsZVNob3dCeUNsdXN0ZXIiLCJyZW1vdmVDbGFzcyIsImlucHV0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFycmF5Iiwic3BsaXQiLCJtZXJnZVBhdGhJZCIsInBhcnNlSW50IiwiaXNOYU4iLCJlcnIiXSwibWFwcGluZ3MiOiJBQUNBQSxRQUFBQyxPQUFBLE9BQ0EsWUNEQUQsUUFBQUMsT0FBQSxPQUNBQyxXQUFBLG1CQUFBLGFBQUEsU0FBQSxVQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBb0RBLFFBQUFDLEtBRUEsR0FBQUMsR0FBQSxXQUVBQyxLQUFBQyxlQUFBLEVBRUFELEtBQUFFLFFBQUEsV0FHQUMsU0FBQUMsVUFJQUosS0FBQUssV0FBQSxFQUVBTCxLQUFBTSxXQUFBLEVBSUFDLGVBQUEsR0FBQVIsRUFDQSxJQUFBUyxHQUFBLEdBQUFDLEtBQUFDLElBRUFDLEVBQUFILEVBQUFJLFVBQUEsWUFDQUMsRUFBQUYsRUFBQUcsSUFBQVAsY0FBQSxhQUVBUSxFQUFBUCxFQUFBSSxVQUFBLGNBQ0FJLEVBQUFELEVBQUFELElBQUFQLGNBQUEsYUFDQVUsRUFBQUYsRUFBQUQsSUFBQVAsY0FBQSxhQUVBVyxFQUFBVixFQUFBTSxJQUFBUCxjQUFBLGdCQUNBVyxHQUFBQyxlQUFBLFNBQUFDLE1BU0FQLEVBQUFNLGVBQUEsU0FBQUMsR0FFQUMsbUJBQUFDLHFCQURBLEdBQUFGLEdBQ0EsR0FHQSxLQUlBSixFQUFBRyxlQUFBLFNBQUFD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LEtBQUEsVUFBQUYsR0FDQWpDLEVBQUEsZ0JBQUFNLFFBQUEsVUFDQU4sRUFBQSxnQkFBQW1DLEtBQUEsVUFBQUYsR0FDQWpDLEVBQUEsZ0JBQUFNLFFBQUEsVUFDQU4sRUFBQSxnQkFBQW1DLEtBQUEsVUFBQUYsR0FDQWpDLEVBQUEsZ0JBQUFNLFFBQUEsVUFDQU4sRUFBQSxnQkFBQW1DLEtBQUEsVUFBQUYsR0FDQWpDLEVBQUEsZ0JBQUFNLFFBQUEsVUFDQU4sRUFBQSxnQkFBQW1DLEtBQUEsVUFBQUYsR0FDQWpDLEVBQUEsZ0JBQUFNLFFBQUEsVUFDQU4sRUFBQSxnQkFBQW1DLEtBQUEsVUFBQUYsR0FDQWpDLEVBQUEsZ0JBQUFNLFFBQUEsVUFDQU4sRUFBQSxnQkFBQW1DLEtBQUEsVUFBQUYsR0FDQWpDLEVBQUEsZ0JBQUFNLFFBQUEsVUFDQU4sRUFBQSxnQkFBQW1DLEtBQUEsVUFBQUYsR0FDQWpDLEVBQUEsZ0JBQUFNLFFBQUEsVUFDQU4sRUFBQSxnQkFBQW1DLEtBQUEsVUFBQUYsR0FDQWpDLEVBQUEsZ0JBQUFNLFFBQUEsVUFDQU4sRUFBQSxnQkFBQW1DLEtBQUEsVUFBQUYsR0FDQWpDLEVBQUEsZ0JBQUFNLFFBQUEsVUFDQU4sRUFBQSxpQkFBQW1DLEtBQUEsVUFBQUYsR0FDQWpDLEVBQUEsaUJBQUFNLFFBQUEsVUFDQU4sRUFBQSxpQkFBQW1DLEtBQUEsVUFBQUYsR0FDQWpDLEVBQUEsaUJBQUFNLFFBQUEsVUFDQU4sRUFBQSxpQkFBQW1DLEtBQUEsVUFBQUYsR0FDQWpDLEVBQUEsaUJBQUFNLFFBQUEsVUFDQU4sRUFBQSxpQkFBQW1DLEtBQUEsVUFBQUYsR0FDQWpDLEVBQUEsaUJBQUFNLFFBQUEsVUFDQU4sRUFBQSxpQkFBQW1DLEtBQUEsVUFBQUYsR0FDQWpDLEVBQUEsaUJBQUFNLFFBQUEsVUFDQU4sRUFBQSxpQkFBQW1DLEtBQUEsVUFBQUYsR0FDQWpDLEVBQUEsaUJBQUFNLFFBQUEsVUFDQU4sRUFBQSxpQkFBQW1DLEtBQUEsVUFBQUYsR0FDQWpDLEVBQUEsaUJBQUFNLFFBQUEsVUFDQU4sRUFBQSxpQkFBQW1DLEtBQUEsVUFBQUYsR0FDQWpDLEVBQUEsaUJBQUFNLFFBQUEsWUFLQU4sRUFBQSxnQkFBQWdDLE9BQUEsV0FDQUksUUFBQUMsSUFBQSxhQUNBckMsRUFBQWhDLE1BQUFrRSxHQUFBLFlBQ0FyQixtQkFBQXlCLG9CQUFBLEdBQUEsR0FLQXpCLG1CQUFBeUIsb0JBQUEsR0FBQSxLQU1BdEMsRUFBQSxnQkFBQWdDLE9BQUEsV0FDQUksUUFBQUMsSUFBQSxhQUNBckMsRUFBQWhDLE1BQUFrRSxHQUFBLFlBQ0FyQixtQkFBQXlCLG9CQUFBLEdBQUEsR0FLQXpCLG1CQUFBeUIsb0JBQUEsR0FBQSxLQUtBdEMsRUFBQSxnQkFBQWdDLE9BQUEsV0FDQUksUUFBQUMsSUFBQSxhQUNBckMsRUFBQWhDLE1BQUFrRSxHQUFBLFlBQ0FyQixtQkFBQXlCLG9CQUFBLEdBQUEsR0FLQXpCLG1CQUFBeUIsb0JBQUEsR0FBQSxLQUtBdEMsRUFBQSxnQkFBQWdDLE9BQUEsV0FDQUksUUFBQUMsSUFBQSxhQUNBckMsRUFBQWhDLE1BQUFrRSxHQUFBLFlBQ0FyQixtQkFBQXlCLG9CQUFBLEdBQUEsR0FLQXpCLG1CQUFBeUIsb0JBQUEsR0FBQSxLQUtBdEMsRUFBQSxnQkFBQWdDLE9BQUEsV0FDQUksUUFBQUMsSUFBQSxhQUNBckMsRUFBQWhDLE1BQUFrRSxHQUFBLFlBQ0FyQixtQkFBQXlCLG9CQUFBLEdBQUEsR0FLQXpCLG1CQUFBeUIsb0JBQUEsR0FBQSxLQU1BdEMsRUFBQSxnQkFBQWdDLE9BQUEsV0FDQUksUUFBQUMsSUFBQSxhQUNBckMsRUFBQWhDLE1BQUFrRSxHQUFBLFlBQ0FyQixtQkFBQXlCLG9CQUFBLEdBQUEsR0FLQXpCLG1CQUFBeUIsb0JBQUEsR0FBQSxLQU1BdEMsRUFBQSxnQkFBQWdDLE9BQUEsV0FDQUksUUFBQUMsSUFBQSxhQUNBckMsRUFBQWhDLE1BQUFrRSxHQUFBLFlBQ0FyQixtQkFBQXlCLG9CQUFBLEdBQUEsR0FLQXpCLG1CQUFBeUIsb0JBQUEsR0FBQSxLQU1BdEMsRUFBQSxnQkFBQWdDLE9BQUEsV0FDQUksUUFBQUMsSUFBQSxhQUNBckMsRUFBQWhDLE1BQUFrRSxHQUFBLFlBQ0FyQixtQkFBQXlCLG9CQUFBLEdBQUEsR0FLQXpCLG1CQUFBeUIsb0JBQUEsR0FBQSxLQU1BdEMsRUFBQSxnQkFBQWdDLE9BQUEsV0FDQUksUUFBQUMsSUFBQSxhQUNBckMsRUFBQWhDLE1BQUFrRSxHQUFBLFlBQ0FyQixtQkFBQXlCLG9CQUFBLEdBQUEsR0FLQXpCLG1CQUFBeUIsb0JBQUEsR0FBQSxLQU1BdEMsRUFBQSxnQkFBQWdDLE9BQUEsV0FDQUksUUFBQUMsSUFBQSxhQUNBckMsRUFBQWhDLE1BQUFrRSxHQUFBLFlBQ0FyQixtQkFBQXlCLG9CQUFBLEdBQUEsR0FLQXpCLG1CQUFBeUIsb0JBQUEsR0FBQSxLQU1BdEMsRUFBQSxpQkFBQWdDLE9BQUEsV0FDQUksUUFBQUMsSUFBQSxhQUNBckMsRUFBQWhDLE1BQUFrRSxHQUFBLFlBQ0FyQixtQkFBQXlCLG9CQUFBLElBQUEsR0FLQXpCLG1CQUFBeUIsb0JBQUEsSUFBQSxLQU1BdEMsRUFBQSxpQkFBQWdDLE9BQUEsV0FDQUksUUFBQUMsSUFBQSxhQUNBckMsRUFBQWhDLE1BQUFrRSxHQUFBLFlBQ0FyQixtQkFBQXlCLG9CQUFBLElBQUEsR0FLQXpCLG1CQUFBeUIsb0JBQUEsSUFBQSxLQU1BdEMsRUFBQSxpQkFBQWdDLE9BQUEsV0FDQUksUUFBQUMsSUFBQSxhQUNBckMsRUFBQWhDLE1BQUFrRSxHQUFBLFlBQ0FyQixtQkFBQXlCLG9CQUFBLElBQUEsR0FLQXpCLG1CQUFBeUIsb0JBQUEsSUFBQSxLQU1BdEMsRUFBQSxpQkFBQWdDLE9BQUEsV0FDQUksUUFBQUMsSUFBQSxhQUNBckMsRUFBQWhDLE1BQUFrRSxHQUFBLFlBQ0FyQixtQkFBQXlCLG9CQUFBLElBQUEsR0FLQXpCLG1CQUFBeUIsb0JBQUEsSUFBQSxLQU1BdEMsRUFBQSxpQkFBQWdDLE9BQUEsV0FDQUksUUFBQUMsSUFBQSxhQUNBckMsRUFBQWhDLE1BQUFrRSxHQUFBLFlBQ0FyQixtQkFBQXlCLG9CQUFBLElBQUEsR0FLQXpCLG1CQUFBeUIsb0JBQUEsSUFBQSxLQUtBdEMsRUFBQSxpQkFBQWdDLE9BQUEsV0FDQUksUUFBQUMsSUFBQSxhQUNBckMsRUFBQWhDLE1BQUFrRSxHQUFBLFlBQ0FyQixtQkFBQXlCLG9CQUFBLElBQUEsR0FLQXpCLG1CQUFBeUIsb0JBQUEsSUFBQSxLQUtBdEMsRUFBQSxpQkFBQWdDLE9BQUEsV0FDQUksUUFBQUMsSUFBQSxhQUNBckMsRUFBQWhDLE1BQUFrRSxHQUFBLFlBQ0FyQixtQkFBQXlCLG9CQUFBLElBQUEsR0FLQXpCLG1CQUFBeUIsb0JBQUEsSUFBQSxLQU1BdEMsRUFBQSxpQkFBQWdDLE9BQUEsV0FDQUksUUFBQUMsSUFBQSxhQUNBckMsRUFBQWhDLE1BQUFrRSxHQUFBLFlBQ0FyQixtQkFBQXlCLG9CQUFBLElBQUEsR0FLQXpCLG1CQUFBeUIsb0JBQUEsSUFBQSxRQzdVQTlFLFFBQUFDLE9BQUEsT0FDQUMsV0FBQSxhQUFBLGFBQUEsU0FBQSxVQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBRUEsUUFBQTBELEtBQ0FiLFNBQUFaLE1BQUEsRUFLQSxRQUFBMEIsS0FDQXhCLEVBQUEsb0JBQUF1QyxZQUFBLFVBSkFoQixJQU1BQyxPQ1pBaEUsUUFBQUMsT0FBQSxPQUNBQyxXQUFBLGlCQUFBLGFBQUEsU0FBQSxVQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBRUEsUUFBQTBELEtBRUFiLFNBQUFaLE1BQUEsRUFLQSxRQUFBMEIsS0FFQXhCLEVBQUEsb0JBQUF5QixTQUFBLFVBSkFGLElBT0FDLElBRUE1RCxFQUFBOEQsY0FBQSxXQUNBLEtBQUFqQixNQUFBWCxNQUFBLEtBQUEsR0FBQVksU0FBQVosT0FBQSxDQUdBLEdBQUE2QixHQUFBQyxVQUFBLEVBQUEsTUFBQSxHQUFBLElBQUFuQixNQUFBWCxNQUNBbEMsR0FBQWlDLFFBQUFDLE1BQUE2QixFQUNBL0QsRUFBQWlFLFNBQ0FDLHNCQUFBbEUsRUFBQThELGlCQUVBOUQsRUFBQThELGdCQUdBMUIsRUFBQSx5QkFBQStCLE1BQUEsV0FFQW5FLEVBQUFtRCxvQkFJQWYsRUFBQSx1QkFBQStCLE1BQUEsV0FLQSxJQUFBLEdBSEFTLEdBQUFDLFNBQUFDLGVBQUEseUJBQUE1QyxNQUNBNkMsRUFBQUgsRUFBQUksTUFBQSxLQUVBckQsRUFBQSxFQUFBQSxFQUFBb0QsRUFBQWxELE9BQUFGLElBRUEsSUFDQSxHQUFBc0QsR0FBQUMsU0FBQUgsRUFBQXBELEdBQ0F3RCxPQUFBRixTQUNBRixHQUFBcEQsR0FFQW9ELEVBQUFwRCxHQUFBc0QsRUFHQSxNQUFBRyxHQUVBLFdBREFaLFNBQUFDLElBQUFXLEdBSUFaLFFBQUFDLElBQUEsdUJBQUFNLEdBQ0FoRCxzQkFBQWdELEVBQ0EvRSxFQUFBbUMsYUFBQUQsTUFBQTZDLEVBQ0EvRSxFQUFBaUUsU0FDQWpFLEVBQUFtRCxvQkF1Q0FmLEVBQUEsbUNBQUFnQyxPQUFBLFdBQ0EsR0FBQWhDLEVBQUFoQyxNQUFBa0UsR0FBQSxZQUVBLElBQUEsR0FBQTNDLEdBQUEsRUFBQUEsRUFBQUMsc0JBQUFDLE9BQUFGLElBRUEsSUFBQSxHQUFBRyxHQUFBLEVBQUFBLEVBQUFDLHNCQUFBRixPQUFBQyxJQUVBQyxzQkFBQUQsS0FBQUgsR0FDQUMsc0JBQUFELEdBQUFLLDBCQUFBLE9BVUEsS0FBQSxHQUFBTCxHQUFBLEVBQUFBLEVBQUFDLHNCQUFBQyxPQUFBRixJQUVBLElBQUEsR0FBQUcsR0FBQSxFQUFBQSxFQUFBQyxzQkFBQUYsT0FBQUMsSUFFQUMsc0JBQUFELEtBQUFILEdBQ0FDLHNCQUFBRCxHQUFBSywwQkFBQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbXG5cdCduZ1JvdXRlJyxcbl0pO1xuIiwiXG5hbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdBcHBsaWNhdGlvbkN0cmwnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsICR3aW5kb3cpe1xuXHQkc2NvcGUubWVhbkFnZSA9IHsgdmFsdWUgOiAwIH07XG5cdCRzY29wZS5tZXJnZVBhdGhJZHMgPSB7IHZhbHVlIDogWzBdfTtcblxuXHQvLyBhcyByZXNpemUsIHJlLWluaXQgZGF0YXNcblx0JCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcbiAgICBpZih0aGlzLnJlc2l6ZVRPKSBjbGVhclRpbWVvdXQodGhpcy5yZXNpemVUTyk7XG5cdCAgICB0aGlzLnJlc2l6ZVRPID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0ICAgICAgICAkKHRoaXMpLnRyaWdnZXIoJ3Jlc2l6ZUVuZCcpO1xuXHQgICAgfSwgMjAwKTtcblx0fSk7XG5cblx0JCh3aW5kb3cpLmJpbmQoJ3Jlc2l6ZUVuZCcsIGZ1bmN0aW9uKCkge1xuXHQgICAgLy9kbyBzb21ldGhpbmcsIHdpbmRvdyBoYXNuJ3QgY2hhbmdlZCBzaXplIGluIDUwMG1zXG5cdCAgICBsb2NhdGlvbi5yZWxvYWQoKTtcblx0fSk7XG5cblxuXHQkc2NvcGUucmVzZXRDbHVzdGVycyA9IGZ1bmN0aW9uKCl7XG4gICAgICBcdEZSQU1FLnZhbHVlICAgID0gMDtcbiAgICAgIFx0UEFHRV9OVU0udmFsdWUgPSAxO1xuXG4gICAgICBcdCRzY29wZS5tZWFuQWdlID0gNDguMDtcblxuICAgICAgXHRUV0VFTi5yZW1vdmVBbGwoKTsgLy8gcmVzZXQgdHdlZW4gYW5pbWF0aW9uc1xuXG4gICAgICBcdEVkZ2VNYW5hZ2VyQ2x1c3Rlci5yZXNldCgpO1xuICAgICAgXHROb2RlTWFuYWdlckNsdXN0ZXIucmVzZXQoKTtcblx0fVxuXG5cblx0JHNjb3BlLnJlc2V0TWVyZ2VQYXRocyA9IGZ1bmN0aW9uKCl7XG5cdFx0RlJBTUUudmFsdWUgICAgPSAwO1xuXHRcdFBBR0VfTlVNLnZhbHVlID0gMjtcblxuXHRcdFRXRUVOLnJlbW92ZUFsbCgpOyAvLyByZXNldCB0d2VlbiBhbmltYXRpb25zXG5cblx0XHQvLyB0dXJuIG9mZiBub2RlcyBhbmQgZWRnZXMgZXhjZXB0IG1lcmdlUGF0aElkXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBOb2RlTWFuYWdlck1lcmdlUGF0aHMubGVuZ3RoOyBpKyspe1xuXG5cdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IFNFTEVDVEVEX01FUkdFUEFUSElEUy5sZW5ndGg7IGorKyl7XG5cblx0XHRcdFx0aWYgKFNFTEVDVEVEX01FUkdFUEFUSElEU1tqXSA9PSBpKXtcblx0XHRcdFx0XHROb2RlTWFuYWdlck1lcmdlUGF0aHNbaV0ucmVzZXQoKTtcblx0XHRcdFx0XHRFZGdlTWFuYWdlck1lcmdlUGF0aHNbaV0ucmVzZXQoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBzZXREYXRhR3VpSW5pdGlhbGl6ZSgpe1xuXG5cdCAgICB2YXIgcmVuZGVyT3B0aW9uc1VJID0gZnVuY3Rpb24oKSB7XG5cblx0ICAgICAgdGhpcy5BZGRpdGl2ZUNvbG9yID0gdHJ1ZTtcblxuXHQgICAgICB0aGlzLlJlc3RhcnQgPSBmdW5jdGlvbigpIHsgXG5cblx0ICAgICAgXHQgLy8gcmVzdGFydCB0aGUgcGFnZVxuXHQgICAgICBcdCBsb2NhdGlvbi5yZWxvYWQoKTtcblxuXHQgICAgICB9O1xuXG5cdCAgICAgIHRoaXMuSGlkZU5vZGVzID0gZmFsc2U7XG5cblx0ICAgICAgdGhpcy5IaWRlTmFtZXMgPSBmYWxzZTtcblxuXHQgICAgfTtcblxuXHQgICAgUkVOREVST1BUSU9OUyBcdD0gbmV3IHJlbmRlck9wdGlvbnNVSSgpO1xuXHQgICAgdmFyIGd1aSAgXHRcdD0gbmV3IGRhdC5HVUkoKTtcblxuXHQgICAgdmFyIENsdXN0ZXJzR3JwID0gZ3VpLmFkZEZvbGRlcignQ2x1c3RlcnMnKTtcblx0XHR2YXIgQ2x1c3RlckhpZGVOb2RlcyA9IENsdXN0ZXJzR3JwLmFkZChSRU5ERVJPUFRJT05TLCAnSGlkZU5vZGVzJyk7XG5cblx0XHR2YXIgTWVyZ2VQYXRoR3JwID0gZ3VpLmFkZEZvbGRlcignTWVyZ2VQYXRocycpO1xuXHRcdHZhciBNZXJnZVBhdGhIaWRlTm9kZXMgPSBNZXJnZVBhdGhHcnAuYWRkKFJFTkRFUk9QVElPTlMsICdIaWRlTm9kZXMnKTtcblx0XHR2YXIgTWVyZ2VQYXRoSGlkZU5hbWVzID0gTWVyZ2VQYXRoR3JwLmFkZChSRU5ERVJPUFRJT05TLCAnSGlkZU5hbWVzJyk7XG5cblx0ICAgIHZhciBndWlfYWRkaXRpdmVDb2xvciA9IGd1aS5hZGQoUkVOREVST1BUSU9OUywgJ0FkZGl0aXZlQ29sb3InKTtcblx0ICAgIGd1aV9hZGRpdGl2ZUNvbG9yLm9uRmluaXNoQ2hhbmdlKGZ1bmN0aW9uKHZhbCkge1xuXHQgICAgXHRpZiAodmFsID09PSB0cnVlKXtcblx0ICAgIFx0XHQvL1JlbmRlclBhcmFtcy5BZGRpdGl2ZUNvbG9yID0gdHJ1ZTtcblx0ICAgIFx0fVxuXHQgICAgXHRlbHNle1xuXHQgICAgXHRcdC8vUmVuZGVyUGFyYW1zLkFkZGl0aXZlQ29sb3IgPSBmYWxzZTtcblx0ICAgIFx0fVxuXHQgICAgfSk7XG5cblx0ICAgIENsdXN0ZXJIaWRlTm9kZXMub25GaW5pc2hDaGFuZ2UoZnVuY3Rpb24odmFsKSB7XG5cdCAgICBcdGlmICh2YWwgPT0gdHJ1ZSkge1xuXHRcdCAgICAgICAgTm9kZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZU5vZGVWaXNpYmlsaXR5KGZhbHNlKTtcblx0ICAgIFx0fVxuXHQgICAgXHRlbHNlIHtcblx0XHQgICAgICAgIE5vZGVNYW5hZ2VyQ2x1c3Rlci50b2dnbGVOb2RlVmlzaWJpbGl0eSh0cnVlKTtcblx0ICAgIFx0fVxuXHQgICAgfSk7XG5cblx0ICAgXHRNZXJnZVBhdGhIaWRlTm9kZXMub25GaW5pc2hDaGFuZ2UoZnVuY3Rpb24odmFsKSB7XG5cdCAgICBcdGlmICh2YWwgPT0gdHJ1ZSkge1xuXHQgICAgICAgIFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBOb2RlTWFuYWdlck1lcmdlUGF0aHMubGVuZ3RoOyBpKyspe1xuXG5cdFx0ICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgU0VMRUNURURfTUVSR0VQQVRISURTLmxlbmd0aDsgaisrKXtcblxuXHRcdCAgICAgICAgICAgIGlmIChTRUxFQ1RFRF9NRVJHRVBBVEhJRFNbal0gPT09IGkpXG5cdFx0ICAgICAgICAgICAgICBOb2RlTWFuYWdlck1lcmdlUGF0aHNbaV0udG9nZ2xlTm9kZVZpc2liaWxpdHkoZmFsc2UpO1xuXG5cdFx0ICAgICAgICAgIH1cblx0XHQgICAgICAgICAgXG5cdFx0ICAgICAgICB9XG5cdCAgICBcdH1cblx0ICAgIFx0ZWxzZSB7XG5cdCAgICAgICAgXHRmb3IgKHZhciBpID0gMDsgaSA8IE5vZGVNYW5hZ2VyTWVyZ2VQYXRocy5sZW5ndGg7IGkrKyl7XG5cblx0XHQgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBTRUxFQ1RFRF9NRVJHRVBBVEhJRFMubGVuZ3RoOyBqKyspe1xuXG5cdFx0ICAgICAgICAgICAgaWYgKFNFTEVDVEVEX01FUkdFUEFUSElEU1tqXSA9PT0gaSlcblx0XHQgICAgICAgICAgICAgIE5vZGVNYW5hZ2VyTWVyZ2VQYXRoc1tpXS50b2dnbGVOb2RlVmlzaWJpbGl0eSh0cnVlKTtcblxuXHRcdCAgICAgICAgICB9XG5cblx0XHQgICAgICAgIH1cblx0XHQgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIE1lcmdlUGF0aEhpZGVOYW1lcy5vbkZpbmlzaENoYW5nZShmdW5jdGlvbih2YWwpIHtcblx0ICAgIFx0aWYgKHZhbCA9PSB0cnVlKSB7XG5cdCAgICBcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBOb2RlTWFuYWdlck1lcmdlUGF0aHMubGVuZ3RoOyBpKyspe1xuXG5cdFx0ICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgU0VMRUNURURfTUVSR0VQQVRISURTLmxlbmd0aDsgaisrKXtcblxuXHRcdCAgICAgICAgICAgIGlmIChTRUxFQ1RFRF9NRVJHRVBBVEhJRFNbal0gPT09IGkpXG5cdFx0ICAgICAgICAgICAgICBOb2RlTWFuYWdlck1lcmdlUGF0aHNbaV0udG9nZ2xlTm9kZVRleHRWaXNpYmlsaXR5KGZhbHNlKTtcblxuXHRcdCAgICAgICAgICB9XG5cdFx0ICAgICAgICB9XG5cdCAgICBcdH1cblx0ICAgIFx0ZWxzZSB7XG5cdCAgICBcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBOb2RlTWFuYWdlck1lcmdlUGF0aHMubGVuZ3RoOyBpKyspe1xuXG5cdFx0ICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgU0VMRUNURURfTUVSR0VQQVRISURTLmxlbmd0aDsgaisrKXtcblxuXHRcdCAgICAgICAgICAgIGlmIChTRUxFQ1RFRF9NRVJHRVBBVEhJRFNbal0gPT09IGkpXG5cdFx0ICAgICAgICAgICAgICBOb2RlTWFuYWdlck1lcmdlUGF0aHNbaV0udG9nZ2xlTm9kZVRleHRWaXNpYmlsaXR5KHRydWUpO1xuXG5cdFx0ICAgICAgICAgIH1cblx0XHQgICAgICAgIH1cblx0ICAgIFx0fVxuXHQgICAgfSk7XG5cblx0ICAgIGd1aS5hZGQoUkVOREVST1BUSU9OUywgJ1Jlc3RhcnQnKTtcblxuXHR9XG4gIFx0c2V0RGF0YUd1aUluaXRpYWxpemUoKTtcbn0pOyIsIlxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29uZmlnKGZ1bmN0aW9uICgkcm91dGVQcm92aWRlcil7XG5cdCRyb3V0ZVByb3ZpZGVyXG5cdC53aGVuKCcvbWVyZ2VwYXRocycsIFxuXHRcdHtcblx0XHRcdHRlbXBsYXRlVXJsOiAnL3RlbXBsYXRlcy9tZXJnZXBhdGhzLmh0bWwnLFxuXHRcdFx0Y29udHJvbGxlcjogJ01lcmdlUGF0aEN0cmwnXG5cdFx0fSlcblx0LndoZW4oJy9jbHVzdGVycycsIFxuXHRcdHtcblx0XHRcdHRlbXBsYXRlVXJsOiAnL3RlbXBsYXRlcy9jbHVzdGVycy5odG1sJyxcblx0XHRcdGNvbnRyb2xsZXI6ICdDbHVzdGVyQ3RybCdcblx0XHR9KVxuXHQud2hlbignL2ludHJvJywgXG5cdFx0e1xuXHRcdFx0dGVtcGxhdGVVcmw6ICcvdGVtcGxhdGVzL2ludHJvLmh0bWwnLFxuXHRcdFx0Y29udHJvbGxlcjogJ0ludHJvQ3RybCdcblx0XHR9KVxuXHQub3RoZXJ3aXNlKFxuXHRcdHtcbiAgIFx0XHRcdHJlZGlyZWN0VG86ICcvaW50cm8nXG5cdFx0fSk7XG5cbn0pO1xuIiwiXG5hbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdDbHVzdGVyQ3RybCcsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRzY29wZSwgJHdpbmRvdyl7XG5cbiAgZnVuY3Rpb24gc2V0UGFnZU51bSgpe1xuICAgIFBBR0VfTlVNLnZhbHVlID0gMTsgLy8gMSAtIGNsdXN0ZXJcbiAgfVxuICBzZXRQYWdlTnVtKCk7XG5cblxuICBmdW5jdGlvbiBzZXRWaXNpYmlsaXR5KCl7XG4gICAgJCgnLmRhdGEtdmlzaWJpbGl0eScpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgfVxuICBzZXRWaXNpYmlsaXR5KCk7XG5cblxuICAkc2NvcGUudXBkYXRlTWVhbkFnZSA9IGZ1bmN0aW9uKCl7XG4gICAgaWYgKEZSQU1FLnZhbHVlID4gNDAwIHx8IFBBR0VfTlVNLnZhbHVlICE9IDEpXG4gICAgICByZXR1cm47XG5cbiAgICB2YXIgbmV3TWVhbkFnZSA9IG1hcFJhbmdlKFswLCA0MDAuMF0sIFs0OC4wLCA3OC4wXSwgRlJBTUUudmFsdWUpO1xuICAgICRzY29wZS5tZWFuQWdlLnZhbHVlID0gbmV3TWVhbkFnZTtcbiAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCRzY29wZS51cGRhdGVNZWFuQWdlKTtcbiAgfVxuICAkc2NvcGUudXBkYXRlTWVhbkFnZSgpO1xuXG5cbiAgLy8gcmVzZXQgYW5pbWF0aW9uLlxuICAkKCcjYnRuLXJlc2V0LWNsdXN0ZXJzJykuY2xpY2soZnVuY3Rpb24oKSB7XG5cbiAgICAkc2NvcGUucmVzZXRDbHVzdGVycygpO1xuXG4gIH0pO1xuXG4gIC8qXG4gIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveC1oaWRlLW5vZGVzLWNsdXN0ZXJzJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgIE5vZGVNYW5hZ2VyQ2x1c3Rlci50b2dnbGVOb2RlVmlzaWJpbGl0eSh0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcbiAgICAgICAgTm9kZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZU5vZGVWaXNpYmlsaXR5KGZhbHNlKTtcbiAgICAgIH1cbiAgfSk7XG4gICovXG5cbiBcdC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveF9jX2FsbCcpLmNoYW5nZShmdW5jdGlvbigpIHtcblxuICAgIHZhciB0b2dnbGVWYWwgPSAkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIik7XG5cblx0XHQkKCcjY2hlY2tib3hfYzAnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTtcblx0XHQkKCcjY2hlY2tib3hfYzAnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHQkKCcjY2hlY2tib3hfYzEnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTtcblx0XHQkKCcjY2hlY2tib3hfYzEnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHQkKCcjY2hlY2tib3hfYzInKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTtcblx0XHQkKCcjY2hlY2tib3hfYzInKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHQkKCcjY2hlY2tib3hfYzMnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTsgXG5cdFx0JCgnI2NoZWNrYm94X2MzJykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0JCgnI2NoZWNrYm94X2M0JykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7XG5cdFx0JCgnI2NoZWNrYm94X2M0JykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0JCgnI2NoZWNrYm94X2M1JykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7XG5cdFx0JCgnI2NoZWNrYm94X2M1JykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0JCgnI2NoZWNrYm94X2M2JykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7XG5cdFx0JCgnI2NoZWNrYm94X2M2JykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0JCgnI2NoZWNrYm94X2M3JykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7IFxuXHRcdCQoJyNjaGVja2JveF9jNycpLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHRcdCQoJyNjaGVja2JveF9jOCcpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpO1xuXHRcdCQoJyNjaGVja2JveF9jOCcpLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHRcdCQoJyNjaGVja2JveF9jOScpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpO1xuXHRcdCQoJyNjaGVja2JveF9jOScpLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHRcdCQoJyNjaGVja2JveF9jMTAnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTtcblx0XHQkKCcjY2hlY2tib3hfYzEwJykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0JCgnI2NoZWNrYm94X2MxMScpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpOyBcblx0XHQkKCcjY2hlY2tib3hfYzExJykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0JCgnI2NoZWNrYm94X2MxMicpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpO1xuXHRcdCQoJyNjaGVja2JveF9jMTInKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHQkKCcjY2hlY2tib3hfYzEzJykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7XG5cdFx0JCgnI2NoZWNrYm94X2MxMycpLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHRcdCQoJyNjaGVja2JveF9jMTQnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTtcblx0XHQkKCcjY2hlY2tib3hfYzE0JykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0JCgnI2NoZWNrYm94X2MxNScpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpOyBcblx0XHQkKCcjY2hlY2tib3hfYzE1JykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0JCgnI2NoZWNrYm94X2MxNicpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpOyBcblx0XHQkKCcjY2hlY2tib3hfYzE2JykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0JCgnI2NoZWNrYm94X2MxNycpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpOyBcblx0XHQkKCcjY2hlY2tib3hfYzE3JykudHJpZ2dlcignY2hhbmdlJyk7ICBcblxuICB9KTtcblxuICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAkKCcjY2hlY2tib3hfYzAnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMCwgdHJ1ZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlXG4gICAgICB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDAsIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigwLCBmYWxzZSk7XG4gICAgICB9XG4gIH0pO1xuXG4gICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAkKCcjY2hlY2tib3hfYzEnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMSwgdHJ1ZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlXG4gICAgICB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDEsIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxLCBmYWxzZSk7XG4gICAgICB9XG4gIH0pO1xuICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgJCgnI2NoZWNrYm94X2MyJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKFwiY2hlY2tib3ghXCIpO1xuICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDIsIHRydWUpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDIsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigyLCBmYWxzZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMiwgZmFsc2UpO1xuICAgICAgfVxuICB9KTtcbiAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveF9jMycpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigzLCB0cnVlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigzLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMywgZmFsc2UpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDMsIGZhbHNlKTtcbiAgICAgIH1cbiAgfSk7XG4gICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAkKCcjY2hlY2tib3hfYzQnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNCwgdHJ1ZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlXG4gICAgICB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDQsIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig0LCBmYWxzZSk7XG4gICAgICB9XG4gIH0pO1xuXG4gICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAkKCcjY2hlY2tib3hfYzUnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNSwgdHJ1ZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlXG4gICAgICB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDUsIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig1LCBmYWxzZSk7XG4gICAgICB9XG4gIH0pO1xuXG4gICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgJCgnI2NoZWNrYm94X2M2JykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKFwiY2hlY2tib3ghXCIpO1xuICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDYsIHRydWUpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDYsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig2LCBmYWxzZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNiwgZmFsc2UpO1xuICAgICAgfVxuICB9KTtcblxuICAgICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveF9jNycpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig3LCB0cnVlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig3LCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNywgZmFsc2UpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDcsIGZhbHNlKTtcbiAgICAgIH1cbiAgfSk7XG5cbiAgICAgICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAkKCcjY2hlY2tib3hfYzgnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoOCwgdHJ1ZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoOCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlXG4gICAgICB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDgsIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig4LCBmYWxzZSk7XG4gICAgICB9XG4gIH0pO1xuXG4gICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgJCgnI2NoZWNrYm94X2M5JykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKFwiY2hlY2tib3ghXCIpO1xuICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDksIHRydWUpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDksIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig5LCBmYWxzZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoOSwgZmFsc2UpO1xuICAgICAgfVxuICB9KTtcblxuICAgICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveF9jMTAnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTAsIHRydWUpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDEwLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTAsIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMCwgZmFsc2UpO1xuICAgICAgfVxuICB9KTtcblxuICAgICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveF9jMTEnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTEsIHRydWUpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDExLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTEsIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMSwgZmFsc2UpO1xuICAgICAgfVxuICB9KTtcblxuICAgICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveF9jMTInKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTIsIHRydWUpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDEyLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTIsIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMiwgZmFsc2UpO1xuICAgICAgfVxuICB9KTtcblxuICAgICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveF9jMTMnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTMsIHRydWUpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDEzLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTMsIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMywgZmFsc2UpO1xuICAgICAgfVxuICB9KTtcblxuICAgICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveF9jMTQnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTQsIHRydWUpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDE0LCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTQsIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNCwgZmFsc2UpO1xuICAgICAgfVxuICB9KTtcbiAgICAgICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgJCgnI2NoZWNrYm94X2MxNScpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNSwgdHJ1ZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTUsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNSwgZmFsc2UpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDE1LCBmYWxzZSk7XG4gICAgICB9XG4gIH0pO1xuICAgICAgICAgICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAkKCcjY2hlY2tib3hfYzE2JykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKFwiY2hlY2tib3ghXCIpO1xuICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDE2LCB0cnVlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNiwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlXG4gICAgICB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDE2LCBmYWxzZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTYsIGZhbHNlKTtcbiAgICAgIH1cbiAgfSk7XG5cbiAgICAgICAgICAgICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveF9jMTcnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTcsIHRydWUpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDE3LCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTcsIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNywgZmFsc2UpO1xuICAgICAgfVxuICB9KTtcblxufSk7IiwiXG5hbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdJbnRyb0N0cmwnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsICR3aW5kb3cpe1xuXG5cdGZ1bmN0aW9uIHNldFBhZ2VOdW0oKXtcbiAgICBcdFBBR0VfTlVNLnZhbHVlID0gMDtcbiAgXHR9XG4gIFx0c2V0UGFnZU51bSgpO1xuXG5cblx0ZnVuY3Rpb24gc2V0VmlzaWJpbGl0eSgpe1xuXHRcdCQoJy5kYXRhLXZpc2liaWxpdHknKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cdH1cblx0c2V0VmlzaWJpbGl0eSgpO1xuXG59KTsiLCJcbmFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbnRyb2xsZXIoJ01lcmdlUGF0aEN0cmwnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsICR3aW5kb3cpe1xuXG4gIGZ1bmN0aW9uIHNldFBhZ2VOdW0oKXtcblxuICAgIFBBR0VfTlVNLnZhbHVlID0gMjtcblxuICB9XG4gIHNldFBhZ2VOdW0oKTtcblxuICBmdW5jdGlvbiBzZXRWaXNpYmlsaXR5KCl7XG5cbiAgICAkKCcuZGF0YS12aXNpYmlsaXR5JykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gIH1cbiAgc2V0VmlzaWJpbGl0eSgpO1xuXG4gICRzY29wZS51cGRhdGVNZWFuQWdlID0gZnVuY3Rpb24oKXtcbiAgICBpZiAoRlJBTUUudmFsdWUgPiA0MDAgfHwgUEFHRV9OVU0udmFsdWUgIT0gMSlcbiAgICAgIHJldHVybjtcblxuICAgIHZhciBuZXdNZWFuQWdlID0gbWFwUmFuZ2UoWzAsIDQwMC4wXSwgWzQ4LjAsIDc4LjBdLCBGUkFNRS52YWx1ZSk7XG4gICAgJHNjb3BlLm1lYW5BZ2UudmFsdWUgPSBuZXdNZWFuQWdlO1xuICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoJHNjb3BlLnVwZGF0ZU1lYW5BZ2UpO1xuICB9XG4gICRzY29wZS51cGRhdGVNZWFuQWdlKCk7XG5cbiAgLy8gcmVzZXQgYW5pbWF0aW9uLlxuICAkKCcjYnRuLXJlc2V0LW1lcmdlcGF0aHMnKS5jbGljayhmdW5jdGlvbigpIHtcblxuICAgICRzY29wZS5yZXNldE1lcmdlUGF0aHMoKTsgXG5cbiAgfSk7XG5cbiAgJCgnI2J0bi1ydW4tbWVyZ2VwYXRocycpLmNsaWNrKGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0ZXh0aW5mby1tZXJnZXBhdGhpZHNcIikudmFsdWU7XG4gICAgdmFyIGFycmF5ID0gaW5wdXQuc3BsaXQoJyAnKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspe1xuXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgbWVyZ2VQYXRoSWQgPSBwYXJzZUludChhcnJheVtpXSk7XG4gICAgICAgIGlmIChpc05hTihtZXJnZVBhdGhJZCkpe1xuICAgICAgICAgIGRlbGV0ZSBhcnJheVtpXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhcnJheVtpXSA9IG1lcmdlUGF0aElkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYXRjaChlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zb2xlLmxvZygnU2hvdyBtZXJnZXBhdGhpZHMgOiAnLCBhcnJheSk7XG4gICAgU0VMRUNURURfTUVSR0VQQVRISURTID0gYXJyYXk7XG4gICAgJHNjb3BlLm1lcmdlUGF0aElkcy52YWx1ZSA9IGFycmF5O1xuICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAkc2NvcGUucmVzZXRNZXJnZVBhdGhzKCk7XG4gIH0pXG5cbiAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgLypcbiAgJCgnI2NoZWNrYm94LWhpZGUtbm9kZXMtbWVyZ2VwYXRocycpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuXG4gICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5vZGVNYW5hZ2VyTWVyZ2VQYXRocy5sZW5ndGg7IGkrKyl7XG5cbiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IFNFTEVDVEVEX01FUkdFUEFUSElEUy5sZW5ndGg7IGorKyl7XG5cbiAgICAgICAgICAgIGlmIChTRUxFQ1RFRF9NRVJHRVBBVEhJRFNbal0gPT09IGkpXG4gICAgICAgICAgICAgIE5vZGVNYW5hZ2VyTWVyZ2VQYXRoc1tpXS50b2dnbGVOb2RlVmlzaWJpbGl0eSh0cnVlKTtcblxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgIH1cbiAgICAgICAgXG4gICAgICB9XG4gICAgICBlbHNlXG4gICAgICB7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOb2RlTWFuYWdlck1lcmdlUGF0aHMubGVuZ3RoOyBpKyspe1xuXG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBTRUxFQ1RFRF9NRVJHRVBBVEhJRFMubGVuZ3RoOyBqKyspe1xuXG4gICAgICAgICAgICBpZiAoU0VMRUNURURfTUVSR0VQQVRISURTW2pdID09PSBpKVxuICAgICAgICAgICAgICBOb2RlTWFuYWdlck1lcmdlUGF0aHNbaV0udG9nZ2xlTm9kZVZpc2liaWxpdHkoZmFsc2UpO1xuXG4gICAgICAgICAgfVxuXG4gICAgICAgICB9XG5cbiAgICAgIH1cbiAgfSk7XG4qL1xuXG4gIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveC1oaWRlLW5hbWVzLW1lcmdlcGF0aHMnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcblxuICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOb2RlTWFuYWdlck1lcmdlUGF0aHMubGVuZ3RoOyBpKyspe1xuXG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBTRUxFQ1RFRF9NRVJHRVBBVEhJRFMubGVuZ3RoOyBqKyspe1xuXG4gICAgICAgICAgICBpZiAoU0VMRUNURURfTUVSR0VQQVRISURTW2pdID09PSBpKVxuICAgICAgICAgICAgICBOb2RlTWFuYWdlck1lcmdlUGF0aHNbaV0udG9nZ2xlTm9kZVRleHRWaXNpYmlsaXR5KHRydWUpO1xuXG4gICAgICAgICAgfVxuXG4gICAgICAgICB9XG4gICAgICAgIFxuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAge1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTm9kZU1hbmFnZXJNZXJnZVBhdGhzLmxlbmd0aDsgaSsrKXtcblxuICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgU0VMRUNURURfTUVSR0VQQVRISURTLmxlbmd0aDsgaisrKXtcblxuICAgICAgICAgICAgaWYgKFNFTEVDVEVEX01FUkdFUEFUSElEU1tqXSA9PT0gaSlcbiAgICAgICAgICAgICAgTm9kZU1hbmFnZXJNZXJnZVBhdGhzW2ldLnRvZ2dsZU5vZGVUZXh0VmlzaWJpbGl0eShmYWxzZSk7XG5cbiAgICAgICAgICB9XG5cbiAgICAgICAgIH1cblxuICAgICAgfVxuICB9KTtcbiAgXG59KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=