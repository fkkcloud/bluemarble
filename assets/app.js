angular.module("app",["ngRoute"]),angular.module("app").controller("ApplicationCtrl",["$rootScope","$scope","$window",function(e,t,r){function a(){var e=function(){this.AdditiveColor=!0,this.Restart=function(){location.reload()},this.HideNodes=!1,this.HideNames=!1};RENDEROPTIONS=new e;var t=new dat.GUI,r=t.addFolder("Clusters"),a=r.add(RENDEROPTIONS,"HideNodes"),o=t.addFolder("MergePaths"),n=o.add(RENDEROPTIONS,"HideNodes"),l=o.add(RENDEROPTIONS,"HideNames");a.onFinishChange(function(e){NodeManagerCluster.toggleNodeVisibility(1==e?!1:!0)}),n.onFinishChange(function(e){if(1==e)for(var t=0;t<NodeManagerMergePaths.length;t++)for(var r=0;r<SELECTED_MERGEPATHIDS.length;r++)SELECTED_MERGEPATHIDS[r]===t&&NodeManagerMergePaths[t].toggleNodeVisibility(!1);else for(var t=0;t<NodeManagerMergePaths.length;t++)for(var r=0;r<SELECTED_MERGEPATHIDS.length;r++)SELECTED_MERGEPATHIDS[r]===t&&NodeManagerMergePaths[t].toggleNodeVisibility(!0)}),l.onFinishChange(function(e){if(1==e)for(var t=0;t<NodeManagerMergePaths.length;t++)for(var r=0;r<SELECTED_MERGEPATHIDS.length;r++)SELECTED_MERGEPATHIDS[r]===t&&NodeManagerMergePaths[t].toggleNodeTextVisibility(!1);else for(var t=0;t<NodeManagerMergePaths.length;t++)for(var r=0;r<SELECTED_MERGEPATHIDS.length;r++)SELECTED_MERGEPATHIDS[r]===t&&NodeManagerMergePaths[t].toggleNodeTextVisibility(!0)}),t.add(RENDEROPTIONS,"Restart")}t.meanAge={value:0},t.mergePathIds={value:[0]},t.getMenuShow=function(){return t.show_menu},$(window).resize(function(){this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){$(this).trigger("resizeEnd")},200)}),$(window).bind("resizeEnd",function(){location.reload()}),t.resetClusters=function(){FRAME.value=0,PAGE_NUM.value=1,t.meanAge=48,TWEEN.removeAll(),EdgeManagerCluster.reset(),NodeManagerCluster.reset()},t.cleanMergePaths=function(){for(var e=0;e<NodeManagerMergePaths.length;e++)for(var t=0;t<SELECTED_MERGEPATHIDS.length;t++)SELECTED_MERGEPATHIDS[t]==e&&NodeManagerMergePaths[e].clean()},t.resetMergePaths=function(){FRAME.value=0,PAGE_NUM.value=2,TWEEN.removeAll();for(var e=0;e<NodeManagerMergePaths.length;e++)for(var t=0;t<SELECTED_MERGEPATHIDS.length;t++)SELECTED_MERGEPATHIDS[t]==e&&(NodeManagerMergePaths[e].reset(),EdgeManagerMergePaths[e].reset())},a()}]),angular.module("app").config(["$routeProvider",function(e){e.when("/mergepaths",{templateUrl:"/templates/mergepaths.html",controller:"MergePathCtrl"}).when("/clusters",{templateUrl:"/templates/clusters.html",controller:"ClusterCtrl"}).when("/intro",{templateUrl:"/templates/intro.html",controller:"IntroCtrl"}).otherwise({redirectTo:"/intro"})}]),angular.module("app").controller("ClusterCtrl",["$rootScope","$scope","$window",function(e,t,r){function a(){PAGE_NUM.value=1}function o(){$(".data-visibility").addClass("active")}function n(){for(var e=0;18>e;e++)EdgeManagerCluster.toggleShowByCluster(e,!1)}function l(){for(var e=0;18>e;e++)EdgeManagerCluster.toggleShowByCluster(e,!0)}a(),o(),t.updateMeanAge=function(){if(!(FRAME.value>420||1!=PAGE_NUM.value)){var e=mapRange([0,400],[38.2,81.3],FRAME.value);t.meanAge.value=Math.ceil(e),t.$apply(),requestAnimationFrame(t.updateMeanAge)}},t.updateMeanAge(),$("#btn-reset-clusters").click(function(){t.resetClusters()}),$("#clusterid").change(function(){var e=$("#clusterid").val();return isNaN(e)?void("Not Clustered"==e?(console.log(e),EdgeManagerCluster.toggleShowByCluster(17,!0)):(console.log(e),l())):(console.log(e),n(),void EdgeManagerCluster.toggleShowByCluster(e,!0))})}]),angular.module("app").controller("IntroCtrl",["$rootScope","$scope","$window",function(e,t,r){function a(){PAGE_NUM.value=0}function o(){$(".data-visibility").removeClass("active")}a(),o()}]),angular.module("app").controller("MergePathCtrl",["$rootScope","$scope","$window",function(e,t,r){function a(){PAGE_NUM.value=2}function o(){$(".data-visibility").addClass("active")}a(),o(),$("#btn-reset-mergepaths").click(function(){t.resetMergePaths()}),$("#btn-run-mergepaths").click(function(){for(var e=document.getElementById("textinfo-mergepathids").value,r=e.split(" "),a=0;a<r.length;a++)try{var o=parseInt(r[a]);isNaN(o)?delete r[a]:r[a]=o}catch(n){return void console.log(n)}t.cleanMergePaths(),SELECTED_MERGEPATHIDS=r,t.mergePathIds.value=r,t.$apply(),t.resetMergePaths()}),$("#checkbox-hide-names-mergepaths").change(function(){if($(this).is(":checked"))for(var e=0;e<NodeManagerMergePaths.length;e++)for(var t=0;t<SELECTED_MERGEPATHIDS.length;t++)SELECTED_MERGEPATHIDS[t]===e&&NodeManagerMergePaths[e].toggleNodeTextVisibility(!0);else for(var e=0;e<NodeManagerMergePaths.length;e++)for(var t=0;t<SELECTED_MERGEPATHIDS.length;t++)SELECTED_MERGEPATHIDS[t]===e&&NodeManagerMergePaths[e].toggleNodeTextVisibility(!1)})}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwcGxpY2F0aW9uLmN0cmwuanMiLCJyb3V0ZXMuanMiLCJDb250cm9sbGVycy9jbHVzdGVyLmN0cmwuanMiLCJDb250cm9sbGVycy9pbnRyby5jdHJsLmpzIiwiQ29udHJvbGxlcnMvbWVyZ2VwYXRoLmN0cmwuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCIkcm9vdFNjb3BlIiwiJHNjb3BlIiwiJHdpbmRvdyIsInNldERhdGFHdWlJbml0aWFsaXplIiwicmVuZGVyT3B0aW9uc1VJIiwidGhpcyIsIkFkZGl0aXZlQ29sb3IiLCJSZXN0YXJ0IiwibG9jYXRpb24iLCJyZWxvYWQiLCJIaWRlTm9kZXMiLCJIaWRlTmFtZXMiLCJSRU5ERVJPUFRJT05TIiwiZ3VpIiwiZGF0IiwiR1VJIiwiQ2x1c3RlcnNHcnAiLCJhZGRGb2xkZXIiLCJDbHVzdGVySGlkZU5vZGVzIiwiYWRkIiwiTWVyZ2VQYXRoR3JwIiwiTWVyZ2VQYXRoSGlkZU5vZGVzIiwiTWVyZ2VQYXRoSGlkZU5hbWVzIiwib25GaW5pc2hDaGFuZ2UiLCJ2YWwiLCJOb2RlTWFuYWdlckNsdXN0ZXIiLCJ0b2dnbGVOb2RlVmlzaWJpbGl0eSIsImkiLCJOb2RlTWFuYWdlck1lcmdlUGF0aHMiLCJsZW5ndGgiLCJqIiwiU0VMRUNURURfTUVSR0VQQVRISURTIiwidG9nZ2xlTm9kZVRleHRWaXNpYmlsaXR5IiwibWVhbkFnZSIsInZhbHVlIiwibWVyZ2VQYXRoSWRzIiwiZ2V0TWVudVNob3ciLCJzaG93X21lbnUiLCIkIiwid2luZG93IiwicmVzaXplIiwicmVzaXplVE8iLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwidHJpZ2dlciIsImJpbmQiLCJyZXNldENsdXN0ZXJzIiwiRlJBTUUiLCJQQUdFX05VTSIsIlRXRUVOIiwicmVtb3ZlQWxsIiwiRWRnZU1hbmFnZXJDbHVzdGVyIiwicmVzZXQiLCJjbGVhbk1lcmdlUGF0aHMiLCJjbGVhbiIsInJlc2V0TWVyZ2VQYXRocyIsIkVkZ2VNYW5hZ2VyTWVyZ2VQYXRocyIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwid2hlbiIsInRlbXBsYXRlVXJsIiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsInNldFBhZ2VOdW0iLCJzZXRWaXNpYmlsaXR5IiwiYWRkQ2xhc3MiLCJjbGVhckFsbENsdXN0ZXJzIiwidG9nZ2xlU2hvd0J5Q2x1c3RlciIsInZpZXdBbGxDbHVzdGVycyIsInVwZGF0ZU1lYW5BZ2UiLCJuZXdNZWFuQWdlIiwibWFwUmFuZ2UiLCJNYXRoIiwiY2VpbCIsIiRhcHBseSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNsaWNrIiwiY2hhbmdlIiwiY2x1c3RlcmlkIiwiaXNOYU4iLCJjb25zb2xlIiwibG9nIiwicmVtb3ZlQ2xhc3MiLCJpbnB1dCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhcnJheSIsInNwbGl0IiwibWVyZ2VQYXRoSWQiLCJwYXJzZUludCIsImVyciIsImlzIl0sIm1hcHBpbmdzIjoiQUFDQUEsUUFBQUMsT0FBQSxPQUNBLFlDREFELFFBQUFDLE9BQUEsT0FDQUMsV0FBQSxtQkFBQSxhQUFBLFNBQUEsVUFBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQXdFQSxRQUFBQyxLQUVBLEdBQUFDLEdBQUEsV0FFQUMsS0FBQUMsZUFBQSxFQUVBRCxLQUFBRSxRQUFBLFdBR0FDLFNBQUFDLFVBSUFKLEtBQUFLLFdBQUEsRUFFQUwsS0FBQU0sV0FBQSxFQUlBQyxlQUFBLEdBQUFSLEVBQ0EsSUFBQVMsR0FBQSxHQUFBQyxLQUFBQyxJQUVBQyxFQUFBSCxFQUFBSSxVQUFBLFlBQ0FDLEVBQUFGLEVBQUFHLElBQUFQLGNBQUEsYUFFQVEsRUFBQVAsRUFBQUksVUFBQSxjQUNBSSxFQUFBRCxFQUFBRCxJQUFBUCxjQUFBLGFBQ0FVLEVBQUFGLEVBQUFELElBQUFQLGNBQUEsWUFFQU0sR0FBQUssZUFBQSxTQUFBQyxHQUVBQyxtQkFBQUMscUJBREEsR0FBQUYsR0FDQSxHQUdB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QUFuRCxNQUlBb0QsRUFBQUgsRUFBQUksTUFBQSxLQUVBNUQsRUFBQSxFQUFBQSxFQUFBMkQsRUFBQXpELE9BQUFGLElBRUEsSUFDQSxHQUFBNkQsR0FBQUMsU0FBQUgsRUFBQTNELEdBQ0FvRCxPQUFBUyxTQUNBRixHQUFBM0QsR0FFQTJELEVBQUEzRCxHQUFBNkQsRUFHQSxNQUFBRSxHQUVBLFdBREFWLFNBQUFDLElBQUFTLEdBS0F6RixFQUFBb0Qsa0JBQ0F0QixzQkFBQXVELEVBQ0FyRixFQUFBa0MsYUFBQUQsTUFBQW9ELEVBQ0FyRixFQUFBeUUsU0FDQXpFLEVBQUFzRCxvQkF1Q0FqQixFQUFBLG1DQUFBdUMsT0FBQSxXQUNBLEdBQUF2QyxFQUFBakMsTUFBQXNGLEdBQUEsWUFFQSxJQUFBLEdBQUFoRSxHQUFBLEVBQUFBLEVBQUFDLHNCQUFBQyxPQUFBRixJQUVBLElBQUEsR0FBQUcsR0FBQSxFQUFBQSxFQUFBQyxzQkFBQUYsT0FBQUMsSUFFQUMsc0JBQUFELEtBQUFILEdBQ0FDLHNCQUFBRCxHQUFBSywwQkFBQSxPQVVBLEtBQUEsR0FBQUwsR0FBQSxFQUFBQSxFQUFBQyxzQkFBQUMsT0FBQUYsSUFFQSxJQUFBLEdBQUFHLEdBQUEsRUFBQUEsRUFBQUMsc0JBQUFGLE9BQUFDLElBRUFDLHNCQUFBRCxLQUFBSCxHQUNBQyxzQkFBQUQsR0FBQUssMEJBQUEiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5hbmd1bGFyLm1vZHVsZSgnYXBwJywgW1xuXHQnbmdSb3V0ZScsXG5dKTtcbiIsIlxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignQXBwbGljYXRpb25DdHJsJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgJHNjb3BlLCAkd2luZG93KXtcblxuXHQkc2NvcGUubWVhbkFnZSA9IHsgdmFsdWUgOiAwIH07XG5cdCRzY29wZS5tZXJnZVBhdGhJZHMgPSB7IHZhbHVlIDogWzBdfTtcblxuXHQkc2NvcGUuZ2V0TWVudVNob3cgPSBmdW5jdGlvbigpe1xuXHRcdHJldHVybiAkc2NvcGUuc2hvd19tZW51O1xuXHR9XG5cblx0Ly8gYXMgcmVzaXplLCByZS1pbml0IGRhdGFzXG5cdCQod2luZG93KS5yZXNpemUoZnVuY3Rpb24oKSB7XG4gICAgaWYodGhpcy5yZXNpemVUTykgY2xlYXJUaW1lb3V0KHRoaXMucmVzaXplVE8pO1xuXHQgICAgdGhpcy5yZXNpemVUTyA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cdCAgICAgICAgJCh0aGlzKS50cmlnZ2VyKCdyZXNpemVFbmQnKTtcblx0ICAgIH0sIDIwMCk7XG5cdH0pO1xuXG5cdCQod2luZG93KS5iaW5kKCdyZXNpemVFbmQnLCBmdW5jdGlvbigpIHtcblx0ICAgIC8vZG8gc29tZXRoaW5nLCB3aW5kb3cgaGFzbid0IGNoYW5nZWQgc2l6ZSBpbiA1MDBtc1xuXHQgICAgbG9jYXRpb24ucmVsb2FkKCk7XG5cdH0pO1xuXG5cblx0JHNjb3BlLnJlc2V0Q2x1c3RlcnMgPSBmdW5jdGlvbigpe1xuICAgICAgXHRGUkFNRS52YWx1ZSAgICA9IDA7XG4gICAgICBcdFBBR0VfTlVNLnZhbHVlID0gMTtcblxuICAgICAgXHQkc2NvcGUubWVhbkFnZSA9IDQ4LjA7XG5cbiAgICAgIFx0VFdFRU4ucmVtb3ZlQWxsKCk7IC8vIHJlc2V0IHR3ZWVuIGFuaW1hdGlvbnNcblxuICAgICAgXHRFZGdlTWFuYWdlckNsdXN0ZXIucmVzZXQoKTtcbiAgICAgIFx0Tm9kZU1hbmFnZXJDbHVzdGVyLnJlc2V0KCk7XG5cdH1cblxuXHQkc2NvcGUuY2xlYW5NZXJnZVBhdGhzID0gZnVuY3Rpb24oKXtcblxuXHRcdC8vIHR1cm4gb2ZmIG5vZGVzIGFuZCBlZGdlcyBleGNlcHQgbWVyZ2VQYXRoSWRcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IE5vZGVNYW5hZ2VyTWVyZ2VQYXRocy5sZW5ndGg7IGkrKyl7XG5cblx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgU0VMRUNURURfTUVSR0VQQVRISURTLmxlbmd0aDsgaisrKXtcblxuXHRcdFx0XHRpZiAoU0VMRUNURURfTUVSR0VQQVRISURTW2pdID09IGkpe1xuXHRcdFx0XHRcdE5vZGVNYW5hZ2VyTWVyZ2VQYXRoc1tpXS5jbGVhbigpO1xuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdH1cblx0fVxuXG5cdCRzY29wZS5yZXNldE1lcmdlUGF0aHMgPSBmdW5jdGlvbigpe1xuXHRcdEZSQU1FLnZhbHVlICAgID0gMDtcblx0XHRQQUdFX05VTS52YWx1ZSA9IDI7XG5cblx0XHRUV0VFTi5yZW1vdmVBbGwoKTsgLy8gcmVzZXQgdHdlZW4gYW5pbWF0aW9uc1xuXG5cdFx0Ly8gdHVybiBvZmYgbm9kZXMgYW5kIGVkZ2VzIGV4Y2VwdCBtZXJnZVBhdGhJZFxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgTm9kZU1hbmFnZXJNZXJnZVBhdGhzLmxlbmd0aDsgaSsrKXtcblxuXHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBTRUxFQ1RFRF9NRVJHRVBBVEhJRFMubGVuZ3RoOyBqKyspe1xuXG5cdFx0XHRcdGlmIChTRUxFQ1RFRF9NRVJHRVBBVEhJRFNbal0gPT0gaSl7XG5cdFx0XHRcdFx0Tm9kZU1hbmFnZXJNZXJnZVBhdGhzW2ldLnJlc2V0KCk7XG5cdFx0XHRcdFx0RWRnZU1hbmFnZXJNZXJnZVBhdGhzW2ldLnJlc2V0KCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gc2V0RGF0YUd1aUluaXRpYWxpemUoKXtcblxuXHQgICAgdmFyIHJlbmRlck9wdGlvbnNVSSA9IGZ1bmN0aW9uKCkge1xuXG5cdCAgICAgIHRoaXMuQWRkaXRpdmVDb2xvciA9IHRydWU7XG5cblx0ICAgICAgdGhpcy5SZXN0YXJ0ID0gZnVuY3Rpb24oKSB7IFxuXG5cdCAgICAgIFx0IC8vIHJlc3RhcnQgdGhlIHBhZ2Vcblx0ICAgICAgXHQgbG9jYXRpb24ucmVsb2FkKCk7XG5cblx0ICAgICAgfTtcblxuXHQgICAgICB0aGlzLkhpZGVOb2RlcyA9IGZhbHNlO1xuXG5cdCAgICAgIHRoaXMuSGlkZU5hbWVzID0gZmFsc2U7XG5cblx0ICAgIH07XG5cblx0ICAgIFJFTkRFUk9QVElPTlMgXHQ9IG5ldyByZW5kZXJPcHRpb25zVUkoKTtcblx0ICAgIHZhciBndWkgIFx0XHQ9IG5ldyBkYXQuR1VJKCk7XG5cblx0ICAgIHZhciBDbHVzdGVyc0dycCA9IGd1aS5hZGRGb2xkZXIoJ0NsdXN0ZXJzJyk7XG5cdFx0dmFyIENsdXN0ZXJIaWRlTm9kZXMgPSBDbHVzdGVyc0dycC5hZGQoUkVOREVST1BUSU9OUywgJ0hpZGVOb2RlcycpO1xuXG5cdFx0dmFyIE1lcmdlUGF0aEdycCA9IGd1aS5hZGRGb2xkZXIoJ01lcmdlUGF0aHMnKTtcblx0XHR2YXIgTWVyZ2VQYXRoSGlkZU5vZGVzID0gTWVyZ2VQYXRoR3JwLmFkZChSRU5ERVJPUFRJT05TLCAnSGlkZU5vZGVzJyk7XG5cdFx0dmFyIE1lcmdlUGF0aEhpZGVOYW1lcyA9IE1lcmdlUGF0aEdycC5hZGQoUkVOREVST1BUSU9OUywgJ0hpZGVOYW1lcycpO1xuXG5cdCAgICBDbHVzdGVySGlkZU5vZGVzLm9uRmluaXNoQ2hhbmdlKGZ1bmN0aW9uKHZhbCkge1xuXHQgICAgXHRpZiAodmFsID09IHRydWUpIHtcblx0XHQgICAgICAgIE5vZGVNYW5hZ2VyQ2x1c3Rlci50b2dnbGVOb2RlVmlzaWJpbGl0eShmYWxzZSk7XG5cdCAgICBcdH1cblx0ICAgIFx0ZWxzZSB7XG5cdFx0ICAgICAgICBOb2RlTWFuYWdlckNsdXN0ZXIudG9nZ2xlTm9kZVZpc2liaWxpdHkodHJ1ZSk7XG5cdCAgICBcdH1cblx0ICAgIH0pO1xuXG5cdCAgIFx0TWVyZ2VQYXRoSGlkZU5vZGVzLm9uRmluaXNoQ2hhbmdlKGZ1bmN0aW9uKHZhbCkge1xuXHQgICAgXHRpZiAodmFsID09IHRydWUpIHtcblx0ICAgICAgICBcdGZvciAodmFyIGkgPSAwOyBpIDwgTm9kZU1hbmFnZXJNZXJnZVBhdGhzLmxlbmd0aDsgaSsrKXtcblxuXHRcdCAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IFNFTEVDVEVEX01FUkdFUEFUSElEUy5sZW5ndGg7IGorKyl7XG5cblx0XHQgICAgICAgICAgICBpZiAoU0VMRUNURURfTUVSR0VQQVRISURTW2pdID09PSBpKVxuXHRcdCAgICAgICAgICAgICAgTm9kZU1hbmFnZXJNZXJnZVBhdGhzW2ldLnRvZ2dsZU5vZGVWaXNpYmlsaXR5KGZhbHNlKTtcblxuXHRcdCAgICAgICAgICB9XG5cdFx0ICAgICAgICAgIFxuXHRcdCAgICAgICAgfVxuXHQgICAgXHR9XG5cdCAgICBcdGVsc2Uge1xuXHQgICAgICAgIFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBOb2RlTWFuYWdlck1lcmdlUGF0aHMubGVuZ3RoOyBpKyspe1xuXG5cdFx0ICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgU0VMRUNURURfTUVSR0VQQVRISURTLmxlbmd0aDsgaisrKXtcblxuXHRcdCAgICAgICAgICAgIGlmIChTRUxFQ1RFRF9NRVJHRVBBVEhJRFNbal0gPT09IGkpXG5cdFx0ICAgICAgICAgICAgICBOb2RlTWFuYWdlck1lcmdlUGF0aHNbaV0udG9nZ2xlTm9kZVZpc2liaWxpdHkodHJ1ZSk7XG5cblx0XHQgICAgICAgICAgfVxuXG5cdFx0ICAgICAgICB9XG5cdFx0ICAgIH1cblx0ICAgIH0pO1xuXG5cdCAgICBNZXJnZVBhdGhIaWRlTmFtZXMub25GaW5pc2hDaGFuZ2UoZnVuY3Rpb24odmFsKSB7XG5cdCAgICBcdGlmICh2YWwgPT0gdHJ1ZSkge1xuXHQgICAgXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgTm9kZU1hbmFnZXJNZXJnZVBhdGhzLmxlbmd0aDsgaSsrKXtcblxuXHRcdCAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IFNFTEVDVEVEX01FUkdFUEFUSElEUy5sZW5ndGg7IGorKyl7XG5cblx0XHQgICAgICAgICAgICBpZiAoU0VMRUNURURfTUVSR0VQQVRISURTW2pdID09PSBpKVxuXHRcdCAgICAgICAgICAgICAgTm9kZU1hbmFnZXJNZXJnZVBhdGhzW2ldLnRvZ2dsZU5vZGVUZXh0VmlzaWJpbGl0eShmYWxzZSk7XG5cblx0XHQgICAgICAgICAgfVxuXHRcdCAgICAgICAgfVxuXHQgICAgXHR9XG5cdCAgICBcdGVsc2Uge1xuXHQgICAgXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgTm9kZU1hbmFnZXJNZXJnZVBhdGhzLmxlbmd0aDsgaSsrKXtcblxuXHRcdCAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IFNFTEVDVEVEX01FUkdFUEFUSElEUy5sZW5ndGg7IGorKyl7XG5cblx0XHQgICAgICAgICAgICBpZiAoU0VMRUNURURfTUVSR0VQQVRISURTW2pdID09PSBpKVxuXHRcdCAgICAgICAgICAgICAgTm9kZU1hbmFnZXJNZXJnZVBhdGhzW2ldLnRvZ2dsZU5vZGVUZXh0VmlzaWJpbGl0eSh0cnVlKTtcblxuXHRcdCAgICAgICAgICB9XG5cdFx0ICAgICAgICB9XG5cdCAgICBcdH1cblx0ICAgIH0pO1xuXG5cdCAgICBndWkuYWRkKFJFTkRFUk9QVElPTlMsICdSZXN0YXJ0Jyk7XG5cblx0fVxuICBcdHNldERhdGFHdWlJbml0aWFsaXplKCk7XG59KTsiLCJcbmFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbmZpZyhmdW5jdGlvbiAoJHJvdXRlUHJvdmlkZXIpe1xuXHQkcm91dGVQcm92aWRlclxuXHQud2hlbignL21lcmdlcGF0aHMnLCBcblx0XHR7XG5cdFx0XHR0ZW1wbGF0ZVVybDogJy90ZW1wbGF0ZXMvbWVyZ2VwYXRocy5odG1sJyxcblx0XHRcdGNvbnRyb2xsZXI6ICdNZXJnZVBhdGhDdHJsJ1xuXHRcdH0pXG5cdC53aGVuKCcvY2x1c3RlcnMnLCBcblx0XHR7XG5cdFx0XHR0ZW1wbGF0ZVVybDogJy90ZW1wbGF0ZXMvY2x1c3RlcnMuaHRtbCcsXG5cdFx0XHRjb250cm9sbGVyOiAnQ2x1c3RlckN0cmwnXG5cdFx0fSlcblx0LndoZW4oJy9pbnRybycsIFxuXHRcdHtcblx0XHRcdHRlbXBsYXRlVXJsOiAnL3RlbXBsYXRlcy9pbnRyby5odG1sJyxcblx0XHRcdGNvbnRyb2xsZXI6ICdJbnRyb0N0cmwnXG5cdFx0fSlcblx0Lm90aGVyd2lzZShcblx0XHR7XG4gICBcdFx0XHRyZWRpcmVjdFRvOiAnL2ludHJvJ1xuXHRcdH0pO1xuXG59KTtcbiIsIlxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignQ2x1c3RlckN0cmwnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsICR3aW5kb3cpe1xuXG4gIGZ1bmN0aW9uIHNldFBhZ2VOdW0oKXtcbiAgICBQQUdFX05VTS52YWx1ZSA9IDE7IC8vIDEgLSBjbHVzdGVyXG4gIH1cbiAgc2V0UGFnZU51bSgpO1xuXG5cbiAgZnVuY3Rpb24gc2V0VmlzaWJpbGl0eSgpe1xuICAgICQoJy5kYXRhLXZpc2liaWxpdHknKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gIH1cbiAgc2V0VmlzaWJpbGl0eSgpO1xuXG5cbiAgJHNjb3BlLnVwZGF0ZU1lYW5BZ2UgPSBmdW5jdGlvbigpe1xuICAgIGlmIChGUkFNRS52YWx1ZSA+IDQyMCB8fCBQQUdFX05VTS52YWx1ZSAhPSAxKVxuICAgICAgcmV0dXJuO1xuXG4gIHZhciBuZXdNZWFuQWdlID0gbWFwUmFuZ2UoWzAsIDQwMC4wXSwgWzM4LjIsIDgxLjNdLCBGUkFNRS52YWx1ZSk7XG4gICAgJHNjb3BlLm1lYW5BZ2UudmFsdWUgPSBNYXRoLmNlaWwobmV3TWVhbkFnZSk7XG4gICAgJHNjb3BlLiRhcHBseSgpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgkc2NvcGUudXBkYXRlTWVhbkFnZSk7XG4gIH1cbiAgJHNjb3BlLnVwZGF0ZU1lYW5BZ2UoKTtcblxuXG4gIC8vIHJlc2V0IGFuaW1hdGlvbi5cbiAgJCgnI2J0bi1yZXNldC1jbHVzdGVycycpLmNsaWNrKGZ1bmN0aW9uKCkge1xuXG4gICAgJHNjb3BlLnJlc2V0Q2x1c3RlcnMoKTtcblxuICB9KTtcblxuICAvKlxuICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAkKCcjY2hlY2tib3gtaGlkZS1ub2Rlcy1jbHVzdGVycycpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICBOb2RlTWFuYWdlckNsdXN0ZXIudG9nZ2xlTm9kZVZpc2liaWxpdHkodHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlXG4gICAgICB7XG4gICAgICAgIE5vZGVNYW5hZ2VyQ2x1c3Rlci50b2dnbGVOb2RlVmlzaWJpbGl0eShmYWxzZSk7XG4gICAgICB9XG4gIH0pO1xuICAqL1xuXG4gICQoJyNjbHVzdGVyaWQnKS5jaGFuZ2UoZnVuY3Rpb24oKXtcblxuICAgIHZhciBjbHVzdGVyaWQgPSAkKCcjY2x1c3RlcmlkJykudmFsKCk7XG5cbiAgICBpZiAoaXNOYU4oY2x1c3RlcmlkKSl7XG5cbiAgICAgIGlmIChjbHVzdGVyaWQgPT0gJ05vdCBDbHVzdGVyZWQnKXtcbiAgICAgICAgY29uc29sZS5sb2coY2x1c3RlcmlkKTtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTcsIHRydWUpOyBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGNsdXN0ZXJpZCk7XG4gICAgICAgIHZpZXdBbGxDbHVzdGVycygpOyAgXG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhjbHVzdGVyaWQpO1xuICAgIGNsZWFyQWxsQ2x1c3RlcnMoKTtcbiAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcihjbHVzdGVyaWQsIHRydWUpO1xuXG4gIH0pXG5cbiAgLy8gY2xlYXIgYWxsIGNsdXN0ZXJzXG4gIGZ1bmN0aW9uIGNsZWFyQWxsQ2x1c3RlcnMoKXsgLy8g7KeA6riIIOydtOqyjCBnbG9iYWzroZwg7KCV7J2Y65CcIOqyg+yduOuNsCwg7JWE66eI64+EIO2BtOuhnOylrOyWtCDslYjsl5Ag64Sj7Ja07IScLCDsnbQg7YyM7J28IOyViOyXkOyEnOunjCDqsIDriqXtlZwgbG9jYWwgc3BhY2XroZwg7Jiu6rKo7JW8IO2VoOuTr+yLtuuLpC5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE4OyBpKyspe1xuXG4gICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcihpLCBmYWxzZSk7XG5cbiAgICB9XG4gIH1cblxuICAvLyBjbGVhciBhbGwgY2x1c3RlcnNcbiAgZnVuY3Rpb24gdmlld0FsbENsdXN0ZXJzKCl7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxODsgaSsrKXtcblxuICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoaSwgdHJ1ZSk7XG5cbiAgICB9XG4gIH1cblxufSk7IiwiXG5hbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdJbnRyb0N0cmwnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsICR3aW5kb3cpe1xuXG5cdGZ1bmN0aW9uIHNldFBhZ2VOdW0oKXtcbiAgICBcdFBBR0VfTlVNLnZhbHVlID0gMDtcbiAgXHR9XG4gIFx0c2V0UGFnZU51bSgpO1xuXG5cblx0ZnVuY3Rpb24gc2V0VmlzaWJpbGl0eSgpe1xuXHRcdCQoJy5kYXRhLXZpc2liaWxpdHknKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cdH1cblx0c2V0VmlzaWJpbGl0eSgpO1xuXG59KTsiLCJcbmFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbnRyb2xsZXIoJ01lcmdlUGF0aEN0cmwnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsICR3aW5kb3cpe1xuXG4gIGZ1bmN0aW9uIHNldFBhZ2VOdW0oKXtcblxuICAgIFBBR0VfTlVNLnZhbHVlID0gMjtcblxuICB9XG4gIHNldFBhZ2VOdW0oKTtcblxuICBmdW5jdGlvbiBzZXRWaXNpYmlsaXR5KCl7XG5cbiAgICAkKCcuZGF0YS12aXNpYmlsaXR5JykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gIH1cbiAgc2V0VmlzaWJpbGl0eSgpO1xuXG5cblxuICAvLyByZXNldCBhbmltYXRpb24uXG4gICQoJyNidG4tcmVzZXQtbWVyZ2VwYXRocycpLmNsaWNrKGZ1bmN0aW9uKCkge1xuXG4gICAgJHNjb3BlLnJlc2V0TWVyZ2VQYXRocygpOyBcblxuICB9KTtcblxuXG5cbiAgJCgnI2J0bi1ydW4tbWVyZ2VwYXRocycpLmNsaWNrKGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0ZXh0aW5mby1tZXJnZXBhdGhpZHNcIikudmFsdWU7XG5cbiAgICAvLyBkZWFsIHdpdGggaW5wdXQgdG8gZmluZCBtZXJnZXBhdGghXG5cbiAgICB2YXIgYXJyYXkgPSBpbnB1dC5zcGxpdCgnICcpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKyl7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBtZXJnZVBhdGhJZCA9IHBhcnNlSW50KGFycmF5W2ldKTtcbiAgICAgICAgaWYgKGlzTmFOKG1lcmdlUGF0aElkKSl7XG4gICAgICAgICAgZGVsZXRlIGFycmF5W2ldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFycmF5W2ldID0gbWVyZ2VQYXRoSWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNhdGNoKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgJHNjb3BlLmNsZWFuTWVyZ2VQYXRocygpO1xuICAgIFNFTEVDVEVEX01FUkdFUEFUSElEUyA9IGFycmF5O1xuICAgICRzY29wZS5tZXJnZVBhdGhJZHMudmFsdWUgPSBhcnJheTtcbiAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgJHNjb3BlLnJlc2V0TWVyZ2VQYXRocygpO1xuICB9KVxuXG4gIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gIC8qXG4gICQoJyNjaGVja2JveC1oaWRlLW5vZGVzLW1lcmdlcGF0aHMnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcblxuICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOb2RlTWFuYWdlck1lcmdlUGF0aHMubGVuZ3RoOyBpKyspe1xuXG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBTRUxFQ1RFRF9NRVJHRVBBVEhJRFMubGVuZ3RoOyBqKyspe1xuXG4gICAgICAgICAgICBpZiAoU0VMRUNURURfTUVSR0VQQVRISURTW2pdID09PSBpKVxuICAgICAgICAgICAgICBOb2RlTWFuYWdlck1lcmdlUGF0aHNbaV0udG9nZ2xlTm9kZVZpc2liaWxpdHkodHJ1ZSk7XG5cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICB9XG4gICAgICAgIFxuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAge1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTm9kZU1hbmFnZXJNZXJnZVBhdGhzLmxlbmd0aDsgaSsrKXtcblxuICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgU0VMRUNURURfTUVSR0VQQVRISURTLmxlbmd0aDsgaisrKXtcblxuICAgICAgICAgICAgaWYgKFNFTEVDVEVEX01FUkdFUEFUSElEU1tqXSA9PT0gaSlcbiAgICAgICAgICAgICAgTm9kZU1hbmFnZXJNZXJnZVBhdGhzW2ldLnRvZ2dsZU5vZGVWaXNpYmlsaXR5KGZhbHNlKTtcblxuICAgICAgICAgIH1cblxuICAgICAgICAgfVxuXG4gICAgICB9XG4gIH0pO1xuKi9cblxuICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAkKCcjY2hlY2tib3gtaGlkZS1uYW1lcy1tZXJnZXBhdGhzJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG5cbiAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTm9kZU1hbmFnZXJNZXJnZVBhdGhzLmxlbmd0aDsgaSsrKXtcblxuICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgU0VMRUNURURfTUVSR0VQQVRISURTLmxlbmd0aDsgaisrKXtcblxuICAgICAgICAgICAgaWYgKFNFTEVDVEVEX01FUkdFUEFUSElEU1tqXSA9PT0gaSlcbiAgICAgICAgICAgICAgTm9kZU1hbmFnZXJNZXJnZVBhdGhzW2ldLnRvZ2dsZU5vZGVUZXh0VmlzaWJpbGl0eSh0cnVlKTtcblxuICAgICAgICAgIH1cblxuICAgICAgICAgfVxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5vZGVNYW5hZ2VyTWVyZ2VQYXRocy5sZW5ndGg7IGkrKyl7XG5cbiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IFNFTEVDVEVEX01FUkdFUEFUSElEUy5sZW5ndGg7IGorKyl7XG5cbiAgICAgICAgICAgIGlmIChTRUxFQ1RFRF9NRVJHRVBBVEhJRFNbal0gPT09IGkpXG4gICAgICAgICAgICAgIE5vZGVNYW5hZ2VyTWVyZ2VQYXRoc1tpXS50b2dnbGVOb2RlVGV4dFZpc2liaWxpdHkoZmFsc2UpO1xuXG4gICAgICAgICAgfVxuXG4gICAgICAgICB9XG5cbiAgICAgIH1cbiAgfSk7XG4gIFxufSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9