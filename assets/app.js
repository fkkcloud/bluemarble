angular.module("app",["ngRoute"]),angular.module("app").controller("ApplicationCtrl",["$rootScope","$scope","$window",function(e,c,o){c.resetDataViz=function(){FRAME=0,EdgeManager.reset(),NodeManager.reset()}}]),angular.module("app").controller("DataVizCtrl",["$rootScope","$scope","$window",function(e,c,o){function g(){$(".data-visibility").addClass("active")}g(),$("#btn-reset").click(function(){FRAME=0,EdgeManager.reset(),NodeManager.reset()}),$("#checkbox_hide_nodes").change(function(){NodeManager.toggleVisibility($(this).is(":checked")?!0:!1)}),$("#checkbox_c_all").change(function(){var e=$(this).is(":checked");$("#checkbox_c0").prop("checked",e),$("#checkbox_c0").trigger("change"),$("#checkbox_c1").prop("checked",e),$("#checkbox_c1").trigger("change"),$("#checkbox_c2").prop("checked",e),$("#checkbox_c2").trigger("change"),$("#checkbox_c3").prop("checked",e),$("#checkbox_c3").trigger("change"),$("#checkbox_c4").prop("checked",e),$("#checkbox_c4").trigger("change"),$("#checkbox_c5").prop("checked",e),$("#checkbox_c5").trigger("change"),$("#checkbox_c6").prop("checked",e),$("#checkbox_c6").trigger("change"),$("#checkbox_c7").prop("checked",e),$("#checkbox_c7").trigger("change"),$("#checkbox_c8").prop("checked",e),$("#checkbox_c8").trigger("change"),$("#checkbox_c9").prop("checked",e),$("#checkbox_c9").trigger("change"),$("#checkbox_c10").prop("checked",e),$("#checkbox_c10").trigger("change"),$("#checkbox_c11").prop("checked",e),$("#checkbox_c11").trigger("change"),$("#checkbox_c12").prop("checked",e),$("#checkbox_c12").trigger("change"),$("#checkbox_c13").prop("checked",e),$("#checkbox_c13").trigger("change"),$("#checkbox_c14").prop("checked",e),$("#checkbox_c14").trigger("change"),$("#checkbox_c15").prop("checked",e),$("#checkbox_c15").trigger("change"),$("#checkbox_c16").prop("checked",e),$("#checkbox_c16").trigger("change"),$("#checkbox_c17").prop("checked",e),$("#checkbox_c17").trigger("change")}),$("#checkbox_c0").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(0,!0):EdgeManager.toggleShowByCluster(0,!1)}),$("#checkbox_c1").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(1,!0):EdgeManager.toggleShowByCluster(1,!1)}),$("#checkbox_c2").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(2,!0):EdgeManager.toggleShowByCluster(2,!1)}),$("#checkbox_c3").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(3,!0):EdgeManager.toggleShowByCluster(3,!1)}),$("#checkbox_c4").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(4,!0):EdgeManager.toggleShowByCluster(4,!1)}),$("#checkbox_c5").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(5,!0):EdgeManager.toggleShowByCluster(5,!1)}),$("#checkbox_c6").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(6,!0):EdgeManager.toggleShowByCluster(6,!1)}),$("#checkbox_c7").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(7,!0):EdgeManager.toggleShowByCluster(7,!1)}),$("#checkbox_c8").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(8,!0):EdgeManager.toggleShowByCluster(8,!1)}),$("#checkbox_c9").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(9,!0):EdgeManager.toggleShowByCluster(9,!1)}),$("#checkbox_c10").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(10,!0):EdgeManager.toggleShowByCluster(10,!1)}),$("#checkbox_c11").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(11,!0):EdgeManager.toggleShowByCluster(11,!1)}),$("#checkbox_c12").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(12,!0):EdgeManager.toggleShowByCluster(12,!1)}),$("#checkbox_c13").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(13,!0):EdgeManager.toggleShowByCluster(13,!1)}),$("#checkbox_c14").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(14,!0):EdgeManager.toggleShowByCluster(14,!1)}),$("#checkbox_c15").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(15,!0):EdgeManager.toggleShowByCluster(15,!1)}),$("#checkbox_c16").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(16,!0):EdgeManager.toggleShowByCluster(16,!1)}),$("#checkbox_c17").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(17,!0):EdgeManager.toggleShowByCluster(17,!1)})}]),angular.module("app").controller("IntroCtrl",["$rootScope","$scope","$window",function(e,c,o){function g(){$(".data-visibility").removeClass("active")}g();var t=$(".slide"),n=$(".slide-group"),r=$(".bullet"),h=t.length-1,a=0,l=!1;r.first().addClass("current");var s=function(){var e=$(".slide-node").clone();$(".slide-node").html("Loading! If you see this message for a while, please refresh the page"),$(".slide-node").replaceWith(e);var c=$(".slide-lines").clone();$(".slide-lines").html("Loading! If you see this message for a while, please refresh the page"),$(".slide-lines").replaceWith(c)},i=function(){window.clearInterval(u),l=!1;var e=r.index($(this));d(e),s()},d=function(e){l?a===h?a=0:a++:a=e,r.removeClass("current"),r.eq(a).addClass("current"),k(a)},k=function(e){n.animate({top:"-"+e+"00%"}),s()};r.on("click",i);var u=window.setInterval(d,8e4)}]),angular.module("app").controller("NumberCtrl",["$rootScope","$scope","$window",function(e,c,o){function g(e){function c(e,c,o,g,t,n){function r(c){e.html(l(c,k))}function h(e,c){var o=".",g=e+"";if(g.length<c)for(var t=c-g.length,r=0;t>r;r++)g="0"+g;if(3==n){var h=(h=g.length)>3?h%3:0;return(h?g.substr(0,h)+o:"")+g.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+o)}if(4==n){var h=(h=g.length)>4?h%4:0;return(h?g.substr(0,h)+o:"")+g.substr(h).replace(/(\d{4})(?=\d)/g,"$1"+o)}var h=(h=g.length)>2?h%2:0;return(h?g.substr(0,h)+o:"")+g.substr(h).replace(/(\d{2})(?=\d)/g,"$1"+o)}function a(){o++;var e=o/s;e>=1?r(parseInt(c)):(r(parseInt(e*c)),setTimeout(a,d))}function l(e,c){for(var o=h(e,c),g=o.split(""),t=[],n=0;n<g.length;n++)t+="."==g[n]?"<span>.</span>":"<span>"+g[n]+"</span>";return t}var s=100,i=g,o=0,d=i/s,k=(c+"").length;e.html(l(0,k)),setTimeout(a,t)}var o=0,g=parseInt(e.attr("data-num")),t=parseInt(e.attr("time-duration")),n=parseInt(e.attr("time-delay")),r=parseInt(e.attr("format-info"));c(e,g,o,t,n,r)}$("[data-num]").each(function(){g($(this))})}]),angular.module("app").config(["$routeProvider",function(e){e.when("/dataviz",{templateUrl:"/templates/dataviz.html",controller:"DataVizCtrl"}).when("/intro",{templateUrl:"/templates/intro.html",controller:"IntroCtrl"}).otherwise({redirectTo:"/intro"})}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwcGxpY2F0aW9uLmN0cmwuanMiLCJkYXRhdml6LmN0cmwuanMiLCJpbnRyby5jdHJsLmpzIiwibnVtYmVyLmN0cmwuanMiLCJyb3V0ZXMuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCIkcm9vdFNjb3BlIiwiJHNjb3BlIiwiJHdpbmRvdyIsInJlc2V0RGF0YVZpeiIsIkZSQU1FIiwiRWRnZU1hbmFnZXIiLCJyZXNldCIsIk5vZGVNYW5hZ2VyIiwic2V0VmlzaWJpbGl0eSIsIiQiLCJhZGRDbGFzcyIsImNsaWNrIiwiY2hhbmdlIiwidG9nZ2xlVmlzaWJpbGl0eSIsInRoaXMiLCJpcyIsInRvZ2dsZVZhbCIsInByb3AiLCJ0cmlnZ2VyIiwiY29uc29sZSIsImxvZyIsInRvZ2dsZVNob3dCeUNsdXN0ZXIiLCJyZW1vdmVDbGFzcyIsIiRzbGlkZSIsIiRzbGlkZUdyb3VwIiwiJGJ1bGxldCIsInNsaWRlc1RvdGFsIiwibGVuZ3RoIiwiY3VycmVudCIsImlzQXV0b1NsaWRpbmciLCJmaXJzdCIsInJlc2V0U2xpZGVzIiwiZGl2Q2xvbmVfbm9kZSIsImNsb25lIiwiaHRtbCIsInJlcGxhY2VXaXRoIiwiZGl2Q2xvbmVfbGluZXMiLCJjbGlja1NsaWRlIiwid2luZG93IiwiY2xlYXJJbnRlcnZhbCIsImF1dG9TbGlkZSIsInNsaWRlSW5kZXgiLCJpbmRleCIsInVwZGF0ZUluZGV4IiwiY3VycmVudFNsaWRlIiwiZXEiLCJ0cmFuc2l0aW9uIiwic2xpZGVQb3NpdGlvbiIsImFuaW1hdGUiLCJ0b3AiLCJvbiIsInNldEludGVydmFsIiwic3RhcnRMb29wIiwiJGl0IiwiaW5pdF9pbmNyZWFzZSIsIm51bSIsImN1ciIsInRpbWVfZHVyYXRpb24iLCJ0aW1lX2RlbGF5IiwiZm9ybWF0X2luZm8iLCJzZXRWYWx1ZSIsInZhbCIsImdldEh0bSIsIm51bWxlbiIsImdldEZvcm1hdGVkIiwibiIsImxlbnRvdGFsIiwidCIsImkiLCJ5IiwieiIsImoiLCJzdWJzdHIiLCJyZXBsYWNlIiwibG9vcCIsInBlcmNlbnQiLCJzdGVwcyIsInBhcnNlSW50Iiwic2V0VGltZW91dCIsInN0ZXB0aW1lb3V0IiwidGFyZ2V0Rm9ybWF0ZWQiLCJjaGFycyIsInNwbGl0IiwiaHRtcyIsInRpbWV0b3RhbCIsImF0dHIiLCJlYWNoIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIl0sIm1hcHBpbmdzIjoiQUFDQUEsUUFBQUMsT0FBQSxPQUNBLFlDREFELFFBQUFDLE9BQUEsT0FDQUMsV0FBQSxtQkFBQSxhQUFBLFNBQUEsVUFBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUNBRCxFQUFBRSxhQUFBLFdBQ0FDLE1BQUEsRUFDQUMsWUFBQUMsUUFDQUMsWUFBQUQsWUNMQVQsUUFBQUMsT0FBQSxPQUNBQyxXQUFBLGVBQUEsYUFBQSxTQUFBLFVBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FFQSxRQUFBTSxLQUNBQyxFQUFBLG9CQUFBQyxTQUFBLFVBRUFGLElBV0FDLEVBQUEsY0FBQUUsTUFBQSxXQUNBUCxNQUFBLEVBQ0FDLFlBQUFDLFFBQ0FDLFlBQUFELFVBSUFHLEVBQUEsd0JBQUFHLE9BQUEsV0FFQUwsWUFBQU0saUJBREFKLEVBQUFLLE1BQUFDLEdBQUEsYUFDQSxHQUlBLEtBS0FOLEVBQUEsbUJBQUFHLE9BQUEsV0FFQSxHQUFBSSxHQUFBUCxFQUFBSyxNQUFBQyxHQUFBLFdBQ0FOLEdBQUEsZ0JBQUFRLEtBQUEsVUFBQUQsR0FDQVAsRUFBQSxnQkFBQVMsUUFBQSxVQUNBVCxFQUFBLGdCQUFBUSxLQUFBLFVBQUFELEdBQ0FQLEVBQUEsZ0JBQUFTLFFBQUEsVUFDQVQsRUFBQSxnQkFBQVEsS0FBQSxVQUFBRCxHQUNBUCxFQUFBLGdCQUFBUyxRQUFBLFVBQ0FULEVBQUEsZ0JBQUFRLEtBQUEsVUFBQUQsR0FDQVAsRUFBQSxnQkFBQVMsUUFBQSxVQUNBVCxF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QSxJQUNBQyxLQUNBZixFQUFBLEVBQUFBLEVBQUFhLEVBQUF0RCxPQUFBeUMsSUFJQWUsR0FGQSxLQUFBRixFQUFBYixHQUVBLGlCQUlBLFNBQUFhLEVBQUFiLEdBQUEsU0FHQSxPQUFBZSxHQXpFQSxHQUFBUCxHQUFBLElBQ0FRLEVBQUEzQixFQUNBRCxFQUFBLEVBQ0F1QixFQUFBSyxFQUFBUixFQUNBYixHQUFBUixFQUFBLElBQUE1QixNQUVBMEIsR0FBQW5CLEtBQUE0QixFQUFBLEVBQUFDLElBQ0FlLFdBQUFKLEVBQUFoQixHQWpCQSxHQUFBRixHQUFBLEVBQ0FELEVBQUFzQixTQUFBeEIsRUFBQWdDLEtBQUEsYUFDQTVCLEVBQUFvQixTQUFBeEIsRUFBQWdDLEtBQUEsa0JBQ0EzQixFQUFBbUIsU0FBQXhCLEVBQUFnQyxLQUFBLGVBQ0ExQixFQUFBa0IsU0FBQXhCLEVBQUFnQyxLQUFBLGVBRUEvQixHQUFBRCxFQUFBRSxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQVhBbEQsRUFBQSxjQUFBNkUsS0FBQSxXQUNBbEMsRUFBQTNDLEVBQUFLLFlDSEFqQixRQUFBQyxPQUFBLE9BQ0F5RixRQUFBLGlCQUFBLFNBQUFDLEdBQ0FBLEVBQ0FDLEtBQUEsWUFFQUMsWUFBQSwwQkFDQTNGLFdBQUEsZ0JBRUEwRixLQUFBLFVBRUFDLFlBQUEsd0JBQ0EzRixXQUFBLGNBRUE0RixXQUVBQyxXQUFBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFtcblx0J25nUm91dGUnLFxuXSk7XG4iLCJcbmFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbnRyb2xsZXIoJ0FwcGxpY2F0aW9uQ3RybCcsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRzY29wZSwgJHdpbmRvdyl7XG5cdCRzY29wZS5yZXNldERhdGFWaXogPSBmdW5jdGlvbigpe1xuXHRcdEZSQU1FID0gMDtcbiAgICAgIFx0RWRnZU1hbmFnZXIucmVzZXQoKTtcbiAgICAgIFx0Tm9kZU1hbmFnZXIucmVzZXQoKTtcblx0fVxufSk7IiwiXG5hbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdEYXRhVml6Q3RybCcsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRzY29wZSwgJHdpbmRvdyl7XG5cblx0ZnVuY3Rpb24gc2V0VmlzaWJpbGl0eSgpe1xuXHRcdCQoJy5kYXRhLXZpc2liaWxpdHknKS5hZGRDbGFzcygnYWN0aXZlJyk7XG5cdH1cblx0c2V0VmlzaWJpbGl0eSgpO1xuXG4vKlxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuQ0xVU1RFUlxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuKi9cblxuICAgIC8vIHJlc2V0IGFuaW1hdGlvbi5cbiAgICAkKCcjYnRuLXJlc2V0JykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICBGUkFNRSA9IDA7XG4gICAgICBFZGdlTWFuYWdlci5yZXNldCgpO1xuICAgICAgTm9kZU1hbmFnZXIucmVzZXQoKTtcbiAgICB9KTtcblxuICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICAgJCgnI2NoZWNrYm94X2hpZGVfbm9kZXMnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIE5vZGVNYW5hZ2VyLnRvZ2dsZVZpc2liaWxpdHkodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgTm9kZU1hbmFnZXIudG9nZ2xlVmlzaWJpbGl0eShmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgXHQvL3NldCBpbml0aWFsIHN0YXRlLlxuICAgICQoJyNjaGVja2JveF9jX2FsbCcpLmNoYW5nZShmdW5jdGlvbigpIHtcblxuICAgICAgdmFyIHRvZ2dsZVZhbCA9ICQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKTtcbiAgXHRcdCQoJyNjaGVja2JveF9jMCcpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpO1xuICBcdFx0JCgnI2NoZWNrYm94X2MwJykudHJpZ2dlcignY2hhbmdlJyk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzEnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTtcbiAgXHRcdCQoJyNjaGVja2JveF9jMScpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICBcdFx0JCgnI2NoZWNrYm94X2MyJykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzInKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgXHRcdCQoJyNjaGVja2JveF9jMycpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpOyBcbiAgXHRcdCQoJyNjaGVja2JveF9jMycpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICBcdFx0JCgnI2NoZWNrYm94X2M0JykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzQnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgXHRcdCQoJyNjaGVja2JveF9jNScpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpO1xuICBcdFx0JCgnI2NoZWNrYm94X2M1JykudHJpZ2dlcignY2hhbmdlJyk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzYnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTtcbiAgXHRcdCQoJyNjaGVja2JveF9jNicpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICBcdFx0JCgnI2NoZWNrYm94X2M3JykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7IFxuICBcdFx0JCgnI2NoZWNrYm94X2M3JykudHJpZ2dlcignY2hhbmdlJyk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzgnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTtcbiAgXHRcdCQoJyNjaGVja2JveF9jOCcpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICBcdFx0JCgnI2NoZWNrYm94X2M5JykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzknKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgXHRcdCQoJyNjaGVja2JveF9jMTAnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTtcbiAgXHRcdCQoJyNjaGVja2JveF9jMTAnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgXHRcdCQoJyNjaGVja2JveF9jMTEnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTsgXG4gIFx0XHQkKCcjY2hlY2tib3hfYzExJykudHJpZ2dlcignY2hhbmdlJyk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzEyJykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzEyJykudHJpZ2dlcignY2hhbmdlJyk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzEzJykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzEzJykudHJpZ2dlcignY2hhbmdlJyk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzE0JykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzE0JykudHJpZ2dlcignY2hhbmdlJyk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzE1JykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7IFxuICBcdFx0JCgnI2NoZWNrYm94X2MxNScpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICBcdFx0JCgnI2NoZWNrYm94X2MxNicpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpOyBcbiAgXHRcdCQoJyNjaGVja2JveF9jMTYnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgXHRcdCQoJyNjaGVja2JveF9jMTcnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTsgXG4gIFx0XHQkKCcjY2hlY2tib3hfYzE3JykudHJpZ2dlcignY2hhbmdlJyk7ICBcblxuICAgIH0pO1xuXG4gICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgICAkKCcjY2hlY2tib3hfYzAnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigwLCB0cnVlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDAsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMCwgZmFsc2UpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMCwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgICAkKCcjY2hlY2tib3hfYzEnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxLCB0cnVlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDEsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMSwgZmFsc2UpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICAgJCgnI2NoZWNrYm94X2MyJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMiwgdHJ1ZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigyLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDIsIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDIsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAgICQoJyNjaGVja2JveF9jMycpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiY2hlY2tib3ghXCIpO1xuICAgICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDMsIHRydWUpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigzLCBmYWxzZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigzLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgICAkKCcjY2hlY2tib3hfYzQnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig0LCB0cnVlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDQsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNCwgZmFsc2UpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNCwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgICAkKCcjY2hlY2tib3hfYzUnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig1LCB0cnVlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDUsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNSwgZmFsc2UpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAgICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICAgJCgnI2NoZWNrYm94X2M2JykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNiwgdHJ1ZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig2LCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDYsIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDYsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgICAgICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAgICQoJyNjaGVja2JveF9jNycpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiY2hlY2tib3ghXCIpO1xuICAgICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDcsIHRydWUpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig3LCBmYWxzZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig3LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgICAkKCcjY2hlY2tib3hfYzgnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig4LCB0cnVlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDgsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoOCwgZmFsc2UpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoOCwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAgICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICAgJCgnI2NoZWNrYm94X2M5JykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoOSwgdHJ1ZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig5LCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDksIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDksIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgICAgICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAgICQoJyNjaGVja2JveF9jMTAnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMCwgdHJ1ZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMCwgZmFsc2UpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTAsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgICAgICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAgICQoJyNjaGVja2JveF9jMTEnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMSwgdHJ1ZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMSwgZmFsc2UpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTEsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgICAgICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAgICQoJyNjaGVja2JveF9jMTInKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMiwgdHJ1ZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMiwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMiwgZmFsc2UpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTIsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgICAgICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAgICQoJyNjaGVja2JveF9jMTMnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMywgdHJ1ZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMywgZmFsc2UpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTMsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgICAgICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAgICQoJyNjaGVja2JveF9jMTQnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNCwgdHJ1ZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNCwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNCwgZmFsc2UpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTQsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICAgJCgnI2NoZWNrYm94X2MxNScpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiY2hlY2tib3ghXCIpO1xuICAgICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDE1LCB0cnVlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDE1LCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDE1LCBmYWxzZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgICAgICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgICAkKCcjY2hlY2tib3hfYzE2JykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTYsIHRydWUpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTYsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTYsIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDE2LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAgICQoJyNjaGVja2JveF9jMTcnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNywgdHJ1ZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNywgZmFsc2UpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTcsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG59KTsiLCJcbmFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbnRyb2xsZXIoJ0ludHJvQ3RybCcsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRzY29wZSwgJHdpbmRvdyl7XG5cdGZ1bmN0aW9uIHNldFZpc2liaWxpdHkoKXtcblx0XHQkKCcuZGF0YS12aXNpYmlsaXR5JykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuXHR9XG5cdHNldFZpc2liaWxpdHkoKTtcblxuXHR2YXIgJHNsaWRlID0gJCgnLnNsaWRlJyksXG4gICAgJHNsaWRlR3JvdXAgPSAkKCcuc2xpZGUtZ3JvdXAnKSxcbiAgICAkYnVsbGV0ID0gJCgnLmJ1bGxldCcpO1xuXG5cdHZhciBzbGlkZXNUb3RhbCA9ICgkc2xpZGUubGVuZ3RoIC0gMSksXG5cdCAgICBjdXJyZW50ID0gMCxcblx0ICAgIGlzQXV0b1NsaWRpbmcgPSBmYWxzZTtcblxuXHQkYnVsbGV0LmZpcnN0KCkuYWRkQ2xhc3MoJ2N1cnJlbnQnKTtcblxuXHQvKiByZXNldCB0aGUgZGl2IGFuZCBhbmltYXRpb24gKi9cblx0dmFyIHJlc2V0U2xpZGVzID0gZnVuY3Rpb24oKSB7XG5cdFx0Ly8gcmVsb2FkIG5vZGUgc2xpZGUgYW5kIGFuaW1hdGlvblxuXHRcdHZhciBkaXZDbG9uZV9ub2RlID0gJChcIi5zbGlkZS1ub2RlXCIpLmNsb25lKCk7IC8vIERvIHRoaXMgb24gJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7IC4uLiB9KVxuXHRcdCQoXCIuc2xpZGUtbm9kZVwiKS5odG1sKFwiTG9hZGluZyEgSWYgeW91IHNlZSB0aGlzIG1lc3NhZ2UgZm9yIGEgd2hpbGUsIHBsZWFzZSByZWZyZXNoIHRoZSBwYWdlXCIpOyAvLyBDaGFuZ2UgdGhlIGNvbnRlbnQgdGVtcG9yYXJpbHlcblxuXHRcdC8vIEFueSBjaGFuZ2VzIHRvIFwiI3NvbWVfZGl2XCIgYWZ0ZXIgdGhpcyBwb2ludCB3aWxsIGFmZmVjdCB0aGUgdmFsdWUgb2YgZGl2Q2xvbmVcblx0XHQkKFwiLnNsaWRlLW5vZGVcIikucmVwbGFjZVdpdGgoZGl2Q2xvbmVfbm9kZSk7IC8vIFJlc3RvcmUgZWxlbWVudCB3aXRoIGRpdkNsb25lIGl0c2VsZlxuXHRcblx0ICBcdC8vIHJlbG9hZCBsaW5lcyBzbGlkZSBhbmQgYW5pbWF0aW9uXG5cdCAgXHR2YXIgZGl2Q2xvbmVfbGluZXMgPSAkKFwiLnNsaWRlLWxpbmVzXCIpLmNsb25lKCk7IC8vIERvIHRoaXMgb24gJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7IC4uLiB9KVxuXG5cdFx0JChcIi5zbGlkZS1saW5lc1wiKS5odG1sKFwiTG9hZGluZyEgSWYgeW91IHNlZSB0aGlzIG1lc3NhZ2UgZm9yIGEgd2hpbGUsIHBsZWFzZSByZWZyZXNoIHRoZSBwYWdlXCIpOyAvLyBDaGFuZ2UgdGhlIGNvbnRlbnQgdGVtcG9yYXJpbHlcblxuXHRcdC8vIEFueSBjaGFuZ2VzIHRvIFwiI3NvbWVfZGl2XCIgYWZ0ZXIgdGhpcyBwb2ludCB3aWxsIGFmZmVjdCB0aGUgdmFsdWUgb2YgZGl2Q2xvbmVcblx0XHQkKFwiLnNsaWRlLWxpbmVzXCIpLnJlcGxhY2VXaXRoKGRpdkNsb25lX2xpbmVzKTsgLy8gUmVzdG9yZSBlbGVtZW50IHdpdGggZGl2Q2xvbmUgaXRzZWxmXG5cdH1cblxuXHR2YXIgY2xpY2tTbGlkZSA9IGZ1bmN0aW9uKCkge1xuXHQgIC8vc3RvcCBhdXRvIHNsaWRpbmdcblx0ICB3aW5kb3cuY2xlYXJJbnRlcnZhbChhdXRvU2xpZGUpO1xuXHQgIGlzQXV0b1NsaWRpbmcgPSBmYWxzZTtcblxuXHQgIHZhciBzbGlkZUluZGV4ID0gJGJ1bGxldC5pbmRleCgkKHRoaXMpKTtcblxuXHQgIHVwZGF0ZUluZGV4KHNsaWRlSW5kZXgpO1xuXG5cdCAgcmVzZXRTbGlkZXMoKTtcblx0fTtcblxuXHR2YXIgdXBkYXRlSW5kZXggPSBmdW5jdGlvbihjdXJyZW50U2xpZGUpIHtcblx0ICBpZihpc0F1dG9TbGlkaW5nKSB7XG5cdCAgICBpZihjdXJyZW50ID09PSBzbGlkZXNUb3RhbCkge1xuXHQgICAgICBjdXJyZW50ID0gMDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGN1cnJlbnQrKztcblx0ICAgIH1cblx0ICB9IGVsc2Uge1xuXHQgICAgICBjdXJyZW50ID0gY3VycmVudFNsaWRlO1xuXHQgIH1cblxuXHQgICRidWxsZXQucmVtb3ZlQ2xhc3MoJ2N1cnJlbnQnKTtcblx0ICAkYnVsbGV0LmVxKGN1cnJlbnQpLmFkZENsYXNzKCdjdXJyZW50Jyk7XG5cblx0ICB0cmFuc2l0aW9uKGN1cnJlbnQpO1xuXHR9O1xuXG5cdHZhciB0cmFuc2l0aW9uID0gZnVuY3Rpb24oc2xpZGVQb3NpdGlvbikge1xuXHQgICAgJHNsaWRlR3JvdXAuYW5pbWF0ZSh7XG5cdCAgICAgICd0b3AnOiAnLScgKyBzbGlkZVBvc2l0aW9uICsgJzAwJSdcblx0ICAgIH0pO1xuXG5cdCAgICByZXNldFNsaWRlcygpO1xuXHR9O1xuXG5cdCRidWxsZXQub24oICdjbGljaycsIGNsaWNrU2xpZGUpO1xuXG5cdHZhciBhdXRvU2xpZGUgPSB3aW5kb3cuc2V0SW50ZXJ2YWwodXBkYXRlSW5kZXgsIDgwMDAwKTtcblxufSk7IiwiXG5hbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdOdW1iZXJDdHJsJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgJHNjb3BlLCAkd2luZG93KXtcbiAgICAkKCdbZGF0YS1udW1dJykuZWFjaChmdW5jdGlvbigpe1xuICAgIFx0c3RhcnRMb29wKCQodGhpcykpO1xuICBcdH0pO1xuIFxuICBcdGZ1bmN0aW9uIHN0YXJ0TG9vcCgkaXQpe1xuXHQgICAgdmFyIGN1ciAgICAgICAgICAgPSAwO1xuXHQgICAgdmFyIG51bSAgICAgICAgICAgPSBwYXJzZUludCgkaXQuYXR0cignZGF0YS1udW0nKSk7XG5cdCAgICB2YXIgdGltZV9kdXJhdGlvbiA9IHBhcnNlSW50KCRpdC5hdHRyKCd0aW1lLWR1cmF0aW9uJykpO1xuXHQgICAgdmFyIHRpbWVfZGVsYXkgICAgPSBwYXJzZUludCgkaXQuYXR0cigndGltZS1kZWxheScpKTtcblx0ICAgIHZhciBmb3JtYXRfaW5mbyAgID0gcGFyc2VJbnQoJGl0LmF0dHIoJ2Zvcm1hdC1pbmZvJykpO1xuXG5cdCAgICBpbml0X2luY3JlYXNlKCRpdCwgbnVtLCBjdXIsIHRpbWVfZHVyYXRpb24sIHRpbWVfZGVsYXksIGZvcm1hdF9pbmZvKTtcblxuXHQgICAgZnVuY3Rpb24gaW5pdF9pbmNyZWFzZSgkaXQsIG51bSwgY3VyLCB0aW1lX2R1cmF0aW9uLCB0aW1lX2RlbGF5LCBmb3JtYXRfaW5mbylcblx0ICAgIHtcblx0ICAgICAgICB2YXIgc3RlcHMgICAgICAgPSAxMDA7XG5cdCAgICAgICAgdmFyIHRpbWV0b3RhbCAgID0gdGltZV9kdXJhdGlvbjtcblx0ICAgICAgICB2YXIgY3VyICAgICAgICAgPSAwO1xuXHQgICAgICAgIHZhciBzdGVwdGltZW91dCA9IHRpbWV0b3RhbC9zdGVwczsgICAgICBcblx0ICAgICAgICB2YXIgbnVtbGVuICAgICAgPSAobnVtKycnKS5sZW5ndGg7XG5cblx0ICAgICAgICAkaXQuaHRtbChnZXRIdG0oMCxudW1sZW4pKTtcblx0ICAgICAgICBzZXRUaW1lb3V0KGxvb3AsIHRpbWVfZGVsYXkpO1xuXG5cdCAgICAgICAgZnVuY3Rpb24gc2V0VmFsdWUodmFsKVxuXHQgICAgICAgIHtcblx0ICAgICAgICBcdCRpdC5odG1sKGdldEh0bSh2YWwsbnVtbGVuKSk7XG5cdCAgICAgIFx0fVxuXG5cdCAgICAgIFx0ZnVuY3Rpb24gZ2V0Rm9ybWF0ZWQobixsZW50b3RhbClcblx0ICAgICAgXHR7XG5cdCAgICAgICAgXHR2YXIgdCA9ICBcIi5cIjtcblx0ICAgICAgICBcdHZhciBpID0gbiArIFwiXCI7XG5cdCAgICAgICAgXHRcblx0ICAgICAgICBcdGlmKGkubGVuZ3RoPGxlbnRvdGFsKVxuXHQgICAgICAgIFx0e1xuXHQgICAgICAgICAgXHRcdHZhciB5ID0gbGVudG90YWwtaS5sZW5ndGg7XG5cdCAgICAgICAgICBcdFx0Zm9yKHZhciB6PTA7ejx5O3orKylcblx0ICAgICAgICAgIFx0XHR7XG5cdCAgICAgICAgICAgIFx0XHRpID0gJzAnK2k7XG5cdCAgICAgICAgICBcdFx0fVxuXHQgICAgICAgIFx0fSAgICAgXG5cdCAgICAgICAgXHRcblx0ICAgICAgICBcdGlmIChmb3JtYXRfaW5mbyA9PSAzKXtcblx0ICAgICAgICBcdFx0dmFyIGogPSAoaiA9IGkubGVuZ3RoKSA+IDMgPyBqICUgMyA6IDA7XG5cdCAgICAgICBcdFx0XHRyZXR1cm4gKGogPyBpLnN1YnN0cigwLCBqKSArIHQgOiBcIlwiKSArIGkuc3Vic3RyKGopLnJlcGxhY2UoLyhcXGR7M30pKD89XFxkKS9nLCBcIiQxXCIgKyB0KTtcblx0ICAgICAgICBcdH1cblx0ICAgICAgICBcdGlmIChmb3JtYXRfaW5mbyA9PSA0KXtcblx0ICAgICAgICBcdFx0dmFyIGogPSAoaiA9IGkubGVuZ3RoKSA+IDQgPyBqICUgNCA6IDA7XG5cdCAgICAgICBcdFx0XHRyZXR1cm4gKGogPyBpLnN1YnN0cigwLCBqKSArIHQgOiBcIlwiKSArIGkuc3Vic3RyKGopLnJlcGxhY2UoLyhcXGR7NH0pKD89XFxkKS9nLCBcIiQxXCIgKyB0KTtcblx0ICAgICAgICBcdH1cblx0ICAgICAgICBcdGVsc2Uge1xuXHQgICAgICAgIFx0XHR2YXIgaiA9IChqID0gaS5sZW5ndGgpID4gMiA/IGogJSAyIDogMDtcblx0ICAgICAgIFx0XHRcdHJldHVybiAoaiA/IGkuc3Vic3RyKDAsIGopICsgdCA6IFwiXCIpICsgaS5zdWJzdHIoaikucmVwbGFjZSgvKFxcZHsyfSkoPz1cXGQpL2csIFwiJDFcIiArIHQpO1xuXHQgICAgICAgIFx0fVxuXHQgICAgICAgIFx0XG5cdCAgICAgIFx0fVxuXG5cdCAgICAgIFx0ZnVuY3Rpb24gbG9vcCgpXG5cdCAgICAgIFx0e1xuXHRcdCAgICAgICAgY3VyKytcblx0XHQgICAgICAgIHZhciBwZXJjZW50ID0gY3VyL3N0ZXBzO1xuXHRcdCAgICAgICAgaWYgKHBlcmNlbnQ+PTEpXG5cdFx0ICAgICAgICB7ICAgICAgICAgIFxuXHRcdCAgICAgICAgXHRzZXRWYWx1ZShwYXJzZUludChudW0pKTtcblx0XHQgICAgICAgIH0gXG5cdFx0ICAgICAgICBlbHNlIFxuXHRcdCAgICAgICAge1xuXHRcdCAgICAgICAgICBcdHNldFZhbHVlKHBhcnNlSW50KHBlcmNlbnQqbnVtKSk7XG5cdFx0ICAgICAgICAgIFx0c2V0VGltZW91dChsb29wLHN0ZXB0aW1lb3V0KTsgICAgICAgICAgXG5cdCAgICAgICAgXHR9XG5cdCAgICAgIFx0fVxuXG5cdCAgICAgIFx0ZnVuY3Rpb24gZ2V0SHRtKG51bSxsZW50b3RhbCl7ICAgICAgICBcblx0ICAgICAgICBcdHZhciB0YXJnZXRGb3JtYXRlZCA9IGdldEZvcm1hdGVkKG51bSxsZW50b3RhbCk7XG5cdCAgICAgICAgXHR2YXIgY2hhcnMgPSB0YXJnZXRGb3JtYXRlZC5zcGxpdCgnJyk7XG5cdCAgICAgICAgXHR2YXIgaHRtcyA9IFtdO1xuXHQgICAgICAgIFx0Zm9yICh2YXIgaT0wO2k8Y2hhcnMubGVuZ3RoO2krKylcblx0ICAgICAgICBcdHtcblx0ICAgICAgICAgIFx0XHRpZiAoY2hhcnNbaV0gPT0gJy4nKVxuXHQgICAgICAgICAgXHRcdHtcblx0ICAgICAgICAgICAgXHRcdGh0bXMrPSc8c3Bhbj4uPC9zcGFuPic7XG5cdCAgICAgICAgICBcdFx0fSBcblx0ICAgICAgICAgIFx0XHRlbHNlIFxuXHQgICAgICAgICAgXHRcdHsgICAgICAgICAgXG5cdCAgICAgICAgICAgIFx0XHRodG1zKz0nPHNwYW4+JytjaGFyc1tpXSsnPC9zcGFuPic7XG5cdCAgICAgICAgICBcdFx0fVxuXHQgICAgICAgIFx0fVxuXHQgICAgICAgIFx0cmV0dXJuIGh0bXM7XG5cdCAgICAgIFx0fVxuXHQgICAgfVxuXHR9XG59KTsiLCJcbmFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbmZpZyhmdW5jdGlvbiAoJHJvdXRlUHJvdmlkZXIpe1xuXHQkcm91dGVQcm92aWRlclxuXHQud2hlbignL2RhdGF2aXonLCBcblx0XHR7XG5cdFx0XHR0ZW1wbGF0ZVVybDogJy90ZW1wbGF0ZXMvZGF0YXZpei5odG1sJyxcblx0XHRcdGNvbnRyb2xsZXI6ICdEYXRhVml6Q3RybCdcblx0XHR9KVxuXHQud2hlbignL2ludHJvJywgXG5cdFx0e1xuXHRcdFx0dGVtcGxhdGVVcmw6ICcvdGVtcGxhdGVzL2ludHJvLmh0bWwnLFxuXHRcdFx0Y29udHJvbGxlcjogJ0ludHJvQ3RybCdcblx0XHR9KVxuXHQub3RoZXJ3aXNlKFxuXHRcdHtcbiAgIFx0XHRcdHJlZGlyZWN0VG86ICcvaW50cm8nXG5cdFx0fSk7XG5cbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9