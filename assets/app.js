angular.module("app",["ngRoute"]),angular.module("app").controller("ApplicationCtrl",["$rootScope","$scope","$window",function(e,c,o){c.dataguiMergePathInitialized={value:!1},c.resetClusters=function(){FRAME.value=0,c.meanAge=48,TWEEN.removeAll(),EdgeManagerCluster.reset(),NodeManagerCluster.reset()},c.resetMergePaths=function(){FRAME.value=0,TWEEN.removeAll(),EdgeManagerCluster.reset(),NodeManagerCluster.reset();for(var e=0;e<EdgeManagerMergePaths.length;e++)EdgeManagerMergePaths[e].reset();for(var e=0;e<NodeManagerMergePaths.length;e++)NodeManagerMergePaths[e].reset()}}]),angular.module("app").controller("NumberCtrl",["$rootScope","$scope","$window",function(e,c,o){function t(e){function c(e,c,o,t,g,n){function r(c){e.html(l(c,d))}function a(e,c){var o=".",t=e+"";if(t.length<c)for(var g=c-t.length,r=0;g>r;r++)t="0"+t;if(3==n){var a=(a=t.length)>3?a%3:0;return(a?t.substr(0,a)+o:"")+t.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+o)}if(4==n){var a=(a=t.length)>4?a%4:0;return(a?t.substr(0,a)+o:"")+t.substr(a).replace(/(\d{4})(?=\d)/g,"$1"+o)}var a=(a=t.length)>2?a%2:0;return(a?t.substr(0,a)+o:"")+t.substr(a).replace(/(\d{2})(?=\d)/g,"$1"+o)}function h(){o++;var e=o/s;e>=1?r(parseInt(c)):(r(parseInt(e*c)),setTimeout(h,u))}function l(e,c){for(var o=a(e,c),t=o.split(""),g=[],n=0;n<t.length;n++)g+="."==t[n]?"<span>.</span>":"<span>"+t[n]+"</span>";return g}var s=100,i=t,o=0,u=i/s,d=(c+"").length;e.html(l(0,d)),setTimeout(h,g)}var o=0,t=parseInt(e.attr("data-num")),g=parseInt(e.attr("time-duration")),n=parseInt(e.attr("time-delay")),r=parseInt(e.attr("format-info"));c(e,t,o,g,n,r)}$("[data-num]").each(function(){t($(this))})}]),angular.module("app").config(["$routeProvider",function(e){e.when("/mergepaths",{templateUrl:"/templates/mergepaths.html",controller:"MergePathCtrl"}).when("/clusters",{templateUrl:"/templates/clusters.html",controller:"ClusterCtrl"}).when("/intro",{templateUrl:"/templates/intro.html",controller:"IntroCtrl"}).otherwise({redirectTo:"/intro"})}]),angular.module("app").controller("ClusterCtrl",["$rootScope","$scope","$window",function(e,c,o){function t(){PAGE_NUM.value=1}function g(){$(".data-visibility").addClass("active")}t(),g(),c.meanAge=48,c.updateMeanAge=function(){if(!(FRAME.value>400||1!=PAGE_NUM.value)){var e=mapRange([0,400],[48,78],FRAME.value);c.meanAge=e,c.$apply(),requestAnimationFrame(c.updateMeanAge)}},c.updateMeanAge(),$("#btn-reset").click(function(){c.resetClusters()}),$("#checkbox_hide_nodes").change(function(){NodeManager.toggleVisibility($(this).is(":checked")?!0:!1)}),$("#checkbox_c_all").change(function(){var e=$(this).is(":checked");$("#checkbox_c0").prop("checked",e),$("#checkbox_c0").trigger("change"),$("#checkbox_c1").prop("checked",e),$("#checkbox_c1").trigger("change"),$("#checkbox_c2").prop("checked",e),$("#checkbox_c2").trigger("change"),$("#checkbox_c3").prop("checked",e),$("#checkbox_c3").trigger("change"),$("#checkbox_c4").prop("checked",e),$("#checkbox_c4").trigger("change"),$("#checkbox_c5").prop("checked",e),$("#checkbox_c5").trigger("change"),$("#checkbox_c6").prop("checked",e),$("#checkbox_c6").trigger("change"),$("#checkbox_c7").prop("checked",e),$("#checkbox_c7").trigger("change"),$("#checkbox_c8").prop("checked",e),$("#checkbox_c8").trigger("change"),$("#checkbox_c9").prop("checked",e),$("#checkbox_c9").trigger("change"),$("#checkbox_c10").prop("checked",e),$("#checkbox_c10").trigger("change"),$("#checkbox_c11").prop("checked",e),$("#checkbox_c11").trigger("change"),$("#checkbox_c12").prop("checked",e),$("#checkbox_c12").trigger("change"),$("#checkbox_c13").prop("checked",e),$("#checkbox_c13").trigger("change"),$("#checkbox_c14").prop("checked",e),$("#checkbox_c14").trigger("change"),$("#checkbox_c15").prop("checked",e),$("#checkbox_c15").trigger("change"),$("#checkbox_c16").prop("checked",e),$("#checkbox_c16").trigger("change"),$("#checkbox_c17").prop("checked",e),$("#checkbox_c17").trigger("change")}),$("#checkbox_c0").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(0,!0):EdgeManager.toggleShowByCluster(0,!1)}),$("#checkbox_c1").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(1,!0):EdgeManager.toggleShowByCluster(1,!1)}),$("#checkbox_c2").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(2,!0):EdgeManager.toggleShowByCluster(2,!1)}),$("#checkbox_c3").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(3,!0):EdgeManager.toggleShowByCluster(3,!1)}),$("#checkbox_c4").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(4,!0):EdgeManager.toggleShowByCluster(4,!1)}),$("#checkbox_c5").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(5,!0):EdgeManager.toggleShowByCluster(5,!1)}),$("#checkbox_c6").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(6,!0):EdgeManager.toggleShowByCluster(6,!1)}),$("#checkbox_c7").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(7,!0):EdgeManager.toggleShowByCluster(7,!1)}),$("#checkbox_c8").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(8,!0):EdgeManager.toggleShowByCluster(8,!1)}),$("#checkbox_c9").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(9,!0):EdgeManager.toggleShowByCluster(9,!1)}),$("#checkbox_c10").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(10,!0):EdgeManager.toggleShowByCluster(10,!1)}),$("#checkbox_c11").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(11,!0):EdgeManager.toggleShowByCluster(11,!1)}),$("#checkbox_c12").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(12,!0):EdgeManager.toggleShowByCluster(12,!1)}),$("#checkbox_c13").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(13,!0):EdgeManager.toggleShowByCluster(13,!1)}),$("#checkbox_c14").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(14,!0):EdgeManager.toggleShowByCluster(14,!1)}),$("#checkbox_c15").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(15,!0):EdgeManager.toggleShowByCluster(15,!1)}),$("#checkbox_c16").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(16,!0):EdgeManager.toggleShowByCluster(16,!1)}),$("#checkbox_c17").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManager.toggleShowByCluster(17,!0):EdgeManager.toggleShowByCluster(17,!1)})}]),angular.module("app").controller("IntroCtrl",["$rootScope","$scope","$window",function(e,c,o){function t(){PAGE_NUM.value=0}function g(){$(".data-visibility").removeClass("active")}t(),g();var n=$(".slide"),r=$(".slide-group"),a=$(".bullet"),h=n.length-1,l=0,s=!1;a.first().addClass("current");var i=function(){var e=$(".slide-node").clone();$(".slide-node").html("Loading! If you see this message for a while, please refresh the page"),$(".slide-node").replaceWith(e);var c=$(".slide-lines").clone();$(".slide-lines").html("Loading! If you see this message for a while, please refresh the page"),$(".slide-lines").replaceWith(c)},u=function(){window.clearInterval(p),s=!1;var e=a.index($(this));d(e),i()},d=function(e){s?l===h?l=0:l++:l=e,a.removeClass("current"),a.eq(l).addClass("current"),k(l)},k=function(e){r.animate({top:"-"+e+"00%"}),i()};a.on("click",u);var p=window.setInterval(d,8e4)}]),angular.module("app").controller("MergePathCtrl",["$rootScope","$scope","$window",function(e,c,o){function t(){PAGE_NUM.value=2}function g(){$(".data-visibility").addClass("active")}function n(){if(1!=c.dataguiMergePathInitialized.value){c.dataguiMergePathInitialized.value=!0;var e=function(){this.MergePathId=0,this.Replay=function(){c.resetMergePaths()}},o=new e,t=new dat.GUI,g=t.add(o,"MergePathId").min(0).step(1).max(117);t.add(o,"Replay"),g.onFinishChange(function(e){SELECTED_MERGEPATHID=Math.ceil(e),c.resetMergePaths()})}}t(),g(),n()}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwcGxpY2F0aW9uLmN0cmwuanMiLCJudW1iZXIuY3RybC5qcyIsInJvdXRlcy5qcyIsIkNvbnRyb2xsZXJzL2NsdXN0ZXIuY3RybC5qcyIsIkNvbnRyb2xsZXJzL2ludHJvLmN0cmwuanMiLCJDb250cm9sbGVycy9tZXJnZXBhdGguY3RybC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29udHJvbGxlciIsIiRyb290U2NvcGUiLCIkc2NvcGUiLCIkd2luZG93IiwiZGF0YWd1aU1lcmdlUGF0aEluaXRpYWxpemVkIiwidmFsdWUiLCJyZXNldENsdXN0ZXJzIiwiRlJBTUUiLCJtZWFuQWdlIiwiVFdFRU4iLCJyZW1vdmVBbGwiLCJFZGdlTWFuYWdlckNsdXN0ZXIiLCJyZXNldCIsIk5vZGVNYW5hZ2VyQ2x1c3RlciIsInJlc2V0TWVyZ2VQYXRocyIsImkiLCJFZGdlTWFuYWdlck1lcmdlUGF0aHMiLCJsZW5ndGgiLCJOb2RlTWFuYWdlck1lcmdlUGF0aHMiLCJzdGFydExvb3AiLCIkaXQiLCJpbml0X2luY3JlYXNlIiwibnVtIiwiY3VyIiwidGltZV9kdXJhdGlvbiIsInRpbWVfZGVsYXkiLCJmb3JtYXRfaW5mbyIsInNldFZhbHVlIiwidmFsIiwiaHRtbCIsImdldEh0bSIsIm51bWxlbiIsImdldEZvcm1hdGVkIiwibiIsImxlbnRvdGFsIiwidCIsInkiLCJ6IiwiaiIsInN1YnN0ciIsInJlcGxhY2UiLCJsb29wIiwicGVyY2VudCIsInN0ZXBzIiwicGFyc2VJbnQiLCJzZXRUaW1lb3V0Iiwic3RlcHRpbWVvdXQiLCJ0YXJnZXRGb3JtYXRlZCIsImNoYXJzIiwic3BsaXQiLCJodG1zIiwidGltZXRvdGFsIiwiYXR0ciIsIiQiLCJlYWNoIiwidGhpcyIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwid2hlbiIsInRlbXBsYXRlVXJsIiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsInNldFBhZ2VOdW0iLCJQQUdFX05VTSIsInNldFZpc2liaWxpdHkiLCJhZGRDbGFzcyIsInVwZGF0ZU1lYW5BZ2UiLCJuZXdNZWFuQWdlIiwibWFwUmFuZ2UiLCIkYXBwbHkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjbGljayIsImNoYW5nZSIsIk5vZGVNYW5hZ2VyIiwidG9nZ2xlVmlzaWJpbGl0eSIsImlzIiwidG9nZ2xlVmFsIiwicHJvcCIsInRyaWdnZXIiLCJjb25zb2xlIiwibG9nIiwiRWRnZU1hbmFnZXIiLCJ0b2dnbGVTaG93QnlDbHVzdGVyIiwicmVtb3ZlQ2xhc3MiLCIkc2xpZGUiLCIkc2xpZGVHcm91cCIsIiRidWxsZXQiLCJzbGlkZXNUb3RhbCIsImN1cnJlbnQiLCJpc0F1dG9TbGlkaW5nIiwiZmlyc3QiLCJyZXNldFNsaWRlcyIsImRpdkNsb25lX25vZGUiLCJjbG9uZSIsInJlcGxhY2VXaXRoIiwiZGl2Q2xvbmVfbGluZXMiLCJjbGlja1NsaWRlIiwid2luZG93IiwiY2xlYXJJbnRlcnZhbCIsImF1dG9TbGlkZSIsInNsaWRlSW5kZXgiLCJpbmRleCIsInVwZGF0ZUluZGV4IiwiY3VycmVudFNsaWRlIiwiZXEiLCJ0cmFuc2l0aW9uIiwic2xpZGVQb3NpdGlvbiIsImFuaW1hdGUiLCJ0b3AiLCJvbiIsInNldEludGVydmFsIiwic2V0RGF0YUd1aUluaXRpYWxpemUiLCJtZXJnZVBhdGhVSSIsIk1lcmdlUGF0aElkIiwiUmVwbGF5IiwidGV4dCIsImd1aSIsImRhdCIsIkdVSSIsImd1aV9tZXJnZVBhdGhJZCIsImFkZCIsIm1pbiIsInN0ZXAiLCJtYXgiLCJvbkZpbmlzaENoYW5nZSIsIlNFTEVDVEVEX01FUkdFUEFUSElEIiwiTWF0aCIsImNlaWwiXSwibWFwcGluZ3MiOiJBQUNBQSxRQUFBQyxPQUFBLE9BQ0EsWUNEQUQsUUFBQUMsT0FBQSxPQUNBQyxXQUFBLG1CQUFBLGFBQUEsU0FBQSxVQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ0FELEVBQUFFLDZCQUNBQyxPQUFBLEdBR0FILEVBQUFJLGNBQUEsV0FD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QUEsUUNqRkF4RyxRQUFBQyxPQUFBLE9BQ0FDLFdBQUEsaUJBQUEsYUFBQSxTQUFBLFVBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FFQSxRQUFBMkQsS0FFQUMsU0FBQTFELE1BQUEsRUFLQSxRQUFBMkQsS0FFQVgsRUFBQSxvQkFBQVksU0FBQSxVQUtBLFFBQUE4QyxLQUVBLEdBQUEsR0FBQTdHLEVBQUFFLDRCQUFBQyxNQUFBLENBR0FILEVBQUFFLDRCQUFBQyxPQUFBLENBRUEsSUFBQTJHLEdBQUEsV0FDQXpELEtBQUEwRCxZQUFBLEVBQ0ExRCxLQUFBMkQsT0FBQSxXQUNBaEgsRUFBQVksb0JBSUFxRyxFQUFBLEdBQUFILEdBQ0FJLEVBQUEsR0FBQUMsS0FBQUMsSUFDQUMsRUFBQUgsRUFBQUksSUFBQUwsRUFBQSxlQUFBTSxJQUFBLEdBQUFDLEtBQUEsR0FBQUMsSUFBQSxJQUNBUCxHQUFBSSxJQUFBTCxFQUFBLFVBRUFJLEVBQUFLLGVBQUEsU0FBQXZILEdBQ0F3SCxxQkFBQUMsS0FBQUMsS0FBQTFILEdBQ0FILEVBQUFZLHFCQTlCQWdELElBT0FFLElBMkJBK0MiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5hbmd1bGFyLm1vZHVsZSgnYXBwJywgW1xuXHQnbmdSb3V0ZScsXG5dKTtcbiIsIlxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignQXBwbGljYXRpb25DdHJsJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgJHNjb3BlLCAkd2luZG93KXtcblx0JHNjb3BlLmRhdGFndWlNZXJnZVBhdGhJbml0aWFsaXplZCA9IHtcblx0XHR2YWx1ZSA6IGZhbHNlXG5cdH07XG5cblx0JHNjb3BlLnJlc2V0Q2x1c3RlcnMgPSBmdW5jdGlvbigpe1xuICAgICAgXHRGUkFNRS52YWx1ZSA9IDA7XG4gICAgICBcdCRzY29wZS5tZWFuQWdlID0gNDguMDtcbiAgICAgIFx0VFdFRU4ucmVtb3ZlQWxsKCk7IC8vIHJlc2V0IHR3ZWVuIGFuaW1hdGlvbnNcbiAgICAgIFx0RWRnZU1hbmFnZXJDbHVzdGVyLnJlc2V0KCk7XG4gICAgICBcdE5vZGVNYW5hZ2VyQ2x1c3Rlci5yZXNldCgpO1xuXHR9XG5cblx0JHNjb3BlLnJlc2V0TWVyZ2VQYXRocyA9IGZ1bmN0aW9uKCl7XG5cdFx0RlJBTUUudmFsdWUgPSAwO1xuXHRcdFRXRUVOLnJlbW92ZUFsbCgpOyAvLyByZXNldCB0d2VlbiBhbmltYXRpb25zXG4gICAgICBcdEVkZ2VNYW5hZ2VyQ2x1c3Rlci5yZXNldCgpO1xuICAgICAgXHROb2RlTWFuYWdlckNsdXN0ZXIucmVzZXQoKTtcblxuICAgICAgXHQvLyB0dXJuIG9mZiBlZGdlcyBleGNlcHQgbWVyZ2VQYXRoSWRcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IEVkZ2VNYW5hZ2VyTWVyZ2VQYXRocy5sZW5ndGg7IGkrKyl7XG5cblx0XHRcdEVkZ2VNYW5hZ2VyTWVyZ2VQYXRoc1tpXS5yZXNldCgpO1xuXG5cdFx0fVxuXG5cdFx0Ly8gdHVybiBvZmYgbm9kZXMgZXhjZXB0IG1lcmdlUGF0aElkXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBOb2RlTWFuYWdlck1lcmdlUGF0aHMubGVuZ3RoOyBpKyspe1xuXG5cdFx0XHROb2RlTWFuYWdlck1lcmdlUGF0aHNbaV0ucmVzZXQoKTtcblxuXHRcdH1cblx0fVxufSk7IiwiXG5hbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdOdW1iZXJDdHJsJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgJHNjb3BlLCAkd2luZG93KXtcbiAgICAkKCdbZGF0YS1udW1dJykuZWFjaChmdW5jdGlvbigpe1xuICAgIFx0c3RhcnRMb29wKCQodGhpcykpO1xuICBcdH0pO1xuIFxuICBcdGZ1bmN0aW9uIHN0YXJ0TG9vcCgkaXQpe1xuXHQgICAgdmFyIGN1ciAgICAgICAgICAgPSAwO1xuXHQgICAgdmFyIG51bSAgICAgICAgICAgPSBwYXJzZUludCgkaXQuYXR0cignZGF0YS1udW0nKSk7XG5cdCAgICB2YXIgdGltZV9kdXJhdGlvbiA9IHBhcnNlSW50KCRpdC5hdHRyKCd0aW1lLWR1cmF0aW9uJykpO1xuXHQgICAgdmFyIHRpbWVfZGVsYXkgICAgPSBwYXJzZUludCgkaXQuYXR0cigndGltZS1kZWxheScpKTtcblx0ICAgIHZhciBmb3JtYXRfaW5mbyAgID0gcGFyc2VJbnQoJGl0LmF0dHIoJ2Zvcm1hdC1pbmZvJykpO1xuXG5cdCAgICBpbml0X2luY3JlYXNlKCRpdCwgbnVtLCBjdXIsIHRpbWVfZHVyYXRpb24sIHRpbWVfZGVsYXksIGZvcm1hdF9pbmZvKTtcblxuXHQgICAgZnVuY3Rpb24gaW5pdF9pbmNyZWFzZSgkaXQsIG51bSwgY3VyLCB0aW1lX2R1cmF0aW9uLCB0aW1lX2RlbGF5LCBmb3JtYXRfaW5mbylcblx0ICAgIHtcblx0ICAgICAgICB2YXIgc3RlcHMgICAgICAgPSAxMDA7XG5cdCAgICAgICAgdmFyIHRpbWV0b3RhbCAgID0gdGltZV9kdXJhdGlvbjtcblx0ICAgICAgICB2YXIgY3VyICAgICAgICAgPSAwO1xuXHQgICAgICAgIHZhciBzdGVwdGltZW91dCA9IHRpbWV0b3RhbC9zdGVwczsgICAgICBcblx0ICAgICAgICB2YXIgbnVtbGVuICAgICAgPSAobnVtKycnKS5sZW5ndGg7XG5cblx0ICAgICAgICAkaXQuaHRtbChnZXRIdG0oMCxudW1sZW4pKTtcblx0ICAgICAgICBzZXRUaW1lb3V0KGxvb3AsIHRpbWVfZGVsYXkpO1xuXG5cdCAgICAgICAgZnVuY3Rpb24gc2V0VmFsdWUodmFsKVxuXHQgICAgICAgIHtcblx0ICAgICAgICBcdCRpdC5odG1sKGdldEh0bSh2YWwsbnVtbGVuKSk7XG5cdCAgICAgIFx0fVxuXG5cdCAgICAgIFx0ZnVuY3Rpb24gZ2V0Rm9ybWF0ZWQobixsZW50b3RhbClcblx0ICAgICAgXHR7XG5cdCAgICAgICAgXHR2YXIgdCA9ICBcIi5cIjtcblx0ICAgICAgICBcdHZhciBpID0gbiArIFwiXCI7XG5cdCAgICAgICAgXHRcblx0ICAgICAgICBcdGlmKGkubGVuZ3RoPGxlbnRvdGFsKVxuXHQgICAgICAgIFx0e1xuXHQgICAgICAgICAgXHRcdHZhciB5ID0gbGVudG90YWwtaS5sZW5ndGg7XG5cdCAgICAgICAgICBcdFx0Zm9yKHZhciB6PTA7ejx5O3orKylcblx0ICAgICAgICAgIFx0XHR7XG5cdCAgICAgICAgICAgIFx0XHRpID0gJzAnK2k7XG5cdCAgICAgICAgICBcdFx0fVxuXHQgICAgICAgIFx0fSAgICAgXG5cdCAgICAgICAgXHRcblx0ICAgICAgICBcdGlmIChmb3JtYXRfaW5mbyA9PSAzKXtcblx0ICAgICAgICBcdFx0dmFyIGogPSAoaiA9IGkubGVuZ3RoKSA+IDMgPyBqICUgMyA6IDA7XG5cdCAgICAgICBcdFx0XHRyZXR1cm4gKGogPyBpLnN1YnN0cigwLCBqKSArIHQgOiBcIlwiKSArIGkuc3Vic3RyKGopLnJlcGxhY2UoLyhcXGR7M30pKD89XFxkKS9nLCBcIiQxXCIgKyB0KTtcblx0ICAgICAgICBcdH1cblx0ICAgICAgICBcdGlmIChmb3JtYXRfaW5mbyA9PSA0KXtcblx0ICAgICAgICBcdFx0dmFyIGogPSAoaiA9IGkubGVuZ3RoKSA+IDQgPyBqICUgNCA6IDA7XG5cdCAgICAgICBcdFx0XHRyZXR1cm4gKGogPyBpLnN1YnN0cigwLCBqKSArIHQgOiBcIlwiKSArIGkuc3Vic3RyKGopLnJlcGxhY2UoLyhcXGR7NH0pKD89XFxkKS9nLCBcIiQxXCIgKyB0KTtcblx0ICAgICAgICBcdH1cblx0ICAgICAgICBcdGVsc2Uge1xuXHQgICAgICAgIFx0XHR2YXIgaiA9IChqID0gaS5sZW5ndGgpID4gMiA/IGogJSAyIDogMDtcblx0ICAgICAgIFx0XHRcdHJldHVybiAoaiA/IGkuc3Vic3RyKDAsIGopICsgdCA6IFwiXCIpICsgaS5zdWJzdHIoaikucmVwbGFjZSgvKFxcZHsyfSkoPz1cXGQpL2csIFwiJDFcIiArIHQpO1xuXHQgICAgICAgIFx0fVxuXHQgICAgICAgIFx0XG5cdCAgICAgIFx0fVxuXG5cdCAgICAgIFx0ZnVuY3Rpb24gbG9vcCgpXG5cdCAgICAgIFx0e1xuXHRcdCAgICAgICAgY3VyKytcblx0XHQgICAgICAgIHZhciBwZXJjZW50ID0gY3VyL3N0ZXBzO1xuXHRcdCAgICAgICAgaWYgKHBlcmNlbnQ+PTEpXG5cdFx0ICAgICAgICB7ICAgICAgICAgIFxuXHRcdCAgICAgICAgXHRzZXRWYWx1ZShwYXJzZUludChudW0pKTtcblx0XHQgICAgICAgIH0gXG5cdFx0ICAgICAgICBlbHNlIFxuXHRcdCAgICAgICAge1xuXHRcdCAgICAgICAgICBcdHNldFZhbHVlKHBhcnNlSW50KHBlcmNlbnQqbnVtKSk7XG5cdFx0ICAgICAgICAgIFx0c2V0VGltZW91dChsb29wLHN0ZXB0aW1lb3V0KTsgICAgICAgICAgXG5cdCAgICAgICAgXHR9XG5cdCAgICAgIFx0fVxuXG5cdCAgICAgIFx0ZnVuY3Rpb24gZ2V0SHRtKG51bSxsZW50b3RhbCl7ICAgICAgICBcblx0ICAgICAgICBcdHZhciB0YXJnZXRGb3JtYXRlZCA9IGdldEZvcm1hdGVkKG51bSxsZW50b3RhbCk7XG5cdCAgICAgICAgXHR2YXIgY2hhcnMgPSB0YXJnZXRGb3JtYXRlZC5zcGxpdCgnJyk7XG5cdCAgICAgICAgXHR2YXIgaHRtcyA9IFtdO1xuXHQgICAgICAgIFx0Zm9yICh2YXIgaT0wO2k8Y2hhcnMubGVuZ3RoO2krKylcblx0ICAgICAgICBcdHtcblx0ICAgICAgICAgIFx0XHRpZiAoY2hhcnNbaV0gPT0gJy4nKVxuXHQgICAgICAgICAgXHRcdHtcblx0ICAgICAgICAgICAgXHRcdGh0bXMrPSc8c3Bhbj4uPC9zcGFuPic7XG5cdCAgICAgICAgICBcdFx0fSBcblx0ICAgICAgICAgIFx0XHRlbHNlIFxuXHQgICAgICAgICAgXHRcdHsgICAgICAgICAgXG5cdCAgICAgICAgICAgIFx0XHRodG1zKz0nPHNwYW4+JytjaGFyc1tpXSsnPC9zcGFuPic7XG5cdCAgICAgICAgICBcdFx0fVxuXHQgICAgICAgIFx0fVxuXHQgICAgICAgIFx0cmV0dXJuIGh0bXM7XG5cdCAgICAgIFx0fVxuXHQgICAgfVxuXHR9XG59KTsiLCJcbmFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbmZpZyhmdW5jdGlvbiAoJHJvdXRlUHJvdmlkZXIpe1xuXHQkcm91dGVQcm92aWRlclxuXHQud2hlbignL21lcmdlcGF0aHMnLCBcblx0XHR7XG5cdFx0XHR0ZW1wbGF0ZVVybDogJy90ZW1wbGF0ZXMvbWVyZ2VwYXRocy5odG1sJyxcblx0XHRcdGNvbnRyb2xsZXI6ICdNZXJnZVBhdGhDdHJsJ1xuXHRcdH0pXG5cdC53aGVuKCcvY2x1c3RlcnMnLCBcblx0XHR7XG5cdFx0XHR0ZW1wbGF0ZVVybDogJy90ZW1wbGF0ZXMvY2x1c3RlcnMuaHRtbCcsXG5cdFx0XHRjb250cm9sbGVyOiAnQ2x1c3RlckN0cmwnXG5cdFx0fSlcblx0LndoZW4oJy9pbnRybycsIFxuXHRcdHtcblx0XHRcdHRlbXBsYXRlVXJsOiAnL3RlbXBsYXRlcy9pbnRyby5odG1sJyxcblx0XHRcdGNvbnRyb2xsZXI6ICdJbnRyb0N0cmwnXG5cdFx0fSlcblx0Lm90aGVyd2lzZShcblx0XHR7XG4gICBcdFx0XHRyZWRpcmVjdFRvOiAnL2ludHJvJ1xuXHRcdH0pO1xuXG59KTtcbiIsIlxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignQ2x1c3RlckN0cmwnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsICR3aW5kb3cpe1xuXG4gIGZ1bmN0aW9uIHNldFBhZ2VOdW0oKXtcbiAgICBQQUdFX05VTS52YWx1ZSA9IDE7XG4gIH1cbiAgc2V0UGFnZU51bSgpO1xuXG4gIGZ1bmN0aW9uIHNldFZpc2liaWxpdHkoKXtcbiAgICAkKCcuZGF0YS12aXNpYmlsaXR5JykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICB9XG4gIHNldFZpc2liaWxpdHkoKTtcblxuICAkc2NvcGUubWVhbkFnZSA9IDQ4LjA7XG5cbiAgJHNjb3BlLnVwZGF0ZU1lYW5BZ2UgPSBmdW5jdGlvbigpe1xuICAgIGlmIChGUkFNRS52YWx1ZSA+IDQwMCB8fCBQQUdFX05VTS52YWx1ZSAhPSAxKVxuICAgICAgcmV0dXJuO1xuXG4gICAgdmFyIG5ld01lYW5BZ2UgPSBtYXBSYW5nZShbMCwgNDAwLjBdLCBbNDguMCwgNzguMF0sIEZSQU1FLnZhbHVlKTtcbiAgICAkc2NvcGUubWVhbkFnZSA9IG5ld01lYW5BZ2U7XG4gICAgJHNjb3BlLiRhcHBseSgpO1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgkc2NvcGUudXBkYXRlTWVhbkFnZSk7XG4gIH1cblxuICAkc2NvcGUudXBkYXRlTWVhbkFnZSgpO1xuXG4gIC8vc2V0SW50ZXJ2YWwoJHNjb3BlLnVwZGF0ZU1lYW5BZ2UsIDEwMCk7XG5cbi8qXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5DTFVTVEVSXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4qL1xuXG4gICAgLy8gcmVzZXQgYW5pbWF0aW9uLlxuICAgICQoJyNidG4tcmVzZXQnKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICRzY29wZS5yZXNldENsdXN0ZXJzKCk7XG4gICAgfSk7XG5cbiAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAgICQoJyNjaGVja2JveF9oaWRlX25vZGVzJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgICBOb2RlTWFuYWdlci50b2dnbGVWaXNpYmlsaXR5KHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgIE5vZGVNYW5hZ2VyLnRvZ2dsZVZpc2liaWxpdHkoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgIFx0Ly9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgICAkKCcjY2hlY2tib3hfY19hbGwnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG5cbiAgICAgIHZhciB0b2dnbGVWYWwgPSAkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIik7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzAnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTtcbiAgXHRcdCQoJyNjaGVja2JveF9jMCcpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICBcdFx0JCgnI2NoZWNrYm94X2MxJykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzEnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgXHRcdCQoJyNjaGVja2JveF9jMicpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpO1xuICBcdFx0JCgnI2NoZWNrYm94X2MyJykudHJpZ2dlcignY2hhbmdlJyk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzMnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTsgXG4gIFx0XHQkKCcjY2hlY2tib3hfYzMnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgXHRcdCQoJyNjaGVja2JveF9jNCcpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpO1xuICBcdFx0JCgnI2NoZWNrYm94X2M0JykudHJpZ2dlcignY2hhbmdlJyk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzUnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTtcbiAgXHRcdCQoJyNjaGVja2JveF9jNScpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICBcdFx0JCgnI2NoZWNrYm94X2M2JykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzYnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgXHRcdCQoJyNjaGVja2JveF9jNycpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpOyBcbiAgXHRcdCQoJyNjaGVja2JveF9jNycpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICBcdFx0JCgnI2NoZWNrYm94X2M4JykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzgnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgXHRcdCQoJyNjaGVja2JveF9jOScpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpO1xuICBcdFx0JCgnI2NoZWNrYm94X2M5JykudHJpZ2dlcignY2hhbmdlJyk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzEwJykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzEwJykudHJpZ2dlcignY2hhbmdlJyk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzExJykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7IFxuICBcdFx0JCgnI2NoZWNrYm94X2MxMScpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICBcdFx0JCgnI2NoZWNrYm94X2MxMicpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpO1xuICBcdFx0JCgnI2NoZWNrYm94X2MxMicpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICBcdFx0JCgnI2NoZWNrYm94X2MxMycpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpO1xuICBcdFx0JCgnI2NoZWNrYm94X2MxMycpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICBcdFx0JCgnI2NoZWNrYm94X2MxNCcpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpO1xuICBcdFx0JCgnI2NoZWNrYm94X2MxNCcpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICBcdFx0JCgnI2NoZWNrYm94X2MxNScpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpOyBcbiAgXHRcdCQoJyNjaGVja2JveF9jMTUnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgXHRcdCQoJyNjaGVja2JveF9jMTYnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTsgXG4gIFx0XHQkKCcjY2hlY2tib3hfYzE2JykudHJpZ2dlcignY2hhbmdlJyk7XG4gIFx0XHQkKCcjY2hlY2tib3hfYzE3JykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7IFxuICBcdFx0JCgnI2NoZWNrYm94X2MxNycpLnRyaWdnZXIoJ2NoYW5nZScpOyAgXG5cbiAgICB9KTtcblxuICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICAgJCgnI2NoZWNrYm94X2MwJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMCwgdHJ1ZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigwLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDAsIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDAsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICAgJCgnI2NoZWNrYm94X2MxJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMSwgdHJ1ZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDEsIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDEsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAgICQoJyNjaGVja2JveF9jMicpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiY2hlY2tib3ghXCIpO1xuICAgICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDIsIHRydWUpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMiwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigyLCBmYWxzZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigyLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgICAkKCcjY2hlY2tib3hfYzMnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigzLCB0cnVlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDMsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMywgZmFsc2UpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICAgJCgnI2NoZWNrYm94X2M0JykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNCwgdHJ1ZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig0LCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDQsIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDQsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICAgJCgnI2NoZWNrYm94X2M1JykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNSwgdHJ1ZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig1LCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDUsIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgICAgICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAgICQoJyNjaGVja2JveF9jNicpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiY2hlY2tib3ghXCIpO1xuICAgICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDYsIHRydWUpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNiwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig2LCBmYWxzZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig2LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgICAkKCcjY2hlY2tib3hfYzcnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig3LCB0cnVlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDcsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNywgZmFsc2UpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAgICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICAgJCgnI2NoZWNrYm94X2M4JykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoOCwgdHJ1ZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig4LCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDgsIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDgsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgICAgICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAgICQoJyNjaGVja2JveF9jOScpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiY2hlY2tib3ghXCIpO1xuICAgICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDksIHRydWUpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoOSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig5LCBmYWxzZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig5LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgICAkKCcjY2hlY2tib3hfYzEwJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTAsIHRydWUpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTAsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTAsIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDEwLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgICAkKCcjY2hlY2tib3hfYzExJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTEsIHRydWUpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTEsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTEsIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDExLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgICAkKCcjY2hlY2tib3hfYzEyJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTIsIHRydWUpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTIsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTIsIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDEyLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgICAkKCcjY2hlY2tib3hfYzEzJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTMsIHRydWUpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTMsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTMsIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDEzLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgICAkKCcjY2hlY2tib3hfYzE0JykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTQsIHRydWUpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTQsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTQsIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDE0LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAgICAgICAgICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAgICQoJyNjaGVja2JveF9jMTUnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNSwgdHJ1ZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgRWRnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNSwgZmFsc2UpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTUsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICAgJCgnI2NoZWNrYm94X2MxNicpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiY2hlY2tib3ghXCIpO1xuICAgICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDE2LCB0cnVlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDE2LCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICBFZGdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDE2LCBmYWxzZSk7XG4gICAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNiwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgICAkKCcjY2hlY2tib3hfYzE3JykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTcsIHRydWUpO1xuICAgICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTcsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgIEVkZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTcsIGZhbHNlKTtcbiAgICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDE3LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxufSk7IiwiXG5hbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdJbnRyb0N0cmwnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsICR3aW5kb3cpe1xuXG5cdGZ1bmN0aW9uIHNldFBhZ2VOdW0oKXtcbiAgICBcdFBBR0VfTlVNLnZhbHVlID0gMDtcbiAgXHR9XG4gIFx0c2V0UGFnZU51bSgpO1xuXG5cblx0ZnVuY3Rpb24gc2V0VmlzaWJpbGl0eSgpe1xuXHRcdCQoJy5kYXRhLXZpc2liaWxpdHknKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cdH1cblx0c2V0VmlzaWJpbGl0eSgpO1xuXG5cdHZhciAkc2xpZGUgPSAkKCcuc2xpZGUnKSxcbiAgICAkc2xpZGVHcm91cCA9ICQoJy5zbGlkZS1ncm91cCcpLFxuICAgICRidWxsZXQgPSAkKCcuYnVsbGV0Jyk7XG5cblx0dmFyIHNsaWRlc1RvdGFsID0gKCRzbGlkZS5sZW5ndGggLSAxKSxcblx0ICAgIGN1cnJlbnQgPSAwLFxuXHQgICAgaXNBdXRvU2xpZGluZyA9IGZhbHNlO1xuXG5cdCRidWxsZXQuZmlyc3QoKS5hZGRDbGFzcygnY3VycmVudCcpO1xuXG5cdC8qIHJlc2V0IHRoZSBkaXYgYW5kIGFuaW1hdGlvbiAqL1xuXHR2YXIgcmVzZXRTbGlkZXMgPSBmdW5jdGlvbigpIHtcblx0XHQvLyByZWxvYWQgbm9kZSBzbGlkZSBhbmQgYW5pbWF0aW9uXG5cdFx0dmFyIGRpdkNsb25lX25vZGUgPSAkKFwiLnNsaWRlLW5vZGVcIikuY2xvbmUoKTsgLy8gRG8gdGhpcyBvbiAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHsgLi4uIH0pXG5cdFx0JChcIi5zbGlkZS1ub2RlXCIpLmh0bWwoXCJMb2FkaW5nISBJZiB5b3Ugc2VlIHRoaXMgbWVzc2FnZSBmb3IgYSB3aGlsZSwgcGxlYXNlIHJlZnJlc2ggdGhlIHBhZ2VcIik7IC8vIENoYW5nZSB0aGUgY29udGVudCB0ZW1wb3JhcmlseVxuXG5cdFx0Ly8gQW55IGNoYW5nZXMgdG8gXCIjc29tZV9kaXZcIiBhZnRlciB0aGlzIHBvaW50IHdpbGwgYWZmZWN0IHRoZSB2YWx1ZSBvZiBkaXZDbG9uZVxuXHRcdCQoXCIuc2xpZGUtbm9kZVwiKS5yZXBsYWNlV2l0aChkaXZDbG9uZV9ub2RlKTsgLy8gUmVzdG9yZSBlbGVtZW50IHdpdGggZGl2Q2xvbmUgaXRzZWxmXG5cdFxuXHQgIFx0Ly8gcmVsb2FkIGxpbmVzIHNsaWRlIGFuZCBhbmltYXRpb25cblx0ICBcdHZhciBkaXZDbG9uZV9saW5lcyA9ICQoXCIuc2xpZGUtbGluZXNcIikuY2xvbmUoKTsgLy8gRG8gdGhpcyBvbiAkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHsgLi4uIH0pXG5cblx0XHQkKFwiLnNsaWRlLWxpbmVzXCIpLmh0bWwoXCJMb2FkaW5nISBJZiB5b3Ugc2VlIHRoaXMgbWVzc2FnZSBmb3IgYSB3aGlsZSwgcGxlYXNlIHJlZnJlc2ggdGhlIHBhZ2VcIik7IC8vIENoYW5nZSB0aGUgY29udGVudCB0ZW1wb3JhcmlseVxuXG5cdFx0Ly8gQW55IGNoYW5nZXMgdG8gXCIjc29tZV9kaXZcIiBhZnRlciB0aGlzIHBvaW50IHdpbGwgYWZmZWN0IHRoZSB2YWx1ZSBvZiBkaXZDbG9uZVxuXHRcdCQoXCIuc2xpZGUtbGluZXNcIikucmVwbGFjZVdpdGgoZGl2Q2xvbmVfbGluZXMpOyAvLyBSZXN0b3JlIGVsZW1lbnQgd2l0aCBkaXZDbG9uZSBpdHNlbGZcblx0fVxuXG5cdHZhciBjbGlja1NsaWRlID0gZnVuY3Rpb24oKSB7XG5cdCAgLy9zdG9wIGF1dG8gc2xpZGluZ1xuXHQgIHdpbmRvdy5jbGVhckludGVydmFsKGF1dG9TbGlkZSk7XG5cdCAgaXNBdXRvU2xpZGluZyA9IGZhbHNlO1xuXG5cdCAgdmFyIHNsaWRlSW5kZXggPSAkYnVsbGV0LmluZGV4KCQodGhpcykpO1xuXG5cdCAgdXBkYXRlSW5kZXgoc2xpZGVJbmRleCk7XG5cblx0ICByZXNldFNsaWRlcygpO1xuXHR9O1xuXG5cdHZhciB1cGRhdGVJbmRleCA9IGZ1bmN0aW9uKGN1cnJlbnRTbGlkZSkge1xuXHQgIGlmKGlzQXV0b1NsaWRpbmcpIHtcblx0ICAgIGlmKGN1cnJlbnQgPT09IHNsaWRlc1RvdGFsKSB7XG5cdCAgICAgIGN1cnJlbnQgPSAwO1xuXHQgICAgfSBlbHNlIHtcblx0ICAgICAgY3VycmVudCsrO1xuXHQgICAgfVxuXHQgIH0gZWxzZSB7XG5cdCAgICAgIGN1cnJlbnQgPSBjdXJyZW50U2xpZGU7XG5cdCAgfVxuXG5cdCAgJGJ1bGxldC5yZW1vdmVDbGFzcygnY3VycmVudCcpO1xuXHQgICRidWxsZXQuZXEoY3VycmVudCkuYWRkQ2xhc3MoJ2N1cnJlbnQnKTtcblxuXHQgIHRyYW5zaXRpb24oY3VycmVudCk7XG5cdH07XG5cblx0dmFyIHRyYW5zaXRpb24gPSBmdW5jdGlvbihzbGlkZVBvc2l0aW9uKSB7XG5cdCAgICAkc2xpZGVHcm91cC5hbmltYXRlKHtcblx0ICAgICAgJ3RvcCc6ICctJyArIHNsaWRlUG9zaXRpb24gKyAnMDAlJ1xuXHQgICAgfSk7XG5cblx0ICAgIHJlc2V0U2xpZGVzKCk7XG5cdH07XG5cblx0JGJ1bGxldC5vbiggJ2NsaWNrJywgY2xpY2tTbGlkZSk7XG5cblx0dmFyIGF1dG9TbGlkZSA9IHdpbmRvdy5zZXRJbnRlcnZhbCh1cGRhdGVJbmRleCwgODAwMDApO1xuXG59KTsiLCJcbmFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbnRyb2xsZXIoJ01lcmdlUGF0aEN0cmwnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsICR3aW5kb3cpe1xuXG4gIGZ1bmN0aW9uIHNldFBhZ2VOdW0oKXtcblxuICAgIFBBR0VfTlVNLnZhbHVlID0gMjtcblxuICB9XG4gIHNldFBhZ2VOdW0oKTtcblxuICBmdW5jdGlvbiBzZXRWaXNpYmlsaXR5KCl7XG5cbiAgICAkKCcuZGF0YS12aXNpYmlsaXR5JykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gIH1cbiAgc2V0VmlzaWJpbGl0eSgpO1xuXG4gIGZ1bmN0aW9uIHNldERhdGFHdWlJbml0aWFsaXplKCl7XG5cbiAgICBpZiAoJHNjb3BlLmRhdGFndWlNZXJnZVBhdGhJbml0aWFsaXplZC52YWx1ZSA9PSB0cnVlKVxuICAgICAgcmV0dXJuO1xuXG4gICAgJHNjb3BlLmRhdGFndWlNZXJnZVBhdGhJbml0aWFsaXplZC52YWx1ZSA9IHRydWU7XG5cbiAgICB2YXIgbWVyZ2VQYXRoVUkgPSBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuTWVyZ2VQYXRoSWQgPSAwO1xuICAgICAgdGhpcy5SZXBsYXkgPSBmdW5jdGlvbigpIHsgXG4gICAgICAgICRzY29wZS5yZXNldE1lcmdlUGF0aHMoKTsgXG4gICAgICB9O1xuICAgIH07XG5cbiAgICB2YXIgdGV4dCA9IG5ldyBtZXJnZVBhdGhVSSgpO1xuICAgIHZhciBndWkgID0gbmV3IGRhdC5HVUkoKTtcbiAgICB2YXIgZ3VpX21lcmdlUGF0aElkID0gZ3VpLmFkZCh0ZXh0LCAnTWVyZ2VQYXRoSWQnKS5taW4oMCkuc3RlcCgxKS5tYXgoMTE3KTtcbiAgICBndWkuYWRkKHRleHQsICdSZXBsYXknKTtcblxuICAgIGd1aV9tZXJnZVBhdGhJZC5vbkZpbmlzaENoYW5nZShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgU0VMRUNURURfTUVSR0VQQVRISUQgPSBNYXRoLmNlaWwodmFsdWUpO1xuICAgICAgJHNjb3BlLnJlc2V0TWVyZ2VQYXRocygpOyBcbiAgICB9KTtcblxuICB9XG4gIHNldERhdGFHdWlJbml0aWFsaXplKCk7XG4gIFxufSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9