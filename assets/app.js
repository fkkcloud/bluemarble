angular.module("app",["ngRoute"]),angular.module("app").controller("ApplicationCtrl",["$rootScope","$scope","$window",function(e,c,o){function t(){var e=function(){this.AdditiveColor=!0,this.Restart=function(){location.reload()},this.HideNodes=!1,this.HideNames=!1};RENDEROPTIONS=new e;var c=new dat.GUI,o=c.addFolder("Clusters"),t=o.add(RENDEROPTIONS,"HideNodes"),r=c.addFolder("MergePaths"),g=r.add(RENDEROPTIONS,"HideNodes"),a=r.add(RENDEROPTIONS,"HideNames");t.onFinishChange(function(e){NodeManagerCluster.toggleNodeVisibility(1==e?!1:!0)}),g.onFinishChange(function(e){if(1==e)for(var c=0;c<NodeManagerMergePaths.length;c++)for(var o=0;o<SELECTED_MERGEPATHIDS.length;o++)SELECTED_MERGEPATHIDS[o]===c&&NodeManagerMergePaths[c].toggleNodeVisibility(!1);else for(var c=0;c<NodeManagerMergePaths.length;c++)for(var o=0;o<SELECTED_MERGEPATHIDS.length;o++)SELECTED_MERGEPATHIDS[o]===c&&NodeManagerMergePaths[c].toggleNodeVisibility(!0)}),a.onFinishChange(function(e){if(1==e)for(var c=0;c<NodeManagerMergePaths.length;c++)for(var o=0;o<SELECTED_MERGEPATHIDS.length;o++)SELECTED_MERGEPATHIDS[o]===c&&NodeManagerMergePaths[c].toggleNodeTextVisibility(!1);else for(var c=0;c<NodeManagerMergePaths.length;c++)for(var o=0;o<SELECTED_MERGEPATHIDS.length;o++)SELECTED_MERGEPATHIDS[o]===c&&NodeManagerMergePaths[c].toggleNodeTextVisibility(!0)}),c.add(RENDEROPTIONS,"Restart")}c.meanAge={value:0},c.mergePathIds={value:[0]},c.getMenuShow=function(){return c.show_menu},$(window).resize(function(){this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){$(this).trigger("resizeEnd")},200)}),$(window).bind("resizeEnd",function(){location.reload()}),c.resetClusters=function(){FRAME.value=0,PAGE_NUM.value=1,c.meanAge=48,TWEEN.removeAll(),EdgeManagerCluster.reset(),NodeManagerCluster.reset()},c.cleanMergePaths=function(){for(var e=0;e<NodeManagerMergePaths.length;e++)for(var c=0;c<SELECTED_MERGEPATHIDS.length;c++)SELECTED_MERGEPATHIDS[c]==e&&NodeManagerMergePaths[e].clean()},c.resetMergePaths=function(){FRAME.value=0,PAGE_NUM.value=2,TWEEN.removeAll();for(var e=0;e<NodeManagerMergePaths.length;e++)for(var c=0;c<SELECTED_MERGEPATHIDS.length;c++)SELECTED_MERGEPATHIDS[c]==e&&(NodeManagerMergePaths[e].reset(),EdgeManagerMergePaths[e].reset())},t()}]),angular.module("app").config(["$routeProvider",function(e){e.when("/mergepaths",{templateUrl:"/templates/mergepaths.html",controller:"MergePathCtrl"}).when("/clusters",{templateUrl:"/templates/clusters.html",controller:"ClusterCtrl"}).when("/intro",{templateUrl:"/templates/intro.html",controller:"IntroCtrl"}).otherwise({redirectTo:"/intro"})}]),angular.module("app").controller("ClusterCtrl",["$rootScope","$scope","$window",function(e,c,o){function t(){PAGE_NUM.value=1}function r(){$(".data-visibility").addClass("active")}t(),r(),c.updateMeanAge=function(){if(!(FRAME.value>420||1!=PAGE_NUM.value)){var e=mapRange([0,400],[38.2,81.3],FRAME.value);c.meanAge.value=Math.ceil(e),c.$apply(),requestAnimationFrame(c.updateMeanAge)}},c.updateMeanAge(),$("#btn-reset-clusters").click(function(){c.resetClusters()}),$("#checkbox_c_all").change(function(){var e=$(this).is(":checked");$("#checkbox_c0").prop("checked",e),$("#checkbox_c0").trigger("change"),$("#checkbox_c1").prop("checked",e),$("#checkbox_c1").trigger("change"),$("#checkbox_c2").prop("checked",e),$("#checkbox_c2").trigger("change"),$("#checkbox_c3").prop("checked",e),$("#checkbox_c3").trigger("change"),$("#checkbox_c4").prop("checked",e),$("#checkbox_c4").trigger("change"),$("#checkbox_c5").prop("checked",e),$("#checkbox_c5").trigger("change"),$("#checkbox_c6").prop("checked",e),$("#checkbox_c6").trigger("change"),$("#checkbox_c7").prop("checked",e),$("#checkbox_c7").trigger("change"),$("#checkbox_c8").prop("checked",e),$("#checkbox_c8").trigger("change"),$("#checkbox_c9").prop("checked",e),$("#checkbox_c9").trigger("change"),$("#checkbox_c10").prop("checked",e),$("#checkbox_c10").trigger("change"),$("#checkbox_c11").prop("checked",e),$("#checkbox_c11").trigger("change"),$("#checkbox_c12").prop("checked",e),$("#checkbox_c12").trigger("change"),$("#checkbox_c13").prop("checked",e),$("#checkbox_c13").trigger("change"),$("#checkbox_c14").prop("checked",e),$("#checkbox_c14").trigger("change"),$("#checkbox_c15").prop("checked",e),$("#checkbox_c15").trigger("change"),$("#checkbox_c16").prop("checked",e),$("#checkbox_c16").trigger("change"),$("#checkbox_c17").prop("checked",e),$("#checkbox_c17").trigger("change")}),$("#checkbox_c0").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(0,!0):EdgeManagerCluster.toggleShowByCluster(0,!1)}),$("#checkbox_c1").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(1,!0):EdgeManagerCluster.toggleShowByCluster(1,!1)}),$("#checkbox_c2").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(2,!0):EdgeManagerCluster.toggleShowByCluster(2,!1)}),$("#checkbox_c3").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(3,!0):EdgeManagerCluster.toggleShowByCluster(3,!1)}),$("#checkbox_c4").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(4,!0):EdgeManagerCluster.toggleShowByCluster(4,!1)}),$("#checkbox_c5").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(5,!0):EdgeManagerCluster.toggleShowByCluster(5,!1)}),$("#checkbox_c6").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(6,!0):EdgeManagerCluster.toggleShowByCluster(6,!1)}),$("#checkbox_c7").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(7,!0):EdgeManagerCluster.toggleShowByCluster(7,!1)}),$("#checkbox_c8").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(8,!0):EdgeManagerCluster.toggleShowByCluster(8,!1)}),$("#checkbox_c9").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(9,!0):EdgeManagerCluster.toggleShowByCluster(9,!1)}),$("#checkbox_c10").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(10,!0):EdgeManagerCluster.toggleShowByCluster(10,!1)}),$("#checkbox_c11").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(11,!0):EdgeManagerCluster.toggleShowByCluster(11,!1)}),$("#checkbox_c12").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(12,!0):EdgeManagerCluster.toggleShowByCluster(12,!1)}),$("#checkbox_c13").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(13,!0):EdgeManagerCluster.toggleShowByCluster(13,!1)}),$("#checkbox_c14").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(14,!0):EdgeManagerCluster.toggleShowByCluster(14,!1)}),$("#checkbox_c15").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(15,!0):EdgeManagerCluster.toggleShowByCluster(15,!1)}),$("#checkbox_c16").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(16,!0):EdgeManagerCluster.toggleShowByCluster(16,!1)}),$("#checkbox_c17").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(17,!0):EdgeManagerCluster.toggleShowByCluster(17,!1)})}]),angular.module("app").controller("IntroCtrl",["$rootScope","$scope","$window",function(e,c,o){function t(){PAGE_NUM.value=0}function r(){$(".data-visibility").removeClass("active")}t(),r()}]),angular.module("app").controller("MergePathCtrl",["$rootScope","$scope","$window",function(e,c,o){function t(){PAGE_NUM.value=2}function r(){$(".data-visibility").addClass("active")}t(),r(),$("#btn-reset-mergepaths").click(function(){c.resetMergePaths()}),$("#btn-run-mergepaths").click(function(){for(var e=document.getElementById("textinfo-mergepathids").value,o=e.split(" "),t=0;t<o.length;t++)try{var r=parseInt(o[t]);isNaN(r)?delete o[t]:o[t]=r}catch(g){return void console.log(g)}console.log("Show mergepathids : ",o),c.cleanMergePaths(),SELECTED_MERGEPATHIDS=o,c.mergePathIds.value=o,c.$apply(),c.resetMergePaths()}),$("#checkbox-hide-names-mergepaths").change(function(){if($(this).is(":checked"))for(var e=0;e<NodeManagerMergePaths.length;e++)for(var c=0;c<SELECTED_MERGEPATHIDS.length;c++)SELECTED_MERGEPATHIDS[c]===e&&NodeManagerMergePaths[e].toggleNodeTextVisibility(!0);else for(var e=0;e<NodeManagerMergePaths.length;e++)for(var c=0;c<SELECTED_MERGEPATHIDS.length;c++)SELECTED_MERGEPATHIDS[c]===e&&NodeManagerMergePaths[e].toggleNodeTextVisibility(!1)})}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwcGxpY2F0aW9uLmN0cmwuanMiLCJyb3V0ZXMuanMiLCJDb250cm9sbGVycy9jbHVzdGVyLmN0cmwuanMiLCJDb250cm9sbGVycy9pbnRyby5jdHJsLmpzIiwiQ29udHJvbGxlcnMvbWVyZ2VwYXRoLmN0cmwuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCIkcm9vdFNjb3BlIiwiJHNjb3BlIiwiJHdpbmRvdyIsInNldERhdGFHdWlJbml0aWFsaXplIiwicmVuZGVyT3B0aW9uc1VJIiwidGhpcyIsIkFkZGl0aXZlQ29sb3IiLCJSZXN0YXJ0IiwibG9jYXRpb24iLCJyZWxvYWQiLCJIaWRlTm9kZXMiLCJIaWRlTmFtZXMiLCJSRU5ERVJPUFRJT05TIiwiZ3VpIiwiZGF0IiwiR1VJIiwiQ2x1c3RlcnNHcnAiLCJhZGRGb2xkZXIiLCJDbHVzdGVySGlkZU5vZGVzIiwiYWRkIiwiTWVyZ2VQYXRoR3JwIiwiTWVyZ2VQYXRoSGlkZU5vZGVzIiwiTWVyZ2VQYXRoSGlkZU5hbWVzIiwib25GaW5pc2hDaGFuZ2UiLCJ2YWwiLCJOb2RlTWFuYWdlckNsdXN0ZXIiLCJ0b2dnbGVOb2RlVmlzaWJpbGl0eSIsImkiLCJOb2RlTWFuYWdlck1lcmdlUGF0aHMiLCJsZW5ndGgiLCJqIiwiU0VMRUNURURfTUVSR0VQQVRISURTIiwidG9nZ2xlTm9kZVRleHRWaXNpYmlsaXR5IiwibWVhbkFnZSIsInZhbHVlIiwibWVyZ2VQYXRoSWRzIiwiZ2V0TWVudVNob3ciLCJzaG93X21lbnUiLCIkIiwid2luZG93IiwicmVzaXplIiwicmVzaXplVE8iLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwidHJpZ2dlciIsImJpbmQiLCJyZXNldENsdXN0ZXJzIiwiRlJBTUUiLCJQQUdFX05VTSIsIlRXRUVOIiwicmVtb3ZlQWxsIiwiRWRnZU1hbmFnZXJDbHVzdGVyIiwicmVzZXQiLCJjbGVhbk1lcmdlUGF0aHMiLCJjbGVhbiIsInJlc2V0TWVyZ2VQYXRocyIsIkVkZ2VNYW5hZ2VyTWVyZ2VQYXRocyIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwid2hlbiIsInRlbXBsYXRlVXJsIiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsInNldFBhZ2VOdW0iLCJzZXRWaXNpYmlsaXR5IiwiYWRkQ2xhc3MiLCJ1cGRhdGVNZWFuQWdlIiwibmV3TWVhbkFnZSIsIm1hcFJhbmdlIiwiTWF0aCIsImNlaWwiLCIkYXBwbHkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjbGljayIsImNoYW5nZSIsInRvZ2dsZVZhbCIsImlzIiwicHJvcCIsImNvbnNvbGUiLCJsb2ciLCJ0b2dnbGVTaG93QnlDbHVzdGVyIiwicmVtb3ZlQ2xhc3MiLCJpbnB1dCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhcnJheSIsInNwbGl0IiwibWVyZ2VQYXRoSWQiLCJwYXJzZUludCIsImlzTmFOIiwiZXJyIl0sIm1hcHBpbmdzIjoiQUFDQUEsUUFBQUMsT0FBQSxPQUNBLFlDREFELFFBQUFDLE9BQUEsT0FDQUMsV0FBQSxtQkFBQSxhQUFBLFNBQUEsVUFBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQXdFQSxRQUFBQyxLQUVBLEdBQUFDLEdBQUEsV0FFQUMsS0FBQUMsZUFBQSxFQUVBRCxLQUFBRSxRQUFBLFdBR0FDLFNBQUFDLFVBSUFKLEtBQUFLLFdBQUEsRUFFQUwsS0FBQU0sV0FBQSxFQUlBQyxlQUFBLEdBQUFSLEVBQ0EsSUFBQVMsR0FBQSxHQUFBQyxLQUFBQyxJQUVBQyxFQUFBSCxFQUFBSSxVQUFBLFlBQ0FDLEVBQUFGLEVBQUFHLElBQUFQLGNBQUEsYUFFQVEsRUFBQVAsRUFBQUksVUFBQSxjQUNBSSxFQUFBRCxFQUFBRCxJQUFBUCxjQUFBLGFBQ0FVLEVBQUFGLEVBQUFELElBQUFQLGNBQUEsWUFFQU0sR0FBQUssZUFBQSxTQUFBQyxHQUVBQyxtQkFBQUMscUJBREEsR0FBQUYsR0FDQSxHQUdBLEtBSUFILEVBQUFFLGVBQUEsU0FBQUMsR0FDQSxH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QUFBQyxNQUFBbUMsS0FBQUMsS0FBQUgsR0FDQWxFLEVBQUFzRSxTQUNBQyxzQkFBQXZFLEVBQUFpRSxpQkFFQWpFLEVBQUFpRSxnQkFJQTVCLEVBQUEsdUJBQUFtQyxNQUFBLFdBRUF4RSxFQUFBNkMsa0JBa0JBUixFQUFBLG1CQUFBb0MsT0FBQSxXQUVBLEdBQUFDLEdBQUFyQyxFQUFBakMsTUFBQXVFLEdBQUEsV0FFQXRDLEdBQUEsZ0JBQUF1QyxLQUFBLFVBQUFGLEdBQ0FyQyxFQUFBLGdCQUFBTSxRQUFBLFVBQ0FOLEVBQUEsZ0JBQUF1QyxLQUFBLFVBQUFGLEdBQ0FyQyxFQUFBLGdCQUFBTSxRQUFBLFVBQ0FOLEVBQUEsZ0JBQUF1QyxLQUFBLFVBQUFGLEdBQ0FyQyxFQUFBLGdCQUFBTSxRQUFBLFVBQ0FOLEVBQUEsZ0JBQUF1QyxLQUFBLFVBQUFGLEdBQ0FyQyxFQUFBLGdCQUFBTSxRQUFBLFVBQ0FOLEVBQUEsZ0JBQUF1QyxLQUFBLFVBQUFGLEdBQ0FyQyxFQUFBLGdCQUFBTSxRQUFBLFVBQ0FOLEVBQUEsZ0JBQUF1QyxLQUFBLFVBQUFGLEdBQ0FyQyxFQUFBLGdCQUFBTSxRQUFBLFVBQ0FOLEVBQUEsZ0JBQUF1QyxLQUFBLFVBQUFGLEdBQ0FyQyxFQUFBLGdCQUFBTSxRQUFBLFVBQ0FOLEVBQUEsZ0JBQUF1QyxLQUFBLFVBQUFGLEdBQ0FyQyxFQUFBLGdCQUFBTSxRQUFBLFVBQ0FOLEVBQUEsZ0JBQUF1QyxLQUFBLFVBQUFGLEdBQ0FyQyxFQUFBLGdCQUFBTSxRQUFBLFVBQ0FOLEVBQUEsZ0JBQUF1QyxLQUFBLFVBQUFGLEdBQ0FyQyxFQUFBLGdCQUFBTSxRQUFBLFVBQ0FOLEVBQUEsaUJBQUF1QyxLQUFBLFVBQUFGLEdBQ0FyQyxFQUFBLGlCQUFBTSxRQUFBLFVBQ0FOLEVBQUEsaUJBQUF1QyxLQUFBLFVBQUFGLEdBQ0FyQyxFQUFBLGlCQUFBTSxRQUFBLFVBQ0FOLEVBQUEsaUJBQUF1QyxLQUFBLFVBQUFGLEdBQ0FyQyxFQUFBLGlCQUFBTSxRQUFBLFVBQ0FOLEVBQUEsaUJBQUF1QyxLQUFBLFVBQUFGLEdBQ0FyQyxFQUFBLGlCQUFBTSxRQUFBLFVBQ0FOLEVBQUEsaUJBQUF1QyxLQUFBLFVBQUFGLEdBQ0FyQyxFQUFBLGlCQUFBTSxRQUFBLFVBQ0FOLEVBQUEsaUJBQUF1QyxLQUFBLFVBQUFGLEdBQ0FyQyxFQUFBLGlCQUFBTSxRQUFBLFVBQ0FOLEVBQUEsaUJBQUF1QyxLQUFBLFVBQUFGLEdBQ0FyQyxFQUFBLGlCQUFBTSxRQUFBLFVBQ0FOLEVBQUEsaUJBQUF1QyxLQUFBLFVBQUFGLEdBQ0FyQyxFQUFBLGlCQUFBTSxRQUFBLFlBS0FOLEVBQUEsZ0JBQUFvQyxPQUFBLFdBQ0FJLFFBQUFDLElBQUEsYUFDQXpDLEVBQUFqQyxNQUFBdUUsR0FBQSxZQUNBekIsbUJBQUE2QixvQkFBQSxHQUFBLEdBS0E3QixtQkFBQTZCLG9CQUFBLEdBQUEsS0FNQTFDLEVBQUEsZ0JBQUFvQyxPQUFBLFdBQ0FJLFFBQUFDLElBQUEsYUFDQXpDLEVBQUFqQyxNQUFBdUUsR0FBQSxZQUNBekIsbUJBQUE2QixvQkFBQSxHQUFBLEdBS0E3QixtQkFBQTZCLG9CQUFBLEdBQUEsS0FLQTFDLEVBQUEsZ0JBQUFvQyxPQUFBLFdBQ0FJLFFBQUFDLElBQUEsYUFDQXpDLEVBQUFqQyxNQUFBdUUsR0FBQSxZQUNBekIsbUJBQUE2QixvQkFBQSxHQUFBLEdBS0E3QixtQkFBQTZCLG9CQUFBLEdBQUEsS0FLQTFDLEVBQUEsZ0JBQUFvQyxPQUFBLFdBQ0FJLFFBQUFDLElBQUEsYUFDQXpDLEVBQUFqQyxNQUFBdUUsR0FBQSxZQUNBekIsbUJBQUE2QixvQkFBQSxHQUFBLEdBS0E3QixtQkFBQTZCLG9CQUFBLEdBQUEsS0FLQTFDLEVBQUEsZ0JBQUFvQyxPQUFBLFdBQ0FJLFFBQUFDLElBQUEsYUFDQXpDLEVBQUFqQyxNQUFBdUUsR0FBQSxZQUNBekIsbUJBQUE2QixvQkFBQSxHQUFBLEdBS0E3QixtQkFBQTZCLG9CQUFBLEdBQUEsS0FNQTFDLEVBQUEsZ0JBQUFvQyxPQUFBLFdBQ0FJLFFBQUFDLElBQUEsYUFDQXpDLEVBQUFqQyxNQUFBdUUsR0FBQSxZQUNBekIsbUJBQUE2QixvQkFBQSxHQUFBLEdBS0E3QixtQkFBQTZCLG9CQUFBLEdBQUEsS0FNQTFDLEVBQUEsZ0JBQUFvQyxPQUFBLFdBQ0FJLFFBQUFDLElBQUEsYUFDQXpDLEVBQUFqQyxNQUFBdUUsR0FBQSxZQUNBekIsbUJBQUE2QixvQkFBQSxHQUFBLEdBS0E3QixtQkFBQTZCLG9CQUFBLEdBQUEsS0FNQTFDLEVBQUEsZ0JBQUFvQyxPQUFBLFdBQ0FJLFFBQUFDLElBQUEsYUFDQXpDLEVBQUFqQyxNQUFBdUUsR0FBQSxZQUNBekIsbUJBQUE2QixvQkFBQSxHQUFBLEdBS0E3QixtQkFBQTZCLG9CQUFBLEdBQUEsS0FNQTFDLEVBQUEsZ0JBQUFvQyxPQUFBLFdBQ0FJLFFBQUFDLElBQUEsYUFDQXpDLEVBQUFqQyxNQUFBdUUsR0FBQSxZQUNBekIsbUJBQUE2QixvQkFBQSxHQUFBLEdBS0E3QixtQkFBQTZCLG9CQUFBLEdBQUEsS0FNQTFDLEVBQUEsZ0JBQUFvQyxPQUFBLFdBQ0FJLFFBQUFDLElBQUEsYUFDQXpDLEVBQUFqQyxNQUFBdUUsR0FBQSxZQUNBekIsbUJBQUE2QixvQkFBQSxHQUFBLEdBS0E3QixtQkFBQTZCLG9CQUFBLEdBQUEsS0FNQTFDLEVBQUEsaUJBQUFvQyxPQUFBLFdBQ0FJLFFBQUFDLElBQUEsYUFDQXpDLEVBQUFqQyxNQUFBdUUsR0FBQSxZQUNBekIsbUJBQUE2QixvQkFBQSxJQUFBLEdBS0E3QixtQkFBQTZCLG9CQUFBLElBQUEsS0FNQTFDLEVBQUEsaUJBQUFvQyxPQUFBLFdBQ0FJLFFBQUFDLElBQUEsYUFDQXpDLEVBQUFqQyxNQUFBdUUsR0FBQSxZQUNBekIsbUJBQUE2QixvQkFBQSxJQUFBLEdBS0E3QixtQkFBQTZCLG9CQUFBLElBQUEsS0FNQTFDLEVBQUEsaUJBQUFvQyxPQUFBLFdBQ0FJLFFBQUFDLElBQUEsYUFDQXpDLEVBQUFqQyxNQUFBdUUsR0FBQSxZQUNBekIsbUJBQUE2QixvQkFBQSxJQUFBLEdBS0E3QixtQkFBQTZCLG9CQUFBLElBQUEsS0FNQTFDLEVBQUEsaUJBQUFvQyxPQUFBLFdBQ0FJLFFBQUFDLElBQUEsYUFDQXpDLEVBQUFqQyxNQUFBdUUsR0FBQSxZQUNBekIsbUJBQUE2QixvQkFBQSxJQUFBLEdBS0E3QixtQkFBQTZCLG9CQUFBLElBQUEsS0FNQTFDLEVBQUEsaUJBQUFvQyxPQUFBLFdBQ0FJLFFBQUFDLElBQUEsYUFDQXpDLEVBQUFqQyxNQUFBdUUsR0FBQSxZQUNBekIsbUJBQUE2QixvQkFBQSxJQUFBLEdBS0E3QixtQkFBQTZCLG9CQUFBLElBQUEsS0FLQTFDLEVBQUEsaUJBQUFvQyxPQUFBLFdBQ0FJLFFBQUFDLElBQUEsYUFDQXpDLEVBQUFqQyxNQUFBdUUsR0FBQSxZQUNBekIsbUJBQUE2QixvQkFBQSxJQUFBLEdBS0E3QixtQkFBQTZCLG9CQUFBLElBQUEsS0FLQTFDLEVBQUEsaUJBQUFvQyxPQUFBLFdBQ0FJLFFBQUFDLElBQUEsYUFDQXpDLEVBQUFqQyxNQUFBdUUsR0FBQSxZQUNBekIsbUJBQUE2QixvQkFBQSxJQUFBLEdBS0E3QixtQkFBQTZCLG9CQUFBLElBQUEsS0FNQTFDLEVBQUEsaUJBQUFvQyxPQUFBLFdBQ0FJLFFBQUFDLElBQUEsYUFDQXpDLEVBQUFqQyxNQUFBdUUsR0FBQSxZQUNBekIsbUJBQUE2QixvQkFBQSxJQUFBLEdBS0E3QixtQkFBQTZCLG9CQUFBLElBQUEsUUM3VUFuRixRQUFBQyxPQUFBLE9BQ0FDLFdBQUEsYUFBQSxhQUFBLFNBQUEsVUFBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUVBLFFBQUE2RCxLQUNBZixTQUFBZCxNQUFBLEVBS0EsUUFBQThCLEtBQ0ExQixFQUFBLG9CQUFBMkMsWUFBQSxVQUpBbEIsSUFNQUMsT0NaQW5FLFFBQUFDLE9BQUEsT0FDQUMsV0FBQSxpQkFBQSxhQUFBLFNBQUEsVUFBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUVBLFFBQUE2RCxLQUVBZixTQUFBZCxNQUFBLEVBS0EsUUFBQThCLEtBRUExQixFQUFBLG9CQUFBMkIsU0FBQSxVQUpBRixJQU9BQyxJQUtBMUIsRUFBQSx5QkFBQW1DLE1BQUEsV0FFQXhFLEVBQUFzRCxvQkFNQWpCLEVBQUEsdUJBQUFtQyxNQUFBLFdBS0EsSUFBQSxHQUhBUyxHQUFBQyxTQUFBQyxlQUFBLHlCQUFBbEQsTUFDQW1ELEVBQUFILEVBQUFJLE1BQUEsS0FFQTNELEVBQUEsRUFBQUEsRUFBQTBELEVBQUF4RCxPQUFBRixJQUVBLElBQ0EsR0FBQTRELEdBQUFDLFNBQUFILEVBQUExRCxHQUNBOEQsT0FBQUYsU0FDQUYsR0FBQTFELEdBRUEwRCxFQUFBMUQsR0FBQTRELEVBR0EsTUFBQUcsR0FFQSxXQURBWixTQUFBQyxJQUFBVyxHQUlBWixRQUFBQyxJQUFBLHVCQUFBTSxHQUNBcEYsRUFBQW9ELGtCQUNBdEIsc0JBQUFzRCxFQUNBcEYsRUFBQWtDLGFBQUFELE1BQUFtRCxFQUNBcEYsRUFBQXNFLFNBQ0F0RSxFQUFBc0Qsb0JBdUNBakIsRUFBQSxtQ0FBQW9DLE9BQUEsV0FDQSxHQUFBcEMsRUFBQWpDLE1BQUF1RSxHQUFBLFlBRUEsSUFBQSxHQUFBakQsR0FBQSxFQUFBQSxFQUFBQyxzQkFBQUMsT0FBQUYsSUFFQSxJQUFBLEdBQUFHLEdBQUEsRUFBQUEsRUFBQUMsc0JBQUFGLE9BQUFDLElBRUFDLHNCQUFBRCxLQUFBSCxHQUNBQyxzQkFBQUQsR0FBQUssMEJBQUEsT0FVQSxLQUFBLEdBQUFMLEdBQUEsRUFBQUEsRUFBQUMsc0JBQUFDLE9BQUFGLElBRUEsSUFBQSxHQUFBRyxHQUFBLEVBQUFBLEVBQUFDLHNCQUFBRixPQUFBQyxJQUVBQyxzQkFBQUQsS0FBQUgsR0FDQUMsc0JBQUFELEdBQUFLLDBCQUFBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFtcblx0J25nUm91dGUnLFxuXSk7XG4iLCJcbmFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbnRyb2xsZXIoJ0FwcGxpY2F0aW9uQ3RybCcsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRzY29wZSwgJHdpbmRvdyl7XG5cblx0JHNjb3BlLm1lYW5BZ2UgPSB7IHZhbHVlIDogMCB9O1xuXHQkc2NvcGUubWVyZ2VQYXRoSWRzID0geyB2YWx1ZSA6IFswXX07XG5cblx0JHNjb3BlLmdldE1lbnVTaG93ID0gZnVuY3Rpb24oKXtcblx0XHRyZXR1cm4gJHNjb3BlLnNob3dfbWVudTtcblx0fVxuXG5cdC8vIGFzIHJlc2l6ZSwgcmUtaW5pdCBkYXRhc1xuXHQkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCkge1xuICAgIGlmKHRoaXMucmVzaXplVE8pIGNsZWFyVGltZW91dCh0aGlzLnJlc2l6ZVRPKTtcblx0ICAgIHRoaXMucmVzaXplVE8gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICQodGhpcykudHJpZ2dlcigncmVzaXplRW5kJyk7XG5cdCAgICB9LCAyMDApO1xuXHR9KTtcblxuXHQkKHdpbmRvdykuYmluZCgncmVzaXplRW5kJywgZnVuY3Rpb24oKSB7XG5cdCAgICAvL2RvIHNvbWV0aGluZywgd2luZG93IGhhc24ndCBjaGFuZ2VkIHNpemUgaW4gNTAwbXNcblx0ICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuXHR9KTtcblxuXG5cdCRzY29wZS5yZXNldENsdXN0ZXJzID0gZnVuY3Rpb24oKXtcbiAgICAgIFx0RlJBTUUudmFsdWUgICAgPSAwO1xuICAgICAgXHRQQUdFX05VTS52YWx1ZSA9IDE7XG5cbiAgICAgIFx0JHNjb3BlLm1lYW5BZ2UgPSA0OC4wO1xuXG4gICAgICBcdFRXRUVOLnJlbW92ZUFsbCgpOyAvLyByZXNldCB0d2VlbiBhbmltYXRpb25zXG5cbiAgICAgIFx0RWRnZU1hbmFnZXJDbHVzdGVyLnJlc2V0KCk7XG4gICAgICBcdE5vZGVNYW5hZ2VyQ2x1c3Rlci5yZXNldCgpO1xuXHR9XG5cblx0JHNjb3BlLmNsZWFuTWVyZ2VQYXRocyA9IGZ1bmN0aW9uKCl7XG5cblx0XHQvLyB0dXJuIG9mZiBub2RlcyBhbmQgZWRnZXMgZXhjZXB0IG1lcmdlUGF0aElkXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBOb2RlTWFuYWdlck1lcmdlUGF0aHMubGVuZ3RoOyBpKyspe1xuXG5cdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IFNFTEVDVEVEX01FUkdFUEFUSElEUy5sZW5ndGg7IGorKyl7XG5cblx0XHRcdFx0aWYgKFNFTEVDVEVEX01FUkdFUEFUSElEU1tqXSA9PSBpKXtcblx0XHRcdFx0XHROb2RlTWFuYWdlck1lcmdlUGF0aHNbaV0uY2xlYW4oKTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHR9XG5cdH1cblxuXHQkc2NvcGUucmVzZXRNZXJnZVBhdGhzID0gZnVuY3Rpb24oKXtcblx0XHRGUkFNRS52YWx1ZSAgICA9IDA7XG5cdFx0UEFHRV9OVU0udmFsdWUgPSAyO1xuXG5cdFx0VFdFRU4ucmVtb3ZlQWxsKCk7IC8vIHJlc2V0IHR3ZWVuIGFuaW1hdGlvbnNcblxuXHRcdC8vIHR1cm4gb2ZmIG5vZGVzIGFuZCBlZGdlcyBleGNlcHQgbWVyZ2VQYXRoSWRcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IE5vZGVNYW5hZ2VyTWVyZ2VQYXRocy5sZW5ndGg7IGkrKyl7XG5cblx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgU0VMRUNURURfTUVSR0VQQVRISURTLmxlbmd0aDsgaisrKXtcblxuXHRcdFx0XHRpZiAoU0VMRUNURURfTUVSR0VQQVRISURTW2pdID09IGkpe1xuXHRcdFx0XHRcdE5vZGVNYW5hZ2VyTWVyZ2VQYXRoc1tpXS5yZXNldCgpO1xuXHRcdFx0XHRcdEVkZ2VNYW5hZ2VyTWVyZ2VQYXRoc1tpXS5yZXNldCgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdH1cblxuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHNldERhdGFHdWlJbml0aWFsaXplKCl7XG5cblx0ICAgIHZhciByZW5kZXJPcHRpb25zVUkgPSBmdW5jdGlvbigpIHtcblxuXHQgICAgICB0aGlzLkFkZGl0aXZlQ29sb3IgPSB0cnVlO1xuXG5cdCAgICAgIHRoaXMuUmVzdGFydCA9IGZ1bmN0aW9uKCkgeyBcblxuXHQgICAgICBcdCAvLyByZXN0YXJ0IHRoZSBwYWdlXG5cdCAgICAgIFx0IGxvY2F0aW9uLnJlbG9hZCgpO1xuXG5cdCAgICAgIH07XG5cblx0ICAgICAgdGhpcy5IaWRlTm9kZXMgPSBmYWxzZTtcblxuXHQgICAgICB0aGlzLkhpZGVOYW1lcyA9IGZhbHNlO1xuXG5cdCAgICB9O1xuXG5cdCAgICBSRU5ERVJPUFRJT05TIFx0PSBuZXcgcmVuZGVyT3B0aW9uc1VJKCk7XG5cdCAgICB2YXIgZ3VpICBcdFx0PSBuZXcgZGF0LkdVSSgpO1xuXG5cdCAgICB2YXIgQ2x1c3RlcnNHcnAgPSBndWkuYWRkRm9sZGVyKCdDbHVzdGVycycpO1xuXHRcdHZhciBDbHVzdGVySGlkZU5vZGVzID0gQ2x1c3RlcnNHcnAuYWRkKFJFTkRFUk9QVElPTlMsICdIaWRlTm9kZXMnKTtcblxuXHRcdHZhciBNZXJnZVBhdGhHcnAgPSBndWkuYWRkRm9sZGVyKCdNZXJnZVBhdGhzJyk7XG5cdFx0dmFyIE1lcmdlUGF0aEhpZGVOb2RlcyA9IE1lcmdlUGF0aEdycC5hZGQoUkVOREVST1BUSU9OUywgJ0hpZGVOb2RlcycpO1xuXHRcdHZhciBNZXJnZVBhdGhIaWRlTmFtZXMgPSBNZXJnZVBhdGhHcnAuYWRkKFJFTkRFUk9QVElPTlMsICdIaWRlTmFtZXMnKTtcblxuXHQgICAgQ2x1c3RlckhpZGVOb2Rlcy5vbkZpbmlzaENoYW5nZShmdW5jdGlvbih2YWwpIHtcblx0ICAgIFx0aWYgKHZhbCA9PSB0cnVlKSB7XG5cdFx0ICAgICAgICBOb2RlTWFuYWdlckNsdXN0ZXIudG9nZ2xlTm9kZVZpc2liaWxpdHkoZmFsc2UpO1xuXHQgICAgXHR9XG5cdCAgICBcdGVsc2Uge1xuXHRcdCAgICAgICAgTm9kZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZU5vZGVWaXNpYmlsaXR5KHRydWUpO1xuXHQgICAgXHR9XG5cdCAgICB9KTtcblxuXHQgICBcdE1lcmdlUGF0aEhpZGVOb2Rlcy5vbkZpbmlzaENoYW5nZShmdW5jdGlvbih2YWwpIHtcblx0ICAgIFx0aWYgKHZhbCA9PSB0cnVlKSB7XG5cdCAgICAgICAgXHRmb3IgKHZhciBpID0gMDsgaSA8IE5vZGVNYW5hZ2VyTWVyZ2VQYXRocy5sZW5ndGg7IGkrKyl7XG5cblx0XHQgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBTRUxFQ1RFRF9NRVJHRVBBVEhJRFMubGVuZ3RoOyBqKyspe1xuXG5cdFx0ICAgICAgICAgICAgaWYgKFNFTEVDVEVEX01FUkdFUEFUSElEU1tqXSA9PT0gaSlcblx0XHQgICAgICAgICAgICAgIE5vZGVNYW5hZ2VyTWVyZ2VQYXRoc1tpXS50b2dnbGVOb2RlVmlzaWJpbGl0eShmYWxzZSk7XG5cblx0XHQgICAgICAgICAgfVxuXHRcdCAgICAgICAgICBcblx0XHQgICAgICAgIH1cblx0ICAgIFx0fVxuXHQgICAgXHRlbHNlIHtcblx0ICAgICAgICBcdGZvciAodmFyIGkgPSAwOyBpIDwgTm9kZU1hbmFnZXJNZXJnZVBhdGhzLmxlbmd0aDsgaSsrKXtcblxuXHRcdCAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IFNFTEVDVEVEX01FUkdFUEFUSElEUy5sZW5ndGg7IGorKyl7XG5cblx0XHQgICAgICAgICAgICBpZiAoU0VMRUNURURfTUVSR0VQQVRISURTW2pdID09PSBpKVxuXHRcdCAgICAgICAgICAgICAgTm9kZU1hbmFnZXJNZXJnZVBhdGhzW2ldLnRvZ2dsZU5vZGVWaXNpYmlsaXR5KHRydWUpO1xuXG5cdFx0ICAgICAgICAgIH1cblxuXHRcdCAgICAgICAgfVxuXHRcdCAgICB9XG5cdCAgICB9KTtcblxuXHQgICAgTWVyZ2VQYXRoSGlkZU5hbWVzLm9uRmluaXNoQ2hhbmdlKGZ1bmN0aW9uKHZhbCkge1xuXHQgICAgXHRpZiAodmFsID09IHRydWUpIHtcblx0ICAgIFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IE5vZGVNYW5hZ2VyTWVyZ2VQYXRocy5sZW5ndGg7IGkrKyl7XG5cblx0XHQgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBTRUxFQ1RFRF9NRVJHRVBBVEhJRFMubGVuZ3RoOyBqKyspe1xuXG5cdFx0ICAgICAgICAgICAgaWYgKFNFTEVDVEVEX01FUkdFUEFUSElEU1tqXSA9PT0gaSlcblx0XHQgICAgICAgICAgICAgIE5vZGVNYW5hZ2VyTWVyZ2VQYXRoc1tpXS50b2dnbGVOb2RlVGV4dFZpc2liaWxpdHkoZmFsc2UpO1xuXG5cdFx0ICAgICAgICAgIH1cblx0XHQgICAgICAgIH1cblx0ICAgIFx0fVxuXHQgICAgXHRlbHNlIHtcblx0ICAgIFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IE5vZGVNYW5hZ2VyTWVyZ2VQYXRocy5sZW5ndGg7IGkrKyl7XG5cblx0XHQgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBTRUxFQ1RFRF9NRVJHRVBBVEhJRFMubGVuZ3RoOyBqKyspe1xuXG5cdFx0ICAgICAgICAgICAgaWYgKFNFTEVDVEVEX01FUkdFUEFUSElEU1tqXSA9PT0gaSlcblx0XHQgICAgICAgICAgICAgIE5vZGVNYW5hZ2VyTWVyZ2VQYXRoc1tpXS50b2dnbGVOb2RlVGV4dFZpc2liaWxpdHkodHJ1ZSk7XG5cblx0XHQgICAgICAgICAgfVxuXHRcdCAgICAgICAgfVxuXHQgICAgXHR9XG5cdCAgICB9KTtcblxuXHQgICAgZ3VpLmFkZChSRU5ERVJPUFRJT05TLCAnUmVzdGFydCcpO1xuXG5cdH1cbiAgXHRzZXREYXRhR3VpSW5pdGlhbGl6ZSgpO1xufSk7IiwiXG5hbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb25maWcoZnVuY3Rpb24gKCRyb3V0ZVByb3ZpZGVyKXtcblx0JHJvdXRlUHJvdmlkZXJcblx0LndoZW4oJy9tZXJnZXBhdGhzJywgXG5cdFx0e1xuXHRcdFx0dGVtcGxhdGVVcmw6ICcvdGVtcGxhdGVzL21lcmdlcGF0aHMuaHRtbCcsXG5cdFx0XHRjb250cm9sbGVyOiAnTWVyZ2VQYXRoQ3RybCdcblx0XHR9KVxuXHQud2hlbignL2NsdXN0ZXJzJywgXG5cdFx0e1xuXHRcdFx0dGVtcGxhdGVVcmw6ICcvdGVtcGxhdGVzL2NsdXN0ZXJzLmh0bWwnLFxuXHRcdFx0Y29udHJvbGxlcjogJ0NsdXN0ZXJDdHJsJ1xuXHRcdH0pXG5cdC53aGVuKCcvaW50cm8nLCBcblx0XHR7XG5cdFx0XHR0ZW1wbGF0ZVVybDogJy90ZW1wbGF0ZXMvaW50cm8uaHRtbCcsXG5cdFx0XHRjb250cm9sbGVyOiAnSW50cm9DdHJsJ1xuXHRcdH0pXG5cdC5vdGhlcndpc2UoXG5cdFx0e1xuICAgXHRcdFx0cmVkaXJlY3RUbzogJy9pbnRybydcblx0XHR9KTtcblxufSk7XG4iLCJcbmFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbnRyb2xsZXIoJ0NsdXN0ZXJDdHJsJywgZnVuY3Rpb24oJHJvb3RTY29wZSwgJHNjb3BlLCAkd2luZG93KXtcblxuICBmdW5jdGlvbiBzZXRQYWdlTnVtKCl7XG4gICAgUEFHRV9OVU0udmFsdWUgPSAxOyAvLyAxIC0gY2x1c3RlclxuICB9XG4gIHNldFBhZ2VOdW0oKTtcblxuXG4gIGZ1bmN0aW9uIHNldFZpc2liaWxpdHkoKXtcbiAgICAkKCcuZGF0YS12aXNpYmlsaXR5JykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuICB9XG4gIHNldFZpc2liaWxpdHkoKTtcblxuXG4gICRzY29wZS51cGRhdGVNZWFuQWdlID0gZnVuY3Rpb24oKXtcbiAgICBpZiAoRlJBTUUudmFsdWUgPiA0MjAgfHwgUEFHRV9OVU0udmFsdWUgIT0gMSlcbiAgICAgIHJldHVybjtcblxuICB2YXIgbmV3TWVhbkFnZSA9IG1hcFJhbmdlKFswLCA0MDAuMF0sIFszOC4yLCA4MS4zXSwgRlJBTUUudmFsdWUpO1xuICAgICRzY29wZS5tZWFuQWdlLnZhbHVlID0gTWF0aC5jZWlsKG5ld01lYW5BZ2UpO1xuICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoJHNjb3BlLnVwZGF0ZU1lYW5BZ2UpO1xuICB9XG4gICRzY29wZS51cGRhdGVNZWFuQWdlKCk7XG5cblxuICAvLyByZXNldCBhbmltYXRpb24uXG4gICQoJyNidG4tcmVzZXQtY2x1c3RlcnMnKS5jbGljayhmdW5jdGlvbigpIHtcblxuICAgICRzY29wZS5yZXNldENsdXN0ZXJzKCk7XG5cbiAgfSk7XG5cbiAgLypcbiAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgJCgnI2NoZWNrYm94LWhpZGUtbm9kZXMtY2x1c3RlcnMnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgTm9kZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZU5vZGVWaXNpYmlsaXR5KHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAge1xuICAgICAgICBOb2RlTWFuYWdlckNsdXN0ZXIudG9nZ2xlTm9kZVZpc2liaWxpdHkoZmFsc2UpO1xuICAgICAgfVxuICB9KTtcbiAgKi9cblxuIFx0Ly9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgJCgnI2NoZWNrYm94X2NfYWxsJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIHRvZ2dsZVZhbCA9ICQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKTtcblxuXHRcdCQoJyNjaGVja2JveF9jMCcpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpO1xuXHRcdCQoJyNjaGVja2JveF9jMCcpLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHRcdCQoJyNjaGVja2JveF9jMScpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpO1xuXHRcdCQoJyNjaGVja2JveF9jMScpLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHRcdCQoJyNjaGVja2JveF9jMicpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpO1xuXHRcdCQoJyNjaGVja2JveF9jMicpLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHRcdCQoJyNjaGVja2JveF9jMycpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpOyBcblx0XHQkKCcjY2hlY2tib3hfYzMnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHQkKCcjY2hlY2tib3hfYzQnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTtcblx0XHQkKCcjY2hlY2tib3hfYzQnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHQkKCcjY2hlY2tib3hfYzUnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTtcblx0XHQkKCcjY2hlY2tib3hfYzUnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHQkKCcjY2hlY2tib3hfYzYnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTtcblx0XHQkKCcjY2hlY2tib3hfYzYnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHQkKCcjY2hlY2tib3hfYzcnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTsgXG5cdFx0JCgnI2NoZWNrYm94X2M3JykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0JCgnI2NoZWNrYm94X2M4JykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7XG5cdFx0JCgnI2NoZWNrYm94X2M4JykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0JCgnI2NoZWNrYm94X2M5JykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7XG5cdFx0JCgnI2NoZWNrYm94X2M5JykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0JCgnI2NoZWNrYm94X2MxMCcpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpO1xuXHRcdCQoJyNjaGVja2JveF9jMTAnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHQkKCcjY2hlY2tib3hfYzExJykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7IFxuXHRcdCQoJyNjaGVja2JveF9jMTEnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHQkKCcjY2hlY2tib3hfYzEyJykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7XG5cdFx0JCgnI2NoZWNrYm94X2MxMicpLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHRcdCQoJyNjaGVja2JveF9jMTMnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTtcblx0XHQkKCcjY2hlY2tib3hfYzEzJykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0JCgnI2NoZWNrYm94X2MxNCcpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpO1xuXHRcdCQoJyNjaGVja2JveF9jMTQnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHQkKCcjY2hlY2tib3hfYzE1JykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7IFxuXHRcdCQoJyNjaGVja2JveF9jMTUnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHQkKCcjY2hlY2tib3hfYzE2JykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7IFxuXHRcdCQoJyNjaGVja2JveF9jMTYnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHQkKCcjY2hlY2tib3hfYzE3JykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7IFxuXHRcdCQoJyNjaGVja2JveF9jMTcnKS50cmlnZ2VyKCdjaGFuZ2UnKTsgIFxuXG4gIH0pO1xuXG4gIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveF9jMCcpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigwLCB0cnVlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigwLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMCwgZmFsc2UpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDAsIGZhbHNlKTtcbiAgICAgIH1cbiAgfSk7XG5cbiAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveF9jMScpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxLCB0cnVlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMSwgZmFsc2UpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDEsIGZhbHNlKTtcbiAgICAgIH1cbiAgfSk7XG4gICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAkKCcjY2hlY2tib3hfYzInKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMiwgdHJ1ZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMiwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlXG4gICAgICB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDIsIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigyLCBmYWxzZSk7XG4gICAgICB9XG4gIH0pO1xuICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgJCgnI2NoZWNrYm94X2MzJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKFwiY2hlY2tib3ghXCIpO1xuICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDMsIHRydWUpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDMsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigzLCBmYWxzZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMywgZmFsc2UpO1xuICAgICAgfVxuICB9KTtcbiAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveF9jNCcpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig0LCB0cnVlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig0LCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNCwgZmFsc2UpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDQsIGZhbHNlKTtcbiAgICAgIH1cbiAgfSk7XG5cbiAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveF9jNScpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig1LCB0cnVlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig1LCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNSwgZmFsc2UpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDUsIGZhbHNlKTtcbiAgICAgIH1cbiAgfSk7XG5cbiAgICAgICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAkKCcjY2hlY2tib3hfYzYnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNiwgdHJ1ZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNiwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlXG4gICAgICB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDYsIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig2LCBmYWxzZSk7XG4gICAgICB9XG4gIH0pO1xuXG4gICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgJCgnI2NoZWNrYm94X2M3JykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKFwiY2hlY2tib3ghXCIpO1xuICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDcsIHRydWUpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDcsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig3LCBmYWxzZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNywgZmFsc2UpO1xuICAgICAgfVxuICB9KTtcblxuICAgICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveF9jOCcpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig4LCB0cnVlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig4LCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoOCwgZmFsc2UpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDgsIGZhbHNlKTtcbiAgICAgIH1cbiAgfSk7XG5cbiAgICAgICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAkKCcjY2hlY2tib3hfYzknKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoOSwgdHJ1ZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoOSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlXG4gICAgICB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDksIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig5LCBmYWxzZSk7XG4gICAgICB9XG4gIH0pO1xuXG4gICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgJCgnI2NoZWNrYm94X2MxMCcpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMCwgdHJ1ZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTAsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMCwgZmFsc2UpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDEwLCBmYWxzZSk7XG4gICAgICB9XG4gIH0pO1xuXG4gICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgJCgnI2NoZWNrYm94X2MxMScpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMSwgdHJ1ZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTEsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMSwgZmFsc2UpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDExLCBmYWxzZSk7XG4gICAgICB9XG4gIH0pO1xuXG4gICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgJCgnI2NoZWNrYm94X2MxMicpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMiwgdHJ1ZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTIsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMiwgZmFsc2UpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDEyLCBmYWxzZSk7XG4gICAgICB9XG4gIH0pO1xuXG4gICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgJCgnI2NoZWNrYm94X2MxMycpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMywgdHJ1ZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTMsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMywgZmFsc2UpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDEzLCBmYWxzZSk7XG4gICAgICB9XG4gIH0pO1xuXG4gICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgJCgnI2NoZWNrYm94X2MxNCcpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNCwgdHJ1ZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTQsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNCwgZmFsc2UpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDE0LCBmYWxzZSk7XG4gICAgICB9XG4gIH0pO1xuICAgICAgICAgICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAkKCcjY2hlY2tib3hfYzE1JykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKFwiY2hlY2tib3ghXCIpO1xuICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDE1LCB0cnVlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlXG4gICAgICB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDE1LCBmYWxzZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTUsIGZhbHNlKTtcbiAgICAgIH1cbiAgfSk7XG4gICAgICAgICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveF9jMTYnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTYsIHRydWUpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDE2LCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTYsIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNiwgZmFsc2UpO1xuICAgICAgfVxuICB9KTtcblxuICAgICAgICAgICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgJCgnI2NoZWNrYm94X2MxNycpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNywgdHJ1ZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTcsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNywgZmFsc2UpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDE3LCBmYWxzZSk7XG4gICAgICB9XG4gIH0pO1xuXG59KTsiLCJcbmFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbnRyb2xsZXIoJ0ludHJvQ3RybCcsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRzY29wZSwgJHdpbmRvdyl7XG5cblx0ZnVuY3Rpb24gc2V0UGFnZU51bSgpe1xuICAgIFx0UEFHRV9OVU0udmFsdWUgPSAwO1xuICBcdH1cbiAgXHRzZXRQYWdlTnVtKCk7XG5cblxuXHRmdW5jdGlvbiBzZXRWaXNpYmlsaXR5KCl7XG5cdFx0JCgnLmRhdGEtdmlzaWJpbGl0eScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblx0fVxuXHRzZXRWaXNpYmlsaXR5KCk7XG5cbn0pOyIsIlxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignTWVyZ2VQYXRoQ3RybCcsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRzY29wZSwgJHdpbmRvdyl7XG5cbiAgZnVuY3Rpb24gc2V0UGFnZU51bSgpe1xuXG4gICAgUEFHRV9OVU0udmFsdWUgPSAyO1xuXG4gIH1cbiAgc2V0UGFnZU51bSgpO1xuXG4gIGZ1bmN0aW9uIHNldFZpc2liaWxpdHkoKXtcblxuICAgICQoJy5kYXRhLXZpc2liaWxpdHknKS5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgfVxuICBzZXRWaXNpYmlsaXR5KCk7XG5cblxuXG4gIC8vIHJlc2V0IGFuaW1hdGlvbi5cbiAgJCgnI2J0bi1yZXNldC1tZXJnZXBhdGhzJykuY2xpY2soZnVuY3Rpb24oKSB7XG5cbiAgICAkc2NvcGUucmVzZXRNZXJnZVBhdGhzKCk7IFxuXG4gIH0pO1xuXG5cblxuICAkKCcjYnRuLXJ1bi1tZXJnZXBhdGhzJykuY2xpY2soZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRleHRpbmZvLW1lcmdlcGF0aGlkc1wiKS52YWx1ZTtcbiAgICB2YXIgYXJyYXkgPSBpbnB1dC5zcGxpdCgnICcpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKyl7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBtZXJnZVBhdGhJZCA9IHBhcnNlSW50KGFycmF5W2ldKTtcbiAgICAgICAgaWYgKGlzTmFOKG1lcmdlUGF0aElkKSl7XG4gICAgICAgICAgZGVsZXRlIGFycmF5W2ldO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFycmF5W2ldID0gbWVyZ2VQYXRoSWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNhdGNoKGVycikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKCdTaG93IG1lcmdlcGF0aGlkcyA6ICcsIGFycmF5KTtcbiAgICAkc2NvcGUuY2xlYW5NZXJnZVBhdGhzKCk7XG4gICAgU0VMRUNURURfTUVSR0VQQVRISURTID0gYXJyYXk7XG4gICAgJHNjb3BlLm1lcmdlUGF0aElkcy52YWx1ZSA9IGFycmF5O1xuICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAkc2NvcGUucmVzZXRNZXJnZVBhdGhzKCk7XG4gIH0pXG5cbiAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgLypcbiAgJCgnI2NoZWNrYm94LWhpZGUtbm9kZXMtbWVyZ2VwYXRocycpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuXG4gICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5vZGVNYW5hZ2VyTWVyZ2VQYXRocy5sZW5ndGg7IGkrKyl7XG5cbiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IFNFTEVDVEVEX01FUkdFUEFUSElEUy5sZW5ndGg7IGorKyl7XG5cbiAgICAgICAgICAgIGlmIChTRUxFQ1RFRF9NRVJHRVBBVEhJRFNbal0gPT09IGkpXG4gICAgICAgICAgICAgIE5vZGVNYW5hZ2VyTWVyZ2VQYXRoc1tpXS50b2dnbGVOb2RlVmlzaWJpbGl0eSh0cnVlKTtcblxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgIH1cbiAgICAgICAgXG4gICAgICB9XG4gICAgICBlbHNlXG4gICAgICB7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOb2RlTWFuYWdlck1lcmdlUGF0aHMubGVuZ3RoOyBpKyspe1xuXG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBTRUxFQ1RFRF9NRVJHRVBBVEhJRFMubGVuZ3RoOyBqKyspe1xuXG4gICAgICAgICAgICBpZiAoU0VMRUNURURfTUVSR0VQQVRISURTW2pdID09PSBpKVxuICAgICAgICAgICAgICBOb2RlTWFuYWdlck1lcmdlUGF0aHNbaV0udG9nZ2xlTm9kZVZpc2liaWxpdHkoZmFsc2UpO1xuXG4gICAgICAgICAgfVxuXG4gICAgICAgICB9XG5cbiAgICAgIH1cbiAgfSk7XG4qL1xuXG4gIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveC1oaWRlLW5hbWVzLW1lcmdlcGF0aHMnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcblxuICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOb2RlTWFuYWdlck1lcmdlUGF0aHMubGVuZ3RoOyBpKyspe1xuXG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBTRUxFQ1RFRF9NRVJHRVBBVEhJRFMubGVuZ3RoOyBqKyspe1xuXG4gICAgICAgICAgICBpZiAoU0VMRUNURURfTUVSR0VQQVRISURTW2pdID09PSBpKVxuICAgICAgICAgICAgICBOb2RlTWFuYWdlck1lcmdlUGF0aHNbaV0udG9nZ2xlTm9kZVRleHRWaXNpYmlsaXR5KHRydWUpO1xuXG4gICAgICAgICAgfVxuXG4gICAgICAgICB9XG4gICAgICAgIFxuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAge1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTm9kZU1hbmFnZXJNZXJnZVBhdGhzLmxlbmd0aDsgaSsrKXtcblxuICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgU0VMRUNURURfTUVSR0VQQVRISURTLmxlbmd0aDsgaisrKXtcblxuICAgICAgICAgICAgaWYgKFNFTEVDVEVEX01FUkdFUEFUSElEU1tqXSA9PT0gaSlcbiAgICAgICAgICAgICAgTm9kZU1hbmFnZXJNZXJnZVBhdGhzW2ldLnRvZ2dsZU5vZGVUZXh0VmlzaWJpbGl0eShmYWxzZSk7XG5cbiAgICAgICAgICB9XG5cbiAgICAgICAgIH1cblxuICAgICAgfVxuICB9KTtcbiAgXG59KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=