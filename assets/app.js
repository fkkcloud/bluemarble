angular.module("app",["ngRoute"]),angular.module("app").controller("ApplicationCtrl",["$rootScope","$scope","$window",function(e,c,o){function t(){var e=function(){this.AdditiveColor=!0,this.Restart=function(){location.reload()},this.HideNodes=!1,this.HideNames=!1};RENDEROPTIONS=new e;var c=new dat.GUI,o=c.addFolder("Clusters"),t=o.add(RENDEROPTIONS,"HideNodes"),r=c.addFolder("MergePaths"),g=r.add(RENDEROPTIONS,"HideNodes"),a=r.add(RENDEROPTIONS,"HideNames");t.onFinishChange(function(e){NodeManagerCluster.toggleNodeVisibility(1==e?!1:!0)}),g.onFinishChange(function(e){if(1==e)for(var c=0;c<NodeManagerMergePaths.length;c++)for(var o=0;o<SELECTED_MERGEPATHIDS.length;o++)SELECTED_MERGEPATHIDS[o]===c&&NodeManagerMergePaths[c].toggleNodeVisibility(!1);else for(var c=0;c<NodeManagerMergePaths.length;c++)for(var o=0;o<SELECTED_MERGEPATHIDS.length;o++)SELECTED_MERGEPATHIDS[o]===c&&NodeManagerMergePaths[c].toggleNodeVisibility(!0)}),a.onFinishChange(function(e){if(1==e)for(var c=0;c<NodeManagerMergePaths.length;c++)for(var o=0;o<SELECTED_MERGEPATHIDS.length;o++)SELECTED_MERGEPATHIDS[o]===c&&NodeManagerMergePaths[c].toggleNodeTextVisibility(!1);else for(var c=0;c<NodeManagerMergePaths.length;c++)for(var o=0;o<SELECTED_MERGEPATHIDS.length;o++)SELECTED_MERGEPATHIDS[o]===c&&NodeManagerMergePaths[c].toggleNodeTextVisibility(!0)}),c.add(RENDEROPTIONS,"Restart")}c.meanAge={value:0},c.mergePathIds={value:[0]},$(window).resize(function(){this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){$(this).trigger("resizeEnd")},200)}),$(window).bind("resizeEnd",function(){location.reload()}),c.resetClusters=function(){FRAME.value=0,PAGE_NUM.value=1,c.meanAge=48,TWEEN.removeAll(),EdgeManagerCluster.reset(),NodeManagerCluster.reset()},c.cleanMergePaths=function(){for(var e=0;e<NodeManagerMergePaths.length;e++)for(var c=0;c<SELECTED_MERGEPATHIDS.length;c++)SELECTED_MERGEPATHIDS[c]==e&&NodeManagerMergePaths[e].clean()},c.resetMergePaths=function(){FRAME.value=0,PAGE_NUM.value=2,TWEEN.removeAll();for(var e=0;e<NodeManagerMergePaths.length;e++)for(var c=0;c<SELECTED_MERGEPATHIDS.length;c++)SELECTED_MERGEPATHIDS[c]==e&&(NodeManagerMergePaths[e].reset(),EdgeManagerMergePaths[e].reset())},t()}]),angular.module("app").config(["$routeProvider",function(e){e.when("/mergepaths",{templateUrl:"/templates/mergepaths.html",controller:"MergePathCtrl"}).when("/clusters",{templateUrl:"/templates/clusters.html",controller:"ClusterCtrl"}).when("/intro",{templateUrl:"/templates/intro.html",controller:"IntroCtrl"}).otherwise({redirectTo:"/intro"})}]),angular.module("app").controller("ClusterCtrl",["$rootScope","$scope","$window",function(e,c,o){function t(){PAGE_NUM.value=1}function r(){$(".data-visibility").addClass("active")}t(),r(),c.updateMeanAge=function(){if(!(FRAME.value>420||1!=PAGE_NUM.value)){var e=mapRange([0,400],[38.2,81.3],FRAME.value);c.meanAge.value=Math.ceil(e),c.$apply(),requestAnimationFrame(c.updateMeanAge)}},c.updateMeanAge(),$("#btn-reset-clusters").click(function(){c.resetClusters()}),$("#checkbox_c_all").change(function(){var e=$(this).is(":checked");$("#checkbox_c0").prop("checked",e),$("#checkbox_c0").trigger("change"),$("#checkbox_c1").prop("checked",e),$("#checkbox_c1").trigger("change"),$("#checkbox_c2").prop("checked",e),$("#checkbox_c2").trigger("change"),$("#checkbox_c3").prop("checked",e),$("#checkbox_c3").trigger("change"),$("#checkbox_c4").prop("checked",e),$("#checkbox_c4").trigger("change"),$("#checkbox_c5").prop("checked",e),$("#checkbox_c5").trigger("change"),$("#checkbox_c6").prop("checked",e),$("#checkbox_c6").trigger("change"),$("#checkbox_c7").prop("checked",e),$("#checkbox_c7").trigger("change"),$("#checkbox_c8").prop("checked",e),$("#checkbox_c8").trigger("change"),$("#checkbox_c9").prop("checked",e),$("#checkbox_c9").trigger("change"),$("#checkbox_c10").prop("checked",e),$("#checkbox_c10").trigger("change"),$("#checkbox_c11").prop("checked",e),$("#checkbox_c11").trigger("change"),$("#checkbox_c12").prop("checked",e),$("#checkbox_c12").trigger("change"),$("#checkbox_c13").prop("checked",e),$("#checkbox_c13").trigger("change"),$("#checkbox_c14").prop("checked",e),$("#checkbox_c14").trigger("change"),$("#checkbox_c15").prop("checked",e),$("#checkbox_c15").trigger("change"),$("#checkbox_c16").prop("checked",e),$("#checkbox_c16").trigger("change"),$("#checkbox_c17").prop("checked",e),$("#checkbox_c17").trigger("change")}),$("#checkbox_c0").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(0,!0):EdgeManagerCluster.toggleShowByCluster(0,!1)}),$("#checkbox_c1").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(1,!0):EdgeManagerCluster.toggleShowByCluster(1,!1)}),$("#checkbox_c2").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(2,!0):EdgeManagerCluster.toggleShowByCluster(2,!1)}),$("#checkbox_c3").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(3,!0):EdgeManagerCluster.toggleShowByCluster(3,!1)}),$("#checkbox_c4").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(4,!0):EdgeManagerCluster.toggleShowByCluster(4,!1)}),$("#checkbox_c5").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(5,!0):EdgeManagerCluster.toggleShowByCluster(5,!1)}),$("#checkbox_c6").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(6,!0):EdgeManagerCluster.toggleShowByCluster(6,!1)}),$("#checkbox_c7").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(7,!0):EdgeManagerCluster.toggleShowByCluster(7,!1)}),$("#checkbox_c8").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(8,!0):EdgeManagerCluster.toggleShowByCluster(8,!1)}),$("#checkbox_c9").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(9,!0):EdgeManagerCluster.toggleShowByCluster(9,!1)}),$("#checkbox_c10").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(10,!0):EdgeManagerCluster.toggleShowByCluster(10,!1)}),$("#checkbox_c11").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(11,!0):EdgeManagerCluster.toggleShowByCluster(11,!1)}),$("#checkbox_c12").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(12,!0):EdgeManagerCluster.toggleShowByCluster(12,!1)}),$("#checkbox_c13").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(13,!0):EdgeManagerCluster.toggleShowByCluster(13,!1)}),$("#checkbox_c14").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(14,!0):EdgeManagerCluster.toggleShowByCluster(14,!1)}),$("#checkbox_c15").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(15,!0):EdgeManagerCluster.toggleShowByCluster(15,!1)}),$("#checkbox_c16").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(16,!0):EdgeManagerCluster.toggleShowByCluster(16,!1)}),$("#checkbox_c17").change(function(){console.log("checkbox!"),$(this).is(":checked")?EdgeManagerCluster.toggleShowByCluster(17,!0):EdgeManagerCluster.toggleShowByCluster(17,!1)})}]),angular.module("app").controller("IntroCtrl",["$rootScope","$scope","$window",function(e,c,o){function t(){PAGE_NUM.value=0}function r(){$(".data-visibility").removeClass("active")}t(),r()}]),angular.module("app").controller("MergePathCtrl",["$rootScope","$scope","$window",function(e,c,o){function t(){PAGE_NUM.value=2}function r(){$(".data-visibility").addClass("active")}t(),r(),$("#btn-reset-mergepaths").click(function(){c.resetMergePaths()}),$("#btn-run-mergepaths").click(function(){for(var e=document.getElementById("textinfo-mergepathids").value,o=e.split(" "),t=0;t<o.length;t++)try{var r=parseInt(o[t]);isNaN(r)?delete o[t]:o[t]=r}catch(g){return void console.log(g)}console.log("Show mergepathids : ",o),c.cleanMergePaths(),SELECTED_MERGEPATHIDS=o,c.mergePathIds.value=o,c.$apply(),c.resetMergePaths()}),$("#checkbox-hide-names-mergepaths").change(function(){if($(this).is(":checked"))for(var e=0;e<NodeManagerMergePaths.length;e++)for(var c=0;c<SELECTED_MERGEPATHIDS.length;c++)SELECTED_MERGEPATHIDS[c]===e&&NodeManagerMergePaths[e].toggleNodeTextVisibility(!0);else for(var e=0;e<NodeManagerMergePaths.length;e++)for(var c=0;c<SELECTED_MERGEPATHIDS.length;c++)SELECTED_MERGEPATHIDS[c]===e&&NodeManagerMergePaths[e].toggleNodeTextVisibility(!1)})}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwcGxpY2F0aW9uLmN0cmwuanMiLCJyb3V0ZXMuanMiLCJDb250cm9sbGVycy9jbHVzdGVyLmN0cmwuanMiLCJDb250cm9sbGVycy9pbnRyby5jdHJsLmpzIiwiQ29udHJvbGxlcnMvbWVyZ2VwYXRoLmN0cmwuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCIkcm9vdFNjb3BlIiwiJHNjb3BlIiwiJHdpbmRvdyIsInNldERhdGFHdWlJbml0aWFsaXplIiwicmVuZGVyT3B0aW9uc1VJIiwidGhpcyIsIkFkZGl0aXZlQ29sb3IiLCJSZXN0YXJ0IiwibG9jYXRpb24iLCJyZWxvYWQiLCJIaWRlTm9kZXMiLCJIaWRlTmFtZXMiLCJSRU5ERVJPUFRJT05TIiwiZ3VpIiwiZGF0IiwiR1VJIiwiQ2x1c3RlcnNHcnAiLCJhZGRGb2xkZXIiLCJDbHVzdGVySGlkZU5vZGVzIiwiYWRkIiwiTWVyZ2VQYXRoR3JwIiwiTWVyZ2VQYXRoSGlkZU5vZGVzIiwiTWVyZ2VQYXRoSGlkZU5hbWVzIiwib25GaW5pc2hDaGFuZ2UiLCJ2YWwiLCJOb2RlTWFuYWdlckNsdXN0ZXIiLCJ0b2dnbGVOb2RlVmlzaWJpbGl0eSIsImkiLCJOb2RlTWFuYWdlck1lcmdlUGF0aHMiLCJsZW5ndGgiLCJqIiwiU0VMRUNURURfTUVSR0VQQVRISURTIiwidG9nZ2xlTm9kZVRleHRWaXNpYmlsaXR5IiwibWVhbkFnZSIsInZhbHVlIiwibWVyZ2VQYXRoSWRzIiwiJCIsIndpbmRvdyIsInJlc2l6ZSIsInJlc2l6ZVRPIiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsInRyaWdnZXIiLCJiaW5kIiwicmVzZXRDbHVzdGVycyIsIkZSQU1FIiwiUEFHRV9OVU0iLCJUV0VFTiIsInJlbW92ZUFsbCIsIkVkZ2VNYW5hZ2VyQ2x1c3RlciIsInJlc2V0IiwiY2xlYW5NZXJnZVBhdGhzIiwiY2xlYW4iLCJyZXNldE1lcmdlUGF0aHMiLCJFZGdlTWFuYWdlck1lcmdlUGF0aHMiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsIm90aGVyd2lzZSIsInJlZGlyZWN0VG8iLCJzZXRQYWdlTnVtIiwic2V0VmlzaWJpbGl0eSIsImFkZENsYXNzIiwidXBkYXRlTWVhbkFnZSIsIm5ld01lYW5BZ2UiLCJtYXBSYW5nZSIsIk1hdGgiLCJjZWlsIiwiJGFwcGx5IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2xpY2siLCJjaGFuZ2UiLCJ0b2dnbGVWYWwiLCJpcyIsInByb3AiLCJjb25zb2xlIiwibG9nIiwidG9nZ2xlU2hvd0J5Q2x1c3RlciIsInJlbW92ZUNsYXNzIiwiaW5wdXQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiYXJyYXkiLCJzcGxpdCIsIm1lcmdlUGF0aElkIiwicGFyc2VJbnQiLCJpc05hTiIsImVyciJdLCJtYXBwaW5ncyI6IkFBQ0FBLFFBQUFDLE9BQUEsT0FDQSxZQ0RBRCxRQUFBQyxPQUFBLE9BQ0FDLFdBQUEsbUJBQUEsYUFBQSxTQUFBLFVBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FtRUEsUUFBQUMsS0FFQSxHQUFBQyxHQUFBLFdBRUFDLEtBQUFDLGVBQUEsRUFFQUQsS0FBQUUsUUFBQSxXQUdBQyxTQUFBQyxVQUlBSixLQUFBSyxXQUFBLEVBRUFMLEtBQUFNLFdBQUEsRUFJQUMsZUFBQSxHQUFBUixFQUNBLElBQUFTLEdBQUEsR0FBQUMsS0FBQUMsSUFFQUMsRUFBQUgsRUFBQUksVUFBQSxZQUNBQyxFQUFBRixFQUFBRyxJQUFBUCxjQUFBLGFBRUFRLEVBQUFQLEVBQUFJLFVBQUEsY0FDQUksRUFBQUQsRUFBQUQsSUFBQVAsY0FBQSxhQUNBVSxFQUFBRixFQUFBRCxJQUFBUCxjQUFBLFlBRUFNLEdBQUFLLGVBQUEsU0FBQUMsR0FFQUMsbUJBQUFDLHFCQURBLEdBQUFGLEdBQ0EsR0FHQSxLQUlBSCxFQUFBRSxlQUFBLFNBQUFDLEdBQ0EsR0FBQSxHQUFBQSxFQUNBLElBQUEsR0FBQUcs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RCxFQUFBK0QsZ0JBSUE1QixFQUFBLHVCQUFBbUMsTUFBQSxXQUVBdEUsRUFBQTJDLGtCQWtCQVIsRUFBQSxtQkFBQW9DLE9BQUEsV0FFQSxHQUFBQyxHQUFBckMsRUFBQS9CLE1BQUFxRSxHQUFBLFdBRUF0QyxHQUFBLGdCQUFBdUMsS0FBQSxVQUFBRixHQUNBckMsRUFBQSxnQkFBQU0sUUFBQSxVQUNBTixFQUFBLGdCQUFBdUMsS0FBQSxVQUFBRixHQUNBckMsRUFBQSxnQkFBQU0sUUFBQSxVQUNBTixFQUFBLGdCQUFBdUMsS0FBQSxVQUFBRixHQUNBckMsRUFBQSxnQkFBQU0sUUFBQSxVQUNBTixFQUFBLGdCQUFBdUMsS0FBQSxVQUFBRixHQUNBckMsRUFBQSxnQkFBQU0sUUFBQSxVQUNBTixFQUFBLGdCQUFBdUMsS0FBQSxVQUFBRixHQUNBckMsRUFBQSxnQkFBQU0sUUFBQSxVQUNBTixFQUFBLGdCQUFBdUMsS0FBQSxVQUFBRixHQUNBckMsRUFBQSxnQkFBQU0sUUFBQSxVQUNBTixFQUFBLGdCQUFBdUMsS0FBQSxVQUFBRixHQUNBckMsRUFBQSxnQkFBQU0sUUFBQSxVQUNBTixFQUFBLGdCQUFBdUMsS0FBQSxVQUFBRixHQUNBckMsRUFBQSxnQkFBQU0sUUFBQSxVQUNBTixFQUFBLGdCQUFBdUMsS0FBQSxVQUFBRixHQUNBckMsRUFBQSxnQkFBQU0sUUFBQSxVQUNBTixFQUFBLGdCQUFBdUMsS0FBQSxVQUFBRixHQUNBckMsRUFBQSxnQkFBQU0sUUFBQSxVQUNBTixFQUFBLGlCQUFBdUMsS0FBQSxVQUFBRixHQUNBckMsRUFBQSxpQkFBQU0sUUFBQSxVQUNBTixFQUFBLGlCQUFBdUMsS0FBQSxVQUFBRixHQUNBckMsRUFBQSxpQkFBQU0sUUFBQSxVQUNBTixFQUFBLGlCQUFBdUMsS0FBQSxVQUFBRixHQUNBckMsRUFBQSxpQkFBQU0sUUFBQSxVQUNBTixFQUFBLGlCQUFBdUMsS0FBQSxVQUFBRixHQUNBckMsRUFBQSxpQkFBQU0sUUFBQSxVQUNBTixFQUFBLGlCQUFBdUMsS0FBQSxVQUFBRixHQUNBckMsRUFBQSxpQkFBQU0sUUFBQSxVQUNBTixFQUFBLGlCQUFBdUMsS0FBQSxVQUFBRixHQUNBckMsRUFBQSxpQkFBQU0sUUFBQSxVQUNBTixFQUFBLGlCQUFBdUMsS0FBQSxVQUFBRixHQUNBckMsRUFBQSxpQkFBQU0sUUFBQSxVQUNBTixFQUFBLGlCQUFBdUMsS0FBQSxVQUFBRixHQUNBckMsRUFBQSxpQkFBQU0sUUFBQSxZQUtBTixFQUFBLGdCQUFBb0MsT0FBQSxXQUNBSSxRQUFBQyxJQUFBLGFBQ0F6QyxFQUFBL0IsTUFBQXFFLEdBQUEsWUFDQXpCLG1CQUFBNkIsb0JBQUEsR0FBQSxHQUtBN0IsbUJBQUE2QixvQkFBQSxHQUFBLEtBTUExQyxFQUFBLGdCQUFBb0MsT0FBQSxXQUNBSSxRQUFBQyxJQUFBLGFBQ0F6QyxFQUFBL0IsTUFBQXFFLEdBQUEsWUFDQXpCLG1CQUFBNkIsb0JBQUEsR0FBQSxHQUtBN0IsbUJBQUE2QixvQkFBQSxHQUFBLEtBS0ExQyxFQUFBLGdCQUFBb0MsT0FBQSxXQUNBSSxRQUFBQyxJQUFBLGFBQ0F6QyxFQUFBL0IsTUFBQXFFLEdBQUEsWUFDQXpCLG1CQUFBNkIsb0JBQUEsR0FBQSxHQUtBN0IsbUJBQUE2QixvQkFBQSxHQUFBLEtBS0ExQyxFQUFBLGdCQUFBb0MsT0FBQSxXQUNBSSxRQUFBQyxJQUFBLGFBQ0F6QyxFQUFBL0IsTUFBQXFFLEdBQUEsWUFDQXpCLG1CQUFBNkIsb0JBQUEsR0FBQSxHQUtBN0IsbUJBQUE2QixvQkFBQSxHQUFBLEtBS0ExQyxFQUFBLGdCQUFBb0MsT0FBQSxXQUNBSSxRQUFBQyxJQUFBLGFBQ0F6QyxFQUFBL0IsTUFBQXFFLEdBQUEsWUFDQXpCLG1CQUFBNkIsb0JBQUEsR0FBQSxHQUtBN0IsbUJBQUE2QixvQkFBQSxHQUFBLEtBTUExQyxFQUFBLGdCQUFBb0MsT0FBQSxXQUNBSSxRQUFBQyxJQUFBLGFBQ0F6QyxFQUFBL0IsTUFBQXFFLEdBQUEsWUFDQXpCLG1CQUFBNkIsb0JBQUEsR0FBQSxHQUtBN0IsbUJBQUE2QixvQkFBQSxHQUFBLEtBTUExQyxFQUFBLGdCQUFBb0MsT0FBQSxXQUNBSSxRQUFBQyxJQUFBLGFBQ0F6QyxFQUFBL0IsTUFBQXFFLEdBQUEsWUFDQXpCLG1CQUFBNkIsb0JBQUEsR0FBQSxHQUtBN0IsbUJBQUE2QixvQkFBQSxHQUFBLEtBTUExQyxFQUFBLGdCQUFBb0MsT0FBQSxXQUNBSSxRQUFBQyxJQUFBLGFBQ0F6QyxFQUFBL0IsTUFBQXFFLEdBQUEsWUFDQXpCLG1CQUFBNkIsb0JBQUEsR0FBQSxHQUtBN0IsbUJBQUE2QixvQkFBQSxHQUFBLEtBTUExQyxFQUFBLGdCQUFBb0MsT0FBQSxXQUNBSSxRQUFBQyxJQUFBLGFBQ0F6QyxFQUFBL0IsTUFBQXFFLEdBQUEsWUFDQXpCLG1CQUFBNkIsb0JBQUEsR0FBQSxHQUtBN0IsbUJBQUE2QixvQkFBQSxHQUFBLEtBTUExQyxFQUFBLGdCQUFBb0MsT0FBQSxXQUNBSSxRQUFBQyxJQUFBLGFBQ0F6QyxFQUFBL0IsTUFBQXFFLEdBQUEsWUFDQXpCLG1CQUFBNkIsb0JBQUEsR0FBQSxHQUtBN0IsbUJBQUE2QixvQkFBQSxHQUFBLEtBTUExQyxFQUFBLGlCQUFBb0MsT0FBQSxXQUNBSSxRQUFBQyxJQUFBLGFBQ0F6QyxFQUFBL0IsTUFBQXFFLEdBQUEsWUFDQXpCLG1CQUFBNkIsb0JBQUEsSUFBQSxHQUtBN0IsbUJBQUE2QixvQkFBQSxJQUFBLEtBTUExQyxFQUFBLGlCQUFBb0MsT0FBQSxXQUNBSSxRQUFBQyxJQUFBLGFBQ0F6QyxFQUFBL0IsTUFBQXFFLEdBQUEsWUFDQXpCLG1CQUFBNkIsb0JBQUEsSUFBQSxHQUtBN0IsbUJBQUE2QixvQkFBQSxJQUFBLEtBTUExQyxFQUFBLGlCQUFBb0MsT0FBQSxXQUNBSSxRQUFBQyxJQUFBLGFBQ0F6QyxFQUFBL0IsTUFBQXFFLEdBQUEsWUFDQXpCLG1CQUFBNkIsb0JBQUEsSUFBQSxHQUtBN0IsbUJBQUE2QixvQkFBQSxJQUFBLEtBTUExQyxFQUFBLGlCQUFBb0MsT0FBQSxXQUNBSSxRQUFBQyxJQUFBLGFBQ0F6QyxFQUFBL0IsTUFBQXFFLEdBQUEsWUFDQXpCLG1CQUFBNkIsb0JBQUEsSUFBQSxHQUtBN0IsbUJBQUE2QixvQkFBQSxJQUFBLEtBTUExQyxFQUFBLGlCQUFBb0MsT0FBQSxXQUNBSSxRQUFBQyxJQUFBLGFBQ0F6QyxFQUFBL0IsTUFBQXFFLEdBQUEsWUFDQXpCLG1CQUFBNkIsb0JBQUEsSUFBQSxHQUtBN0IsbUJBQUE2QixvQkFBQSxJQUFBLEtBS0ExQyxFQUFBLGlCQUFBb0MsT0FBQSxXQUNBSSxRQUFBQyxJQUFBLGFBQ0F6QyxFQUFBL0IsTUFBQXFFLEdBQUEsWUFDQXpCLG1CQUFBNkIsb0JBQUEsSUFBQSxHQUtBN0IsbUJBQUE2QixvQkFBQSxJQUFBLEtBS0ExQyxFQUFBLGlCQUFBb0MsT0FBQSxXQUNBSSxRQUFBQyxJQUFBLGFBQ0F6QyxFQUFBL0IsTUFBQXFFLEdBQUEsWUFDQXpCLG1CQUFBNkIsb0JBQUEsSUFBQSxHQUtBN0IsbUJBQUE2QixvQkFBQSxJQUFBLEtBTUExQyxFQUFBLGlCQUFBb0MsT0FBQSxXQUNBSSxRQUFBQyxJQUFBLGFBQ0F6QyxFQUFBL0IsTUFBQXFFLEdBQUEsWUFDQXpCLG1CQUFBNkIsb0JBQUEsSUFBQSxHQUtBN0IsbUJBQUE2QixvQkFBQSxJQUFBLFFDN1VBakYsUUFBQUMsT0FBQSxPQUNBQyxXQUFBLGFBQUEsYUFBQSxTQUFBLFVBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FFQSxRQUFBMkQsS0FDQWYsU0FBQVosTUFBQSxFQUtBLFFBQUE0QixLQUNBMUIsRUFBQSxvQkFBQTJDLFlBQUEsVUFKQWxCLElBTUFDLE9DWkFqRSxRQUFBQyxPQUFBLE9BQ0FDLFdBQUEsaUJBQUEsYUFBQSxTQUFBLFVBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FFQSxRQUFBMkQsS0FFQWYsU0FBQVosTUFBQSxFQUtBLFFBQUE0QixLQUVBMUIsRUFBQSxvQkFBQTJCLFNBQUEsVUFKQUYsSUFPQUMsSUFLQTFCLEVBQUEseUJBQUFtQyxNQUFBLFdBRUF0RSxFQUFBb0Qsb0JBTUFqQixFQUFBLHVCQUFBbUMsTUFBQSxXQUtBLElBQUEsR0FIQVMsR0FBQUMsU0FBQUMsZUFBQSx5QkFBQWhELE1BQ0FpRCxFQUFBSCxFQUFBSSxNQUFBLEtBRUF6RCxFQUFBLEVBQUFBLEVBQUF3RCxFQUFBdEQsT0FBQUYsSUFFQSxJQUNBLEdBQUEwRCxHQUFBQyxTQUFBSCxFQUFBeEQsR0FDQTRELE9BQUFGLFNBQ0FGLEdBQUF4RCxHQUVBd0QsRUFBQXhELEdBQUEwRCxFQUdBLE1BQUFHLEdBRUEsV0FEQVosU0FBQUMsSUFBQVcsR0FJQVosUUFBQUMsSUFBQSx1QkFBQU0sR0FDQWxGLEVBQUFrRCxrQkFDQXBCLHNCQUFBb0QsRUFDQWxGLEVBQUFrQyxhQUFBRCxNQUFBaUQsRUFDQWxGLEVBQUFvRSxTQUNBcEUsRUFBQW9ELG9CQXVDQWpCLEVBQUEsbUNBQUFvQyxPQUFBLFdBQ0EsR0FBQXBDLEVBQUEvQixNQUFBcUUsR0FBQSxZQUVBLElBQUEsR0FBQS9DLEdBQUEsRUFBQUEsRUFBQUMsc0JBQUFDLE9BQUFGLElBRUEsSUFBQSxHQUFBRyxHQUFBLEVBQUFBLEVBQUFDLHNCQUFBRixPQUFBQyxJQUVBQyxzQkFBQUQsS0FBQUgsR0FDQUMsc0JBQUFELEdBQUFLLDBCQUFBLE9BVUEsS0FBQSxHQUFBTCxHQUFBLEVBQUFBLEVBQUFDLHNCQUFBQyxPQUFBRixJQUVBLElBQUEsR0FBQUcsR0FBQSxFQUFBQSxFQUFBQyxzQkFBQUYsT0FBQUMsSUFFQUMsc0JBQUFELEtBQUFILEdBQ0FDLHNCQUFBRCxHQUFBSywwQkFBQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmFuZ3VsYXIubW9kdWxlKCdhcHAnLCBbXG5cdCduZ1JvdXRlJyxcbl0pO1xuIiwiXG5hbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdBcHBsaWNhdGlvbkN0cmwnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsICR3aW5kb3cpe1xuXHQkc2NvcGUubWVhbkFnZSA9IHsgdmFsdWUgOiAwIH07XG5cdCRzY29wZS5tZXJnZVBhdGhJZHMgPSB7IHZhbHVlIDogWzBdfTtcblxuXHQvLyBhcyByZXNpemUsIHJlLWluaXQgZGF0YXNcblx0JCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpIHtcbiAgICBpZih0aGlzLnJlc2l6ZVRPKSBjbGVhclRpbWVvdXQodGhpcy5yZXNpemVUTyk7XG5cdCAgICB0aGlzLnJlc2l6ZVRPID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0ICAgICAgICAkKHRoaXMpLnRyaWdnZXIoJ3Jlc2l6ZUVuZCcpO1xuXHQgICAgfSwgMjAwKTtcblx0fSk7XG5cblx0JCh3aW5kb3cpLmJpbmQoJ3Jlc2l6ZUVuZCcsIGZ1bmN0aW9uKCkge1xuXHQgICAgLy9kbyBzb21ldGhpbmcsIHdpbmRvdyBoYXNuJ3QgY2hhbmdlZCBzaXplIGluIDUwMG1zXG5cdCAgICBsb2NhdGlvbi5yZWxvYWQoKTtcblx0fSk7XG5cblxuXHQkc2NvcGUucmVzZXRDbHVzdGVycyA9IGZ1bmN0aW9uKCl7XG4gICAgICBcdEZSQU1FLnZhbHVlICAgID0gMDtcbiAgICAgIFx0UEFHRV9OVU0udmFsdWUgPSAxO1xuXG4gICAgICBcdCRzY29wZS5tZWFuQWdlID0gNDguMDtcblxuICAgICAgXHRUV0VFTi5yZW1vdmVBbGwoKTsgLy8gcmVzZXQgdHdlZW4gYW5pbWF0aW9uc1xuXG4gICAgICBcdEVkZ2VNYW5hZ2VyQ2x1c3Rlci5yZXNldCgpO1xuICAgICAgXHROb2RlTWFuYWdlckNsdXN0ZXIucmVzZXQoKTtcblx0fVxuXG5cdCRzY29wZS5jbGVhbk1lcmdlUGF0aHMgPSBmdW5jdGlvbigpe1xuXG5cdFx0Ly8gdHVybiBvZmYgbm9kZXMgYW5kIGVkZ2VzIGV4Y2VwdCBtZXJnZVBhdGhJZFxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgTm9kZU1hbmFnZXJNZXJnZVBhdGhzLmxlbmd0aDsgaSsrKXtcblxuXHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBTRUxFQ1RFRF9NRVJHRVBBVEhJRFMubGVuZ3RoOyBqKyspe1xuXG5cdFx0XHRcdGlmIChTRUxFQ1RFRF9NRVJHRVBBVEhJRFNbal0gPT0gaSl7XG5cdFx0XHRcdFx0Tm9kZU1hbmFnZXJNZXJnZVBhdGhzW2ldLmNsZWFuKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0fVxuXHR9XG5cblx0JHNjb3BlLnJlc2V0TWVyZ2VQYXRocyA9IGZ1bmN0aW9uKCl7XG5cdFx0RlJBTUUudmFsdWUgICAgPSAwO1xuXHRcdFBBR0VfTlVNLnZhbHVlID0gMjtcblxuXHRcdFRXRUVOLnJlbW92ZUFsbCgpOyAvLyByZXNldCB0d2VlbiBhbmltYXRpb25zXG5cblx0XHQvLyB0dXJuIG9mZiBub2RlcyBhbmQgZWRnZXMgZXhjZXB0IG1lcmdlUGF0aElkXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBOb2RlTWFuYWdlck1lcmdlUGF0aHMubGVuZ3RoOyBpKyspe1xuXG5cdFx0XHRmb3IgKHZhciBqID0gMDsgaiA8IFNFTEVDVEVEX01FUkdFUEFUSElEUy5sZW5ndGg7IGorKyl7XG5cblx0XHRcdFx0aWYgKFNFTEVDVEVEX01FUkdFUEFUSElEU1tqXSA9PSBpKXtcblx0XHRcdFx0XHROb2RlTWFuYWdlck1lcmdlUGF0aHNbaV0ucmVzZXQoKTtcblx0XHRcdFx0XHRFZGdlTWFuYWdlck1lcmdlUGF0aHNbaV0ucmVzZXQoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBzZXREYXRhR3VpSW5pdGlhbGl6ZSgpe1xuXG5cdCAgICB2YXIgcmVuZGVyT3B0aW9uc1VJID0gZnVuY3Rpb24oKSB7XG5cblx0ICAgICAgdGhpcy5BZGRpdGl2ZUNvbG9yID0gdHJ1ZTtcblxuXHQgICAgICB0aGlzLlJlc3RhcnQgPSBmdW5jdGlvbigpIHsgXG5cblx0ICAgICAgXHQgLy8gcmVzdGFydCB0aGUgcGFnZVxuXHQgICAgICBcdCBsb2NhdGlvbi5yZWxvYWQoKTtcblxuXHQgICAgICB9O1xuXG5cdCAgICAgIHRoaXMuSGlkZU5vZGVzID0gZmFsc2U7XG5cblx0ICAgICAgdGhpcy5IaWRlTmFtZXMgPSBmYWxzZTtcblxuXHQgICAgfTtcblxuXHQgICAgUkVOREVST1BUSU9OUyBcdD0gbmV3IHJlbmRlck9wdGlvbnNVSSgpO1xuXHQgICAgdmFyIGd1aSAgXHRcdD0gbmV3IGRhdC5HVUkoKTtcblxuXHQgICAgdmFyIENsdXN0ZXJzR3JwID0gZ3VpLmFkZEZvbGRlcignQ2x1c3RlcnMnKTtcblx0XHR2YXIgQ2x1c3RlckhpZGVOb2RlcyA9IENsdXN0ZXJzR3JwLmFkZChSRU5ERVJPUFRJT05TLCAnSGlkZU5vZGVzJyk7XG5cblx0XHR2YXIgTWVyZ2VQYXRoR3JwID0gZ3VpLmFkZEZvbGRlcignTWVyZ2VQYXRocycpO1xuXHRcdHZhciBNZXJnZVBhdGhIaWRlTm9kZXMgPSBNZXJnZVBhdGhHcnAuYWRkKFJFTkRFUk9QVElPTlMsICdIaWRlTm9kZXMnKTtcblx0XHR2YXIgTWVyZ2VQYXRoSGlkZU5hbWVzID0gTWVyZ2VQYXRoR3JwLmFkZChSRU5ERVJPUFRJT05TLCAnSGlkZU5hbWVzJyk7XG5cblx0ICAgIENsdXN0ZXJIaWRlTm9kZXMub25GaW5pc2hDaGFuZ2UoZnVuY3Rpb24odmFsKSB7XG5cdCAgICBcdGlmICh2YWwgPT0gdHJ1ZSkge1xuXHRcdCAgICAgICAgTm9kZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZU5vZGVWaXNpYmlsaXR5KGZhbHNlKTtcblx0ICAgIFx0fVxuXHQgICAgXHRlbHNlIHtcblx0XHQgICAgICAgIE5vZGVNYW5hZ2VyQ2x1c3Rlci50b2dnbGVOb2RlVmlzaWJpbGl0eSh0cnVlKTtcblx0ICAgIFx0fVxuXHQgICAgfSk7XG5cblx0ICAgXHRNZXJnZVBhdGhIaWRlTm9kZXMub25GaW5pc2hDaGFuZ2UoZnVuY3Rpb24odmFsKSB7XG5cdCAgICBcdGlmICh2YWwgPT0gdHJ1ZSkge1xuXHQgICAgICAgIFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBOb2RlTWFuYWdlck1lcmdlUGF0aHMubGVuZ3RoOyBpKyspe1xuXG5cdFx0ICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgU0VMRUNURURfTUVSR0VQQVRISURTLmxlbmd0aDsgaisrKXtcblxuXHRcdCAgICAgICAgICAgIGlmIChTRUxFQ1RFRF9NRVJHRVBBVEhJRFNbal0gPT09IGkpXG5cdFx0ICAgICAgICAgICAgICBOb2RlTWFuYWdlck1lcmdlUGF0aHNbaV0udG9nZ2xlTm9kZVZpc2liaWxpdHkoZmFsc2UpO1xuXG5cdFx0ICAgICAgICAgIH1cblx0XHQgICAgICAgICAgXG5cdFx0ICAgICAgICB9XG5cdCAgICBcdH1cblx0ICAgIFx0ZWxzZSB7XG5cdCAgICAgICAgXHRmb3IgKHZhciBpID0gMDsgaSA8IE5vZGVNYW5hZ2VyTWVyZ2VQYXRocy5sZW5ndGg7IGkrKyl7XG5cblx0XHQgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBTRUxFQ1RFRF9NRVJHRVBBVEhJRFMubGVuZ3RoOyBqKyspe1xuXG5cdFx0ICAgICAgICAgICAgaWYgKFNFTEVDVEVEX01FUkdFUEFUSElEU1tqXSA9PT0gaSlcblx0XHQgICAgICAgICAgICAgIE5vZGVNYW5hZ2VyTWVyZ2VQYXRoc1tpXS50b2dnbGVOb2RlVmlzaWJpbGl0eSh0cnVlKTtcblxuXHRcdCAgICAgICAgICB9XG5cblx0XHQgICAgICAgIH1cblx0XHQgICAgfVxuXHQgICAgfSk7XG5cblx0ICAgIE1lcmdlUGF0aEhpZGVOYW1lcy5vbkZpbmlzaENoYW5nZShmdW5jdGlvbih2YWwpIHtcblx0ICAgIFx0aWYgKHZhbCA9PSB0cnVlKSB7XG5cdCAgICBcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBOb2RlTWFuYWdlck1lcmdlUGF0aHMubGVuZ3RoOyBpKyspe1xuXG5cdFx0ICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgU0VMRUNURURfTUVSR0VQQVRISURTLmxlbmd0aDsgaisrKXtcblxuXHRcdCAgICAgICAgICAgIGlmIChTRUxFQ1RFRF9NRVJHRVBBVEhJRFNbal0gPT09IGkpXG5cdFx0ICAgICAgICAgICAgICBOb2RlTWFuYWdlck1lcmdlUGF0aHNbaV0udG9nZ2xlTm9kZVRleHRWaXNpYmlsaXR5KGZhbHNlKTtcblxuXHRcdCAgICAgICAgICB9XG5cdFx0ICAgICAgICB9XG5cdCAgICBcdH1cblx0ICAgIFx0ZWxzZSB7XG5cdCAgICBcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBOb2RlTWFuYWdlck1lcmdlUGF0aHMubGVuZ3RoOyBpKyspe1xuXG5cdFx0ICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgU0VMRUNURURfTUVSR0VQQVRISURTLmxlbmd0aDsgaisrKXtcblxuXHRcdCAgICAgICAgICAgIGlmIChTRUxFQ1RFRF9NRVJHRVBBVEhJRFNbal0gPT09IGkpXG5cdFx0ICAgICAgICAgICAgICBOb2RlTWFuYWdlck1lcmdlUGF0aHNbaV0udG9nZ2xlTm9kZVRleHRWaXNpYmlsaXR5KHRydWUpO1xuXG5cdFx0ICAgICAgICAgIH1cblx0XHQgICAgICAgIH1cblx0ICAgIFx0fVxuXHQgICAgfSk7XG5cblx0ICAgIGd1aS5hZGQoUkVOREVST1BUSU9OUywgJ1Jlc3RhcnQnKTtcblxuXHR9XG4gIFx0c2V0RGF0YUd1aUluaXRpYWxpemUoKTtcbn0pOyIsIlxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29uZmlnKGZ1bmN0aW9uICgkcm91dGVQcm92aWRlcil7XG5cdCRyb3V0ZVByb3ZpZGVyXG5cdC53aGVuKCcvbWVyZ2VwYXRocycsIFxuXHRcdHtcblx0XHRcdHRlbXBsYXRlVXJsOiAnL3RlbXBsYXRlcy9tZXJnZXBhdGhzLmh0bWwnLFxuXHRcdFx0Y29udHJvbGxlcjogJ01lcmdlUGF0aEN0cmwnXG5cdFx0fSlcblx0LndoZW4oJy9jbHVzdGVycycsIFxuXHRcdHtcblx0XHRcdHRlbXBsYXRlVXJsOiAnL3RlbXBsYXRlcy9jbHVzdGVycy5odG1sJyxcblx0XHRcdGNvbnRyb2xsZXI6ICdDbHVzdGVyQ3RybCdcblx0XHR9KVxuXHQud2hlbignL2ludHJvJywgXG5cdFx0e1xuXHRcdFx0dGVtcGxhdGVVcmw6ICcvdGVtcGxhdGVzL2ludHJvLmh0bWwnLFxuXHRcdFx0Y29udHJvbGxlcjogJ0ludHJvQ3RybCdcblx0XHR9KVxuXHQub3RoZXJ3aXNlKFxuXHRcdHtcbiAgIFx0XHRcdHJlZGlyZWN0VG86ICcvaW50cm8nXG5cdFx0fSk7XG5cbn0pO1xuIiwiXG5hbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdDbHVzdGVyQ3RybCcsIGZ1bmN0aW9uKCRyb290U2NvcGUsICRzY29wZSwgJHdpbmRvdyl7XG5cbiAgZnVuY3Rpb24gc2V0UGFnZU51bSgpe1xuICAgIFBBR0VfTlVNLnZhbHVlID0gMTsgLy8gMSAtIGNsdXN0ZXJcbiAgfVxuICBzZXRQYWdlTnVtKCk7XG5cblxuICBmdW5jdGlvbiBzZXRWaXNpYmlsaXR5KCl7XG4gICAgJCgnLmRhdGEtdmlzaWJpbGl0eScpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgfVxuICBzZXRWaXNpYmlsaXR5KCk7XG5cblxuICAkc2NvcGUudXBkYXRlTWVhbkFnZSA9IGZ1bmN0aW9uKCl7XG4gICAgaWYgKEZSQU1FLnZhbHVlID4gNDIwIHx8IFBBR0VfTlVNLnZhbHVlICE9IDEpXG4gICAgICByZXR1cm47XG5cbiAgdmFyIG5ld01lYW5BZ2UgPSBtYXBSYW5nZShbMCwgNDAwLjBdLCBbMzguMiwgODEuM10sIEZSQU1FLnZhbHVlKTtcbiAgICAkc2NvcGUubWVhbkFnZS52YWx1ZSA9IE1hdGguY2VpbChuZXdNZWFuQWdlKTtcbiAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCRzY29wZS51cGRhdGVNZWFuQWdlKTtcbiAgfVxuICAkc2NvcGUudXBkYXRlTWVhbkFnZSgpO1xuXG5cbiAgLy8gcmVzZXQgYW5pbWF0aW9uLlxuICAkKCcjYnRuLXJlc2V0LWNsdXN0ZXJzJykuY2xpY2soZnVuY3Rpb24oKSB7XG5cbiAgICAkc2NvcGUucmVzZXRDbHVzdGVycygpO1xuXG4gIH0pO1xuXG4gIC8qXG4gIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveC1oaWRlLW5vZGVzLWNsdXN0ZXJzJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgIE5vZGVNYW5hZ2VyQ2x1c3Rlci50b2dnbGVOb2RlVmlzaWJpbGl0eSh0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcbiAgICAgICAgTm9kZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZU5vZGVWaXNpYmlsaXR5KGZhbHNlKTtcbiAgICAgIH1cbiAgfSk7XG4gICovXG5cbiBcdC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveF9jX2FsbCcpLmNoYW5nZShmdW5jdGlvbigpIHtcblxuICAgIHZhciB0b2dnbGVWYWwgPSAkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIik7XG5cblx0XHQkKCcjY2hlY2tib3hfYzAnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTtcblx0XHQkKCcjY2hlY2tib3hfYzAnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHQkKCcjY2hlY2tib3hfYzEnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTtcblx0XHQkKCcjY2hlY2tib3hfYzEnKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHQkKCcjY2hlY2tib3hfYzInKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTtcblx0XHQkKCcjY2hlY2tib3hfYzInKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHQkKCcjY2hlY2tib3hfYzMnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTsgXG5cdFx0JCgnI2NoZWNrYm94X2MzJykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0JCgnI2NoZWNrYm94X2M0JykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7XG5cdFx0JCgnI2NoZWNrYm94X2M0JykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0JCgnI2NoZWNrYm94X2M1JykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7XG5cdFx0JCgnI2NoZWNrYm94X2M1JykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0JCgnI2NoZWNrYm94X2M2JykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7XG5cdFx0JCgnI2NoZWNrYm94X2M2JykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0JCgnI2NoZWNrYm94X2M3JykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7IFxuXHRcdCQoJyNjaGVja2JveF9jNycpLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHRcdCQoJyNjaGVja2JveF9jOCcpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpO1xuXHRcdCQoJyNjaGVja2JveF9jOCcpLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHRcdCQoJyNjaGVja2JveF9jOScpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpO1xuXHRcdCQoJyNjaGVja2JveF9jOScpLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHRcdCQoJyNjaGVja2JveF9jMTAnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTtcblx0XHQkKCcjY2hlY2tib3hfYzEwJykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0JCgnI2NoZWNrYm94X2MxMScpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpOyBcblx0XHQkKCcjY2hlY2tib3hfYzExJykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0JCgnI2NoZWNrYm94X2MxMicpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpO1xuXHRcdCQoJyNjaGVja2JveF9jMTInKS50cmlnZ2VyKCdjaGFuZ2UnKTtcblx0XHQkKCcjY2hlY2tib3hfYzEzJykucHJvcCgnY2hlY2tlZCcsIHRvZ2dsZVZhbCk7XG5cdFx0JCgnI2NoZWNrYm94X2MxMycpLnRyaWdnZXIoJ2NoYW5nZScpO1xuXHRcdCQoJyNjaGVja2JveF9jMTQnKS5wcm9wKCdjaGVja2VkJywgdG9nZ2xlVmFsKTtcblx0XHQkKCcjY2hlY2tib3hfYzE0JykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0JCgnI2NoZWNrYm94X2MxNScpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpOyBcblx0XHQkKCcjY2hlY2tib3hfYzE1JykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0JCgnI2NoZWNrYm94X2MxNicpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpOyBcblx0XHQkKCcjY2hlY2tib3hfYzE2JykudHJpZ2dlcignY2hhbmdlJyk7XG5cdFx0JCgnI2NoZWNrYm94X2MxNycpLnByb3AoJ2NoZWNrZWQnLCB0b2dnbGVWYWwpOyBcblx0XHQkKCcjY2hlY2tib3hfYzE3JykudHJpZ2dlcignY2hhbmdlJyk7ICBcblxuICB9KTtcblxuICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAkKCcjY2hlY2tib3hfYzAnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMCwgdHJ1ZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlXG4gICAgICB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDAsIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigwLCBmYWxzZSk7XG4gICAgICB9XG4gIH0pO1xuXG4gICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAkKCcjY2hlY2tib3hfYzEnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMSwgdHJ1ZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlXG4gICAgICB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDEsIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxLCBmYWxzZSk7XG4gICAgICB9XG4gIH0pO1xuICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgJCgnI2NoZWNrYm94X2MyJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKFwiY2hlY2tib3ghXCIpO1xuICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDIsIHRydWUpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDIsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigyLCBmYWxzZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMiwgZmFsc2UpO1xuICAgICAgfVxuICB9KTtcbiAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveF9jMycpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigzLCB0cnVlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigzLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMywgZmFsc2UpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDMsIGZhbHNlKTtcbiAgICAgIH1cbiAgfSk7XG4gICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAkKCcjY2hlY2tib3hfYzQnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNCwgdHJ1ZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlXG4gICAgICB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDQsIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig0LCBmYWxzZSk7XG4gICAgICB9XG4gIH0pO1xuXG4gICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAkKCcjY2hlY2tib3hfYzUnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNSwgdHJ1ZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNSwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlXG4gICAgICB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDUsIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig1LCBmYWxzZSk7XG4gICAgICB9XG4gIH0pO1xuXG4gICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgJCgnI2NoZWNrYm94X2M2JykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKFwiY2hlY2tib3ghXCIpO1xuICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDYsIHRydWUpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDYsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig2LCBmYWxzZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNiwgZmFsc2UpO1xuICAgICAgfVxuICB9KTtcblxuICAgICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveF9jNycpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig3LCB0cnVlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig3LCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoNywgZmFsc2UpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDcsIGZhbHNlKTtcbiAgICAgIH1cbiAgfSk7XG5cbiAgICAgICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAkKCcjY2hlY2tib3hfYzgnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoOCwgdHJ1ZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoOCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlXG4gICAgICB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDgsIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig4LCBmYWxzZSk7XG4gICAgICB9XG4gIH0pO1xuXG4gICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgJCgnI2NoZWNrYm94X2M5JykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKFwiY2hlY2tib3ghXCIpO1xuICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDksIHRydWUpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDksIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3Rlcig5LCBmYWxzZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoOSwgZmFsc2UpO1xuICAgICAgfVxuICB9KTtcblxuICAgICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveF9jMTAnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTAsIHRydWUpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDEwLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTAsIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMCwgZmFsc2UpO1xuICAgICAgfVxuICB9KTtcblxuICAgICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveF9jMTEnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTEsIHRydWUpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDExLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTEsIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMSwgZmFsc2UpO1xuICAgICAgfVxuICB9KTtcblxuICAgICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveF9jMTInKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTIsIHRydWUpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDEyLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTIsIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMiwgZmFsc2UpO1xuICAgICAgfVxuICB9KTtcblxuICAgICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveF9jMTMnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTMsIHRydWUpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDEzLCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTMsIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxMywgZmFsc2UpO1xuICAgICAgfVxuICB9KTtcblxuICAgICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveF9jMTQnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTQsIHRydWUpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDE0LCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTQsIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNCwgZmFsc2UpO1xuICAgICAgfVxuICB9KTtcbiAgICAgICAgICAgICAgLy9zZXQgaW5pdGlhbCBzdGF0ZS5cbiAgJCgnI2NoZWNrYm94X2MxNScpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICBjb25zb2xlLmxvZyhcImNoZWNrYm94IVwiKTtcbiAgICAgIGlmKCQodGhpcykuaXMoXCI6Y2hlY2tlZFwiKSkge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNSwgdHJ1ZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTUsIHRydWUpO1xuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAge1xuICAgICAgICBFZGdlTWFuYWdlckNsdXN0ZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNSwgZmFsc2UpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDE1LCBmYWxzZSk7XG4gICAgICB9XG4gIH0pO1xuICAgICAgICAgICAgICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAkKCcjY2hlY2tib3hfYzE2JykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKFwiY2hlY2tib3ghXCIpO1xuICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDE2LCB0cnVlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNiwgdHJ1ZSk7XG4gICAgICB9XG4gICAgICBlbHNlXG4gICAgICB7XG4gICAgICAgIEVkZ2VNYW5hZ2VyQ2x1c3Rlci50b2dnbGVTaG93QnlDbHVzdGVyKDE2LCBmYWxzZSk7XG4gICAgICAgIC8vZXRhZ2VNYW5hZ2VyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTYsIGZhbHNlKTtcbiAgICAgIH1cbiAgfSk7XG5cbiAgICAgICAgICAgICAgICAgIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gICQoJyNjaGVja2JveF9jMTcnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgY29uc29sZS5sb2coXCJjaGVja2JveCFcIik7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTcsIHRydWUpO1xuICAgICAgICAvL2V0YWdlTWFuYWdlci50b2dnbGVTaG93QnlDbHVzdGVyKDE3LCB0cnVlKTtcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcbiAgICAgICAgRWRnZU1hbmFnZXJDbHVzdGVyLnRvZ2dsZVNob3dCeUNsdXN0ZXIoMTcsIGZhbHNlKTtcbiAgICAgICAgLy9ldGFnZU1hbmFnZXIudG9nZ2xlU2hvd0J5Q2x1c3RlcigxNywgZmFsc2UpO1xuICAgICAgfVxuICB9KTtcblxufSk7IiwiXG5hbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb250cm9sbGVyKCdJbnRyb0N0cmwnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsICR3aW5kb3cpe1xuXG5cdGZ1bmN0aW9uIHNldFBhZ2VOdW0oKXtcbiAgICBcdFBBR0VfTlVNLnZhbHVlID0gMDtcbiAgXHR9XG4gIFx0c2V0UGFnZU51bSgpO1xuXG5cblx0ZnVuY3Rpb24gc2V0VmlzaWJpbGl0eSgpe1xuXHRcdCQoJy5kYXRhLXZpc2liaWxpdHknKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cdH1cblx0c2V0VmlzaWJpbGl0eSgpO1xuXG59KTsiLCJcbmFuZ3VsYXIubW9kdWxlKCdhcHAnKVxuLmNvbnRyb2xsZXIoJ01lcmdlUGF0aEN0cmwnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkc2NvcGUsICR3aW5kb3cpe1xuXG4gIGZ1bmN0aW9uIHNldFBhZ2VOdW0oKXtcblxuICAgIFBBR0VfTlVNLnZhbHVlID0gMjtcblxuICB9XG4gIHNldFBhZ2VOdW0oKTtcblxuICBmdW5jdGlvbiBzZXRWaXNpYmlsaXR5KCl7XG5cbiAgICAkKCcuZGF0YS12aXNpYmlsaXR5JykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gIH1cbiAgc2V0VmlzaWJpbGl0eSgpO1xuXG5cblxuICAvLyByZXNldCBhbmltYXRpb24uXG4gICQoJyNidG4tcmVzZXQtbWVyZ2VwYXRocycpLmNsaWNrKGZ1bmN0aW9uKCkge1xuXG4gICAgJHNjb3BlLnJlc2V0TWVyZ2VQYXRocygpOyBcblxuICB9KTtcblxuXG5cbiAgJCgnI2J0bi1ydW4tbWVyZ2VwYXRocycpLmNsaWNrKGZ1bmN0aW9uKCkge1xuXG4gICAgdmFyIGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0ZXh0aW5mby1tZXJnZXBhdGhpZHNcIikudmFsdWU7XG4gICAgdmFyIGFycmF5ID0gaW5wdXQuc3BsaXQoJyAnKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspe1xuXG4gICAgICB0cnkge1xuICAgICAgICB2YXIgbWVyZ2VQYXRoSWQgPSBwYXJzZUludChhcnJheVtpXSk7XG4gICAgICAgIGlmIChpc05hTihtZXJnZVBhdGhJZCkpe1xuICAgICAgICAgIGRlbGV0ZSBhcnJheVtpXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhcnJheVtpXSA9IG1lcmdlUGF0aElkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYXRjaChlcnIpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zb2xlLmxvZygnU2hvdyBtZXJnZXBhdGhpZHMgOiAnLCBhcnJheSk7XG4gICAgJHNjb3BlLmNsZWFuTWVyZ2VQYXRocygpO1xuICAgIFNFTEVDVEVEX01FUkdFUEFUSElEUyA9IGFycmF5O1xuICAgICRzY29wZS5tZXJnZVBhdGhJZHMudmFsdWUgPSBhcnJheTtcbiAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgJHNjb3BlLnJlc2V0TWVyZ2VQYXRocygpO1xuICB9KVxuXG4gIC8vc2V0IGluaXRpYWwgc3RhdGUuXG4gIC8qXG4gICQoJyNjaGVja2JveC1oaWRlLW5vZGVzLW1lcmdlcGF0aHMnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG4gICAgICBpZigkKHRoaXMpLmlzKFwiOmNoZWNrZWRcIikpIHtcblxuICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOb2RlTWFuYWdlck1lcmdlUGF0aHMubGVuZ3RoOyBpKyspe1xuXG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBTRUxFQ1RFRF9NRVJHRVBBVEhJRFMubGVuZ3RoOyBqKyspe1xuXG4gICAgICAgICAgICBpZiAoU0VMRUNURURfTUVSR0VQQVRISURTW2pdID09PSBpKVxuICAgICAgICAgICAgICBOb2RlTWFuYWdlck1lcmdlUGF0aHNbaV0udG9nZ2xlTm9kZVZpc2liaWxpdHkodHJ1ZSk7XG5cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICB9XG4gICAgICAgIFxuICAgICAgfVxuICAgICAgZWxzZVxuICAgICAge1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTm9kZU1hbmFnZXJNZXJnZVBhdGhzLmxlbmd0aDsgaSsrKXtcblxuICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgU0VMRUNURURfTUVSR0VQQVRISURTLmxlbmd0aDsgaisrKXtcblxuICAgICAgICAgICAgaWYgKFNFTEVDVEVEX01FUkdFUEFUSElEU1tqXSA9PT0gaSlcbiAgICAgICAgICAgICAgTm9kZU1hbmFnZXJNZXJnZVBhdGhzW2ldLnRvZ2dsZU5vZGVWaXNpYmlsaXR5KGZhbHNlKTtcblxuICAgICAgICAgIH1cblxuICAgICAgICAgfVxuXG4gICAgICB9XG4gIH0pO1xuKi9cblxuICAvL3NldCBpbml0aWFsIHN0YXRlLlxuICAkKCcjY2hlY2tib3gtaGlkZS1uYW1lcy1tZXJnZXBhdGhzJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgaWYoJCh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG5cbiAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTm9kZU1hbmFnZXJNZXJnZVBhdGhzLmxlbmd0aDsgaSsrKXtcblxuICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgU0VMRUNURURfTUVSR0VQQVRISURTLmxlbmd0aDsgaisrKXtcblxuICAgICAgICAgICAgaWYgKFNFTEVDVEVEX01FUkdFUEFUSElEU1tqXSA9PT0gaSlcbiAgICAgICAgICAgICAgTm9kZU1hbmFnZXJNZXJnZVBhdGhzW2ldLnRvZ2dsZU5vZGVUZXh0VmlzaWJpbGl0eSh0cnVlKTtcblxuICAgICAgICAgIH1cblxuICAgICAgICAgfVxuICAgICAgICBcbiAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgIHtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5vZGVNYW5hZ2VyTWVyZ2VQYXRocy5sZW5ndGg7IGkrKyl7XG5cbiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IFNFTEVDVEVEX01FUkdFUEFUSElEUy5sZW5ndGg7IGorKyl7XG5cbiAgICAgICAgICAgIGlmIChTRUxFQ1RFRF9NRVJHRVBBVEhJRFNbal0gPT09IGkpXG4gICAgICAgICAgICAgIE5vZGVNYW5hZ2VyTWVyZ2VQYXRoc1tpXS50b2dnbGVOb2RlVGV4dFZpc2liaWxpdHkoZmFsc2UpO1xuXG4gICAgICAgICAgfVxuXG4gICAgICAgICB9XG5cbiAgICAgIH1cbiAgfSk7XG4gIFxufSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9